var hd=e=>{throw TypeError(e)};var Zi=(e,t,n)=>t.has(e)||hd("Cannot "+n);var N=(e,t,n)=>(Zi(e,t,"read from private field"),n?n.call(e):t.get(e)),Y=(e,t,n)=>t.has(e)?hd("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),V=(e,t,n,s)=>(Zi(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),re=(e,t,n)=>(Zi(e,t,"access private method"),n);var da=(e,t,n,s)=>({set _(l){V(e,t,l,n)},get _(){return N(e,t,s)}});function Kx(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const a=Object.getOwnPropertyDescriptor(s,l);a&&Object.defineProperty(e,l,a.get?a:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function Hx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Df={exports:{}},ki={},If={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xl=Symbol.for("react.element"),Jx=Symbol.for("react.portal"),Gx=Symbol.for("react.fragment"),Xx=Symbol.for("react.strict_mode"),Yx=Symbol.for("react.profiler"),Zx=Symbol.for("react.provider"),e0=Symbol.for("react.context"),t0=Symbol.for("react.forward_ref"),n0=Symbol.for("react.suspense"),s0=Symbol.for("react.memo"),r0=Symbol.for("react.lazy"),fd=Symbol.iterator;function l0(e){return e===null||typeof e!="object"?null:(e=fd&&e[fd]||e["@@iterator"],typeof e=="function"?e:null)}var Mf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ff=Object.assign,Of={};function Br(e,t,n){this.props=e,this.context=t,this.refs=Of,this.updater=n||Mf}Br.prototype.isReactComponent={};Br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Af(){}Af.prototype=Br.prototype;function nu(e,t,n){this.props=e,this.context=t,this.refs=Of,this.updater=n||Mf}var su=nu.prototype=new Af;su.constructor=nu;Ff(su,Br.prototype);su.isPureReactComponent=!0;var pd=Array.isArray,_f=Object.prototype.hasOwnProperty,ru={current:null},Uf={key:!0,ref:!0,__self:!0,__source:!0};function zf(e,t,n){var s,l={},a=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)_f.call(t,s)&&!Uf.hasOwnProperty(s)&&(l[s]=t[s]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)l[s]===void 0&&(l[s]=o[s]);return{$$typeof:Xl,type:e,key:a,ref:i,props:l,_owner:ru.current}}function a0(e,t){return{$$typeof:Xl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xl}function i0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var md=/\/+/g;function eo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?i0(""+e.key):t.toString(36)}function Da(e,t,n,s,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Xl:case Jx:i=!0}}if(i)return i=e,l=l(i),e=s===""?"."+eo(i,0):s,pd(l)?(n="",e!=null&&(n=e.replace(md,"$&/")+"/"),Da(l,t,n,"",function(u){return u})):l!=null&&(lu(l)&&(l=a0(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(md,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=s===""?".":s+":",pd(e))for(var o=0;o<e.length;o++){a=e[o];var c=s+eo(a,o);i+=Da(a,t,n,c,l)}else if(c=l0(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=s+eo(a,o++),i+=Da(a,t,n,c,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ha(e,t,n){if(e==null)return e;var s=[],l=0;return Da(e,s,"","",function(a){return t.call(n,a,l++)}),s}function o0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},Ia={transition:null},c0={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:Ia,ReactCurrentOwner:ru};function Bf(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:ha,forEach:function(e,t,n){ha(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ha(e,function(){t++}),t},toArray:function(e){return ha(e,function(t){return t})||[]},only:function(e){if(!lu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=Br;ie.Fragment=Gx;ie.Profiler=Yx;ie.PureComponent=nu;ie.StrictMode=Xx;ie.Suspense=n0;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c0;ie.act=Bf;ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Ff({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=ru.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)_f.call(t,c)&&!Uf.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];s.children=o}return{$$typeof:Xl,type:e.type,key:l,ref:a,props:s,_owner:i}};ie.createContext=function(e){return e={$$typeof:e0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zx,_context:e},e.Consumer=e};ie.createElement=zf;ie.createFactory=function(e){var t=zf.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:t0,render:e}};ie.isValidElement=lu;ie.lazy=function(e){return{$$typeof:r0,_payload:{_status:-1,_result:e},_init:o0}};ie.memo=function(e,t){return{$$typeof:s0,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Ia.transition;Ia.transition={};try{e()}finally{Ia.transition=t}};ie.unstable_act=Bf;ie.useCallback=function(e,t){return ht.current.useCallback(e,t)};ie.useContext=function(e){return ht.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};ie.useEffect=function(e,t){return ht.current.useEffect(e,t)};ie.useId=function(){return ht.current.useId()};ie.useImperativeHandle=function(e,t,n){return ht.current.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return ht.current.useMemo(e,t)};ie.useReducer=function(e,t,n){return ht.current.useReducer(e,t,n)};ie.useRef=function(e){return ht.current.useRef(e)};ie.useState=function(e){return ht.current.useState(e)};ie.useSyncExternalStore=function(e,t,n){return ht.current.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return ht.current.useTransition()};ie.version="18.3.1";If.exports=ie;var w=If.exports;const $f=Hx(w),u0=Kx({__proto__:null,default:$f},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0=w,h0=Symbol.for("react.element"),f0=Symbol.for("react.fragment"),p0=Object.prototype.hasOwnProperty,m0=d0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x0={key:!0,ref:!0,__self:!0,__source:!0};function Qf(e,t,n){var s,l={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)p0.call(t,s)&&!x0.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:h0,type:e,key:a,ref:i,props:l,_owner:m0.current}}ki.Fragment=f0;ki.jsx=Qf;ki.jsxs=Qf;Df.exports=ki;var r=Df.exports,Fo={},qf={exports:{}},Dt={},Wf={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,A){var B=E.length;E.push(A);e:for(;0<B;){var Z=B-1>>>1,le=E[Z];if(0<l(le,A))E[Z]=A,E[B]=le,B=Z;else break e}}function n(E){return E.length===0?null:E[0]}function s(E){if(E.length===0)return null;var A=E[0],B=E.pop();if(B!==A){E[0]=B;e:for(var Z=0,le=E.length,pe=le>>>1;Z<pe;){var Se=2*(Z+1)-1,$e=E[Se],Ye=Se+1,St=E[Ye];if(0>l($e,B))Ye<le&&0>l(St,$e)?(E[Z]=St,E[Ye]=B,Z=Ye):(E[Z]=$e,E[Se]=B,Z=Se);else if(Ye<le&&0>l(St,B))E[Z]=St,E[Ye]=B,Z=Ye;else break e}}return A}function l(E,A){var B=E.sortIndex-A.sortIndex;return B!==0?B:E.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],h=1,d=null,g=3,j=!1,m=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(E){for(var A=n(u);A!==null;){if(A.callback===null)s(u);else if(A.startTime<=E)s(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function b(E){if(y=!1,x(E),!m)if(n(c)!==null)m=!0,T(R);else{var A=n(u);A!==null&&q(b,A.startTime-E)}}function R(E,A){m=!1,y&&(y=!1,f(P),P=-1),j=!0;var B=g;try{for(x(A),d=n(c);d!==null&&(!(d.expirationTime>A)||E&&!M());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,g=d.priorityLevel;var le=Z(d.expirationTime<=A);A=e.unstable_now(),typeof le=="function"?d.callback=le:d===n(c)&&s(c),x(A)}else s(c);d=n(c)}if(d!==null)var pe=!0;else{var Se=n(u);Se!==null&&q(b,Se.startTime-A),pe=!1}return pe}finally{d=null,g=B,j=!1}}var I=!1,S=null,P=-1,_=5,O=-1;function M(){return!(e.unstable_now()-O<_)}function Q(){if(S!==null){var E=e.unstable_now();O=E;var A=!0;try{A=S(!0,E)}finally{A?J():(I=!1,S=null)}}else I=!1}var J;if(typeof p=="function")J=function(){p(Q)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,k=X.port2;X.port1.onmessage=Q,J=function(){k.postMessage(null)}}else J=function(){v(Q,0)};function T(E){S=E,I||(I=!0,J())}function q(E,A){P=v(function(){E(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){m||j||(m=!0,T(R))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(g){case 1:case 2:case 3:var A=3;break;default:A=g}var B=g;g=A;try{return E()}finally{g=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,A){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var B=g;g=E;try{return A()}finally{g=B}},e.unstable_scheduleCallback=function(E,A,B){var Z=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Z+B:Z):B=Z,E){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=B+le,E={id:h++,callback:A,priorityLevel:E,startTime:B,expirationTime:le,sortIndex:-1},B>Z?(E.sortIndex=B,t(u,E),n(c)===null&&E===n(u)&&(y?(f(P),P=-1):y=!0,q(b,B-Z))):(E.sortIndex=le,t(c,E),m||j||(m=!0,T(R))),E},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(E){var A=g;return function(){var B=g;g=A;try{return E.apply(this,arguments)}finally{g=B}}}})(Vf);Wf.exports=Vf;var g0=Wf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0=w,Rt=g0;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kf=new Set,wl={};function Hs(e,t){Dr(e,t),Dr(e+"Capture",t)}function Dr(e,t){for(wl[e]=t,e=0;e<t.length;e++)Kf.add(t[e])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=Object.prototype.hasOwnProperty,v0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xd={},gd={};function b0(e){return Oo.call(gd,e)?!0:Oo.call(xd,e)?!1:v0.test(e)?gd[e]=!0:(xd[e]=!0,!1)}function j0(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N0(e,t,n,s){if(t===null||typeof t>"u"||j0(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,n,s,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xe[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xe[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xe[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xe[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xe[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xe[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xe[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xe[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xe[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var au=/[\-:]([a-z])/g;function iu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(au,iu);Xe[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(au,iu);Xe[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(au,iu);Xe[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xe[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xe[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function ou(e,t,n,s){var l=Xe.hasOwnProperty(t)?Xe[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N0(t,n,l,s)&&(n=null),s||l===null?b0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Ln=y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fa=Symbol.for("react.element"),nr=Symbol.for("react.portal"),sr=Symbol.for("react.fragment"),cu=Symbol.for("react.strict_mode"),Ao=Symbol.for("react.profiler"),Hf=Symbol.for("react.provider"),Jf=Symbol.for("react.context"),uu=Symbol.for("react.forward_ref"),_o=Symbol.for("react.suspense"),Uo=Symbol.for("react.suspense_list"),du=Symbol.for("react.memo"),In=Symbol.for("react.lazy"),Gf=Symbol.for("react.offscreen"),yd=Symbol.iterator;function Jr(e){return e===null||typeof e!="object"?null:(e=yd&&e[yd]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,to;function il(e){if(to===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);to=t&&t[1]||""}return`
`+to+e}var no=!1;function so(e,t){if(!e||no)return"";no=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),a=s.stack.split(`
`),i=l.length-1,o=a.length-1;1<=i&&0<=o&&l[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==a[o]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{no=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?il(e):""}function w0(e){switch(e.tag){case 5:return il(e.type);case 16:return il("Lazy");case 13:return il("Suspense");case 19:return il("SuspenseList");case 0:case 2:case 15:return e=so(e.type,!1),e;case 11:return e=so(e.type.render,!1),e;case 1:return e=so(e.type,!0),e;default:return""}}function zo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sr:return"Fragment";case nr:return"Portal";case Ao:return"Profiler";case cu:return"StrictMode";case _o:return"Suspense";case Uo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jf:return(e.displayName||"Context")+".Consumer";case Hf:return(e._context.displayName||"Context")+".Provider";case uu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case du:return t=e.displayName||null,t!==null?t:zo(e.type)||"Memo";case In:t=e._payload,e=e._init;try{return zo(e(t))}catch{}}return null}function S0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zo(t);case 8:return t===cu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function os(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function C0(e){var t=Xf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){s=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pa(e){e._valueTracker||(e._valueTracker=C0(e))}function Yf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Xf(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Ga(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bo(e,t){var n=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vd(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=os(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zf(e,t){t=t.checked,t!=null&&ou(e,"checked",t,!1)}function $o(e,t){Zf(e,t);var n=os(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qo(e,t.type,os(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qo(e,t,n){(t!=="number"||Ga(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ol=Array.isArray;function pr(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+os(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function qo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(ol(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:os(n)}}function ep(e,t){var n=os(t.value),s=os(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Nd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ma,np=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ma=ma||document.createElement("div"),ma.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ma.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},k0=["Webkit","ms","Moz","O"];Object.keys(hl).forEach(function(e){k0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hl[t]=hl[e]})});function sp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hl.hasOwnProperty(e)&&hl[e]?(""+t).trim():t+"px"}function rp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=sp(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var P0=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vo(e,t){if(t){if(P0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Ko(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ho=null;function hu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jo=null,mr=null,xr=null;function wd(e){if(e=ea(e)){if(typeof Jo!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Ri(t),Jo(e.stateNode,e.type,t))}}function lp(e){mr?xr?xr.push(e):xr=[e]:mr=e}function ap(){if(mr){var e=mr,t=xr;if(xr=mr=null,wd(e),t)for(e=0;e<t.length;e++)wd(t[e])}}function ip(e,t){return e(t)}function op(){}var ro=!1;function cp(e,t,n){if(ro)return e(t,n);ro=!0;try{return ip(e,t,n)}finally{ro=!1,(mr!==null||xr!==null)&&(op(),ap())}}function Cl(e,t){var n=e.stateNode;if(n===null)return null;var s=Ri(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var Go=!1;if(Cn)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){Go=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{Go=!1}function E0(e,t,n,s,l,a,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var fl=!1,Xa=null,Ya=!1,Xo=null,L0={onError:function(e){fl=!0,Xa=e}};function T0(e,t,n,s,l,a,i,o,c){fl=!1,Xa=null,E0.apply(L0,arguments)}function R0(e,t,n,s,l,a,i,o,c){if(T0.apply(this,arguments),fl){if(fl){var u=Xa;fl=!1,Xa=null}else throw Error(U(198));Ya||(Ya=!0,Xo=u)}}function Js(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function up(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sd(e){if(Js(e)!==e)throw Error(U(188))}function D0(e){var t=e.alternate;if(!t){if(t=Js(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return Sd(l),e;if(a===s)return Sd(l),t;a=a.sibling}throw Error(U(188))}if(n.return!==s.return)n=l,s=a;else{for(var i=!1,o=l.child;o;){if(o===n){i=!0,n=l,s=a;break}if(o===s){i=!0,s=l,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,s=l;break}if(o===s){i=!0,s=a,n=l;break}o=o.sibling}if(!i)throw Error(U(189))}}if(n.alternate!==s)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function dp(e){return e=D0(e),e!==null?hp(e):null}function hp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hp(e);if(t!==null)return t;e=e.sibling}return null}var fp=Rt.unstable_scheduleCallback,Cd=Rt.unstable_cancelCallback,I0=Rt.unstable_shouldYield,M0=Rt.unstable_requestPaint,Fe=Rt.unstable_now,F0=Rt.unstable_getCurrentPriorityLevel,fu=Rt.unstable_ImmediatePriority,pp=Rt.unstable_UserBlockingPriority,Za=Rt.unstable_NormalPriority,O0=Rt.unstable_LowPriority,mp=Rt.unstable_IdlePriority,Pi=null,dn=null;function A0(e){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(Pi,e,void 0,(e.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:z0,_0=Math.log,U0=Math.LN2;function z0(e){return e>>>=0,e===0?32:31-(_0(e)/U0|0)|0}var xa=64,ga=4194304;function cl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ei(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~l;o!==0?s=cl(o):(a&=i,a!==0&&(s=cl(a)))}else i=n&~l,i!==0?s=cl(i):a!==0&&(s=cl(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Xt(t),l=1<<n,s|=e[n],t&=~l;return s}function B0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $0(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Xt(a),o=1<<i,c=l[i];c===-1?(!(o&n)||o&s)&&(l[i]=B0(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function Yo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xp(){var e=xa;return xa<<=1,!(xa&4194240)&&(xa=64),e}function lo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xt(t),e[t]=n}function Q0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Xt(n),a=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~a}}function pu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Xt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var ye=0;function gp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yp,mu,vp,bp,jp,Zo=!1,ya=[],Yn=null,Zn=null,es=null,kl=new Map,Pl=new Map,On=[],q0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kd(e,t){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":kl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(t.pointerId)}}function Xr(e,t,n,s,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[l]},t!==null&&(t=ea(t),t!==null&&mu(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function W0(e,t,n,s,l){switch(t){case"focusin":return Yn=Xr(Yn,e,t,n,s,l),!0;case"dragenter":return Zn=Xr(Zn,e,t,n,s,l),!0;case"mouseover":return es=Xr(es,e,t,n,s,l),!0;case"pointerover":var a=l.pointerId;return kl.set(a,Xr(kl.get(a)||null,e,t,n,s,l)),!0;case"gotpointercapture":return a=l.pointerId,Pl.set(a,Xr(Pl.get(a)||null,e,t,n,s,l)),!0}return!1}function Np(e){var t=Ns(e.target);if(t!==null){var n=Js(t);if(n!==null){if(t=n.tag,t===13){if(t=up(n),t!==null){e.blockedOn=t,jp(e.priority,function(){vp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ma(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ec(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Ho=s,n.target.dispatchEvent(s),Ho=null}else return t=ea(n),t!==null&&mu(t),e.blockedOn=n,!1;t.shift()}return!0}function Pd(e,t,n){Ma(e)&&n.delete(t)}function V0(){Zo=!1,Yn!==null&&Ma(Yn)&&(Yn=null),Zn!==null&&Ma(Zn)&&(Zn=null),es!==null&&Ma(es)&&(es=null),kl.forEach(Pd),Pl.forEach(Pd)}function Yr(e,t){e.blockedOn===t&&(e.blockedOn=null,Zo||(Zo=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,V0)))}function El(e){function t(l){return Yr(l,e)}if(0<ya.length){Yr(ya[0],e);for(var n=1;n<ya.length;n++){var s=ya[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Yn!==null&&Yr(Yn,e),Zn!==null&&Yr(Zn,e),es!==null&&Yr(es,e),kl.forEach(t),Pl.forEach(t),n=0;n<On.length;n++)s=On[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<On.length&&(n=On[0],n.blockedOn===null);)Np(n),n.blockedOn===null&&On.shift()}var gr=Ln.ReactCurrentBatchConfig,ti=!0;function K0(e,t,n,s){var l=ye,a=gr.transition;gr.transition=null;try{ye=1,xu(e,t,n,s)}finally{ye=l,gr.transition=a}}function H0(e,t,n,s){var l=ye,a=gr.transition;gr.transition=null;try{ye=4,xu(e,t,n,s)}finally{ye=l,gr.transition=a}}function xu(e,t,n,s){if(ti){var l=ec(e,t,n,s);if(l===null)xo(e,t,s,ni,n),kd(e,s);else if(W0(l,e,t,n,s))s.stopPropagation();else if(kd(e,s),t&4&&-1<q0.indexOf(e)){for(;l!==null;){var a=ea(l);if(a!==null&&yp(a),a=ec(e,t,n,s),a===null&&xo(e,t,s,ni,n),a===l)break;l=a}l!==null&&s.stopPropagation()}else xo(e,t,s,null,n)}}var ni=null;function ec(e,t,n,s){if(ni=null,e=hu(s),e=Ns(e),e!==null)if(t=Js(e),t===null)e=null;else if(n=t.tag,n===13){if(e=up(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ni=e,null}function wp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F0()){case fu:return 1;case pp:return 4;case Za:case O0:return 16;case mp:return 536870912;default:return 16}default:return 16}}var Kn=null,gu=null,Fa=null;function Sp(){if(Fa)return Fa;var e,t=gu,n=t.length,s,l="value"in Kn?Kn.value:Kn.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===l[a-s];s++);return Fa=l.slice(e,1<s?1-s:void 0)}function Oa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function va(){return!0}function Ed(){return!1}function It(e){function t(n,s,l,a,i){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?va:Ed,this.isPropagationStopped=Ed,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=va)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=va)},persist:function(){},isPersistent:va}),t}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yu=It($r),Zl=Le({},$r,{view:0,detail:0}),J0=It(Zl),ao,io,Zr,Ei=Le({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zr&&(Zr&&e.type==="mousemove"?(ao=e.screenX-Zr.screenX,io=e.screenY-Zr.screenY):io=ao=0,Zr=e),ao)},movementY:function(e){return"movementY"in e?e.movementY:io}}),Ld=It(Ei),G0=Le({},Ei,{dataTransfer:0}),X0=It(G0),Y0=Le({},Zl,{relatedTarget:0}),oo=It(Y0),Z0=Le({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),eg=It(Z0),tg=Le({},$r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ng=It(tg),sg=Le({},$r,{data:0}),Td=It(sg),rg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ag={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ig(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ag[e])?!!t[e]:!1}function vu(){return ig}var og=Le({},Zl,{key:function(e){if(e.key){var t=rg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vu,charCode:function(e){return e.type==="keypress"?Oa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cg=It(og),ug=Le({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rd=It(ug),dg=Le({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vu}),hg=It(dg),fg=Le({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),pg=It(fg),mg=Le({},Ei,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xg=It(mg),gg=[9,13,27,32],bu=Cn&&"CompositionEvent"in window,pl=null;Cn&&"documentMode"in document&&(pl=document.documentMode);var yg=Cn&&"TextEvent"in window&&!pl,Cp=Cn&&(!bu||pl&&8<pl&&11>=pl),Dd=" ",Id=!1;function kp(e,t){switch(e){case"keyup":return gg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rr=!1;function vg(e,t){switch(e){case"compositionend":return Pp(t);case"keypress":return t.which!==32?null:(Id=!0,Dd);case"textInput":return e=t.data,e===Dd&&Id?null:e;default:return null}}function bg(e,t){if(rr)return e==="compositionend"||!bu&&kp(e,t)?(e=Sp(),Fa=gu=Kn=null,rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cp&&t.locale!=="ko"?null:t.data;default:return null}}var jg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jg[e.type]:t==="textarea"}function Ep(e,t,n,s){lp(s),t=si(t,"onChange"),0<t.length&&(n=new yu("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ml=null,Ll=null;function Ng(e){Up(e,0)}function Li(e){var t=ir(e);if(Yf(t))return e}function wg(e,t){if(e==="change")return t}var Lp=!1;if(Cn){var co;if(Cn){var uo="oninput"in document;if(!uo){var Fd=document.createElement("div");Fd.setAttribute("oninput","return;"),uo=typeof Fd.oninput=="function"}co=uo}else co=!1;Lp=co&&(!document.documentMode||9<document.documentMode)}function Od(){ml&&(ml.detachEvent("onpropertychange",Tp),Ll=ml=null)}function Tp(e){if(e.propertyName==="value"&&Li(Ll)){var t=[];Ep(t,Ll,e,hu(e)),cp(Ng,t)}}function Sg(e,t,n){e==="focusin"?(Od(),ml=t,Ll=n,ml.attachEvent("onpropertychange",Tp)):e==="focusout"&&Od()}function Cg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Li(Ll)}function kg(e,t){if(e==="click")return Li(t)}function Pg(e,t){if(e==="input"||e==="change")return Li(t)}function Eg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:Eg;function Tl(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!Oo.call(t,l)||!en(e[l],t[l]))return!1}return!0}function Ad(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _d(e,t){var n=Ad(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ad(n)}}function Rp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dp(){for(var e=window,t=Ga();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ga(e.document)}return t}function ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Lg(e){var t=Dp(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Rp(n.ownerDocument.documentElement,n)){if(s!==null&&ju(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(s.start,l);s=s.end===void 0?a:Math.min(s.end,l),!e.extend&&a>s&&(l=s,s=a,a=l),l=_d(n,a);var i=_d(n,s);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tg=Cn&&"documentMode"in document&&11>=document.documentMode,lr=null,tc=null,xl=null,nc=!1;function Ud(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nc||lr==null||lr!==Ga(s)||(s=lr,"selectionStart"in s&&ju(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),xl&&Tl(xl,s)||(xl=s,s=si(tc,"onSelect"),0<s.length&&(t=new yu("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=lr)))}function ba(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ar={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},ho={},Ip={};Cn&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function Ti(e){if(ho[e])return ho[e];if(!ar[e])return e;var t=ar[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ip)return ho[e]=t[n];return e}var Mp=Ti("animationend"),Fp=Ti("animationiteration"),Op=Ti("animationstart"),Ap=Ti("transitionend"),_p=new Map,zd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(e,t){_p.set(e,t),Hs(t,[e])}for(var fo=0;fo<zd.length;fo++){var po=zd[fo],Rg=po.toLowerCase(),Dg=po[0].toUpperCase()+po.slice(1);hs(Rg,"on"+Dg)}hs(Mp,"onAnimationEnd");hs(Fp,"onAnimationIteration");hs(Op,"onAnimationStart");hs("dblclick","onDoubleClick");hs("focusin","onFocus");hs("focusout","onBlur");hs(Ap,"onTransitionEnd");Dr("onMouseEnter",["mouseout","mouseover"]);Dr("onMouseLeave",["mouseout","mouseover"]);Dr("onPointerEnter",["pointerout","pointerover"]);Dr("onPointerLeave",["pointerout","pointerover"]);Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ig=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function Bd(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,R0(s,t,void 0,e),e.currentTarget=null}function Up(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&l.isPropagationStopped())break e;Bd(l,o,u),a=c}else for(i=0;i<s.length;i++){if(o=s[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&l.isPropagationStopped())break e;Bd(l,o,u),a=c}}}if(Ya)throw e=Xo,Ya=!1,Xo=null,e}function Ne(e,t){var n=t[ic];n===void 0&&(n=t[ic]=new Set);var s=e+"__bubble";n.has(s)||(zp(t,e,2,!1),n.add(s))}function mo(e,t,n){var s=0;t&&(s|=4),zp(n,e,s,t)}var ja="_reactListening"+Math.random().toString(36).slice(2);function Rl(e){if(!e[ja]){e[ja]=!0,Kf.forEach(function(n){n!=="selectionchange"&&(Ig.has(n)||mo(n,!1,e),mo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ja]||(t[ja]=!0,mo("selectionchange",!1,t))}}function zp(e,t,n,s){switch(wp(t)){case 1:var l=K0;break;case 4:l=H0;break;default:l=xu}n=l.bind(null,t,n,e),l=void 0,!Go||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function xo(e,t,n,s,l){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;o!==null;){if(i=Ns(o),i===null)return;if(c=i.tag,c===5||c===6){s=a=i;continue e}o=o.parentNode}}s=s.return}cp(function(){var u=a,h=hu(n),d=[];e:{var g=_p.get(e);if(g!==void 0){var j=yu,m=e;switch(e){case"keypress":if(Oa(n)===0)break e;case"keydown":case"keyup":j=cg;break;case"focusin":m="focus",j=oo;break;case"focusout":m="blur",j=oo;break;case"beforeblur":case"afterblur":j=oo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=X0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=hg;break;case Mp:case Fp:case Op:j=eg;break;case Ap:j=pg;break;case"scroll":j=J0;break;case"wheel":j=xg;break;case"copy":case"cut":case"paste":j=ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Rd}var y=(t&4)!==0,v=!y&&e==="scroll",f=y?g!==null?g+"Capture":null:g;y=[];for(var p=u,x;p!==null;){x=p;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,f!==null&&(b=Cl(p,f),b!=null&&y.push(Dl(p,b,x)))),v)break;p=p.return}0<y.length&&(g=new j(g,m,null,n,h),d.push({event:g,listeners:y}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",g&&n!==Ho&&(m=n.relatedTarget||n.fromElement)&&(Ns(m)||m[kn]))break e;if((j||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,j?(m=n.relatedTarget||n.toElement,j=u,m=m?Ns(m):null,m!==null&&(v=Js(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(j=null,m=u),j!==m)){if(y=Ld,b="onMouseLeave",f="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=Rd,b="onPointerLeave",f="onPointerEnter",p="pointer"),v=j==null?g:ir(j),x=m==null?g:ir(m),g=new y(b,p+"leave",j,n,h),g.target=v,g.relatedTarget=x,b=null,Ns(h)===u&&(y=new y(f,p+"enter",m,n,h),y.target=x,y.relatedTarget=v,b=y),v=b,j&&m)t:{for(y=j,f=m,p=0,x=y;x;x=Zs(x))p++;for(x=0,b=f;b;b=Zs(b))x++;for(;0<p-x;)y=Zs(y),p--;for(;0<x-p;)f=Zs(f),x--;for(;p--;){if(y===f||f!==null&&y===f.alternate)break t;y=Zs(y),f=Zs(f)}y=null}else y=null;j!==null&&$d(d,g,j,y,!1),m!==null&&v!==null&&$d(d,v,m,y,!0)}}e:{if(g=u?ir(u):window,j=g.nodeName&&g.nodeName.toLowerCase(),j==="select"||j==="input"&&g.type==="file")var R=wg;else if(Md(g))if(Lp)R=Pg;else{R=Cg;var I=Sg}else(j=g.nodeName)&&j.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(R=kg);if(R&&(R=R(e,u))){Ep(d,R,n,h);break e}I&&I(e,g,u),e==="focusout"&&(I=g._wrapperState)&&I.controlled&&g.type==="number"&&Qo(g,"number",g.value)}switch(I=u?ir(u):window,e){case"focusin":(Md(I)||I.contentEditable==="true")&&(lr=I,tc=u,xl=null);break;case"focusout":xl=tc=lr=null;break;case"mousedown":nc=!0;break;case"contextmenu":case"mouseup":case"dragend":nc=!1,Ud(d,n,h);break;case"selectionchange":if(Tg)break;case"keydown":case"keyup":Ud(d,n,h)}var S;if(bu)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else rr?kp(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Cp&&n.locale!=="ko"&&(rr||P!=="onCompositionStart"?P==="onCompositionEnd"&&rr&&(S=Sp()):(Kn=h,gu="value"in Kn?Kn.value:Kn.textContent,rr=!0)),I=si(u,P),0<I.length&&(P=new Td(P,e,null,n,h),d.push({event:P,listeners:I}),S?P.data=S:(S=Pp(n),S!==null&&(P.data=S)))),(S=yg?vg(e,n):bg(e,n))&&(u=si(u,"onBeforeInput"),0<u.length&&(h=new Td("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=S))}Up(d,t)})}function Dl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function si(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Cl(e,n),a!=null&&s.unshift(Dl(e,a,l)),a=Cl(e,t),a!=null&&s.push(Dl(e,a,l))),e=e.return}return s}function Zs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $d(e,t,n,s,l){for(var a=t._reactName,i=[];n!==null&&n!==s;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===s)break;o.tag===5&&u!==null&&(o=u,l?(c=Cl(n,a),c!=null&&i.unshift(Dl(n,c,o))):l||(c=Cl(n,a),c!=null&&i.push(Dl(n,c,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Mg=/\r\n?/g,Fg=/\u0000|\uFFFD/g;function Qd(e){return(typeof e=="string"?e:""+e).replace(Mg,`
`).replace(Fg,"")}function Na(e,t,n){if(t=Qd(t),Qd(e)!==t&&n)throw Error(U(425))}function ri(){}var sc=null,rc=null;function lc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ac=typeof setTimeout=="function"?setTimeout:void 0,Og=typeof clearTimeout=="function"?clearTimeout:void 0,qd=typeof Promise=="function"?Promise:void 0,Ag=typeof queueMicrotask=="function"?queueMicrotask:typeof qd<"u"?function(e){return qd.resolve(null).then(e).catch(_g)}:ac;function _g(e){setTimeout(function(){throw e})}function go(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),El(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);El(t)}function ts(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qr=Math.random().toString(36).slice(2),un="__reactFiber$"+Qr,Il="__reactProps$"+Qr,kn="__reactContainer$"+Qr,ic="__reactEvents$"+Qr,Ug="__reactListeners$"+Qr,zg="__reactHandles$"+Qr;function Ns(e){var t=e[un];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kn]||n[un]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wd(e);e!==null;){if(n=e[un])return n;e=Wd(e)}return t}e=n,n=e.parentNode}return null}function ea(e){return e=e[un]||e[kn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Ri(e){return e[Il]||null}var oc=[],or=-1;function fs(e){return{current:e}}function we(e){0>or||(e.current=oc[or],oc[or]=null,or--)}function je(e,t){or++,oc[or]=e.current,e.current=t}var cs={},at=fs(cs),vt=fs(!1),Us=cs;function Ir(e,t){var n=e.type.contextTypes;if(!n)return cs;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function bt(e){return e=e.childContextTypes,e!=null}function li(){we(vt),we(at)}function Vd(e,t,n){if(at.current!==cs)throw Error(U(168));je(at,t),je(vt,n)}function Bp(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(U(108,S0(e)||"Unknown",l));return Le({},n,s)}function ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cs,Us=at.current,je(at,e),je(vt,vt.current),!0}function Kd(e,t,n){var s=e.stateNode;if(!s)throw Error(U(169));n?(e=Bp(e,t,Us),s.__reactInternalMemoizedMergedChildContext=e,we(vt),we(at),je(at,e)):we(vt),je(vt,n)}var xn=null,Di=!1,yo=!1;function $p(e){xn===null?xn=[e]:xn.push(e)}function Bg(e){Di=!0,$p(e)}function ps(){if(!yo&&xn!==null){yo=!0;var e=0,t=ye;try{var n=xn;for(ye=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}xn=null,Di=!1}catch(l){throw xn!==null&&(xn=xn.slice(e+1)),fp(fu,ps),l}finally{ye=t,yo=!1}}return null}var cr=[],ur=0,ii=null,oi=0,_t=[],Ut=0,zs=null,jn=1,Nn="";function bs(e,t){cr[ur++]=oi,cr[ur++]=ii,ii=e,oi=t}function Qp(e,t,n){_t[Ut++]=jn,_t[Ut++]=Nn,_t[Ut++]=zs,zs=e;var s=jn;e=Nn;var l=32-Xt(s)-1;s&=~(1<<l),n+=1;var a=32-Xt(t)+l;if(30<a){var i=l-l%5;a=(s&(1<<i)-1).toString(32),s>>=i,l-=i,jn=1<<32-Xt(t)+l|n<<l|s,Nn=a+e}else jn=1<<a|n<<l|s,Nn=e}function Nu(e){e.return!==null&&(bs(e,1),Qp(e,1,0))}function wu(e){for(;e===ii;)ii=cr[--ur],cr[ur]=null,oi=cr[--ur],cr[ur]=null;for(;e===zs;)zs=_t[--Ut],_t[Ut]=null,Nn=_t[--Ut],_t[Ut]=null,jn=_t[--Ut],_t[Ut]=null}var Tt=null,Lt=null,Ce=!1,Gt=null;function qp(e,t){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,Lt=ts(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zs!==null?{id:jn,overflow:Nn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Tt=e,Lt=null,!0):!1;default:return!1}}function cc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uc(e){if(Ce){var t=Lt;if(t){var n=t;if(!Hd(e,t)){if(cc(e))throw Error(U(418));t=ts(n.nextSibling);var s=Tt;t&&Hd(e,t)?qp(s,n):(e.flags=e.flags&-4097|2,Ce=!1,Tt=e)}}else{if(cc(e))throw Error(U(418));e.flags=e.flags&-4097|2,Ce=!1,Tt=e}}}function Jd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function wa(e){if(e!==Tt)return!1;if(!Ce)return Jd(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lc(e.type,e.memoizedProps)),t&&(t=Lt)){if(cc(e))throw Wp(),Error(U(418));for(;t;)qp(e,t),t=ts(t.nextSibling)}if(Jd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Lt=ts(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=Tt?ts(e.stateNode.nextSibling):null;return!0}function Wp(){for(var e=Lt;e;)e=ts(e.nextSibling)}function Mr(){Lt=Tt=null,Ce=!1}function Su(e){Gt===null?Gt=[e]:Gt.push(e)}var $g=Ln.ReactCurrentBatchConfig;function el(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var s=n.stateNode}if(!s)throw Error(U(147,e));var l=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=l.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function Sa(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gd(e){var t=e._init;return t(e._payload)}function Vp(e){function t(f,p){if(e){var x=f.deletions;x===null?(f.deletions=[p],f.flags|=16):x.push(p)}}function n(f,p){if(!e)return null;for(;p!==null;)t(f,p),p=p.sibling;return null}function s(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function l(f,p){return f=ls(f,p),f.index=0,f.sibling=null,f}function a(f,p,x){return f.index=x,e?(x=f.alternate,x!==null?(x=x.index,x<p?(f.flags|=2,p):x):(f.flags|=2,p)):(f.flags|=1048576,p)}function i(f){return e&&f.alternate===null&&(f.flags|=2),f}function o(f,p,x,b){return p===null||p.tag!==6?(p=Co(x,f.mode,b),p.return=f,p):(p=l(p,x),p.return=f,p)}function c(f,p,x,b){var R=x.type;return R===sr?h(f,p,x.props.children,b,x.key):p!==null&&(p.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===In&&Gd(R)===p.type)?(b=l(p,x.props),b.ref=el(f,p,x),b.return=f,b):(b=Qa(x.type,x.key,x.props,null,f.mode,b),b.ref=el(f,p,x),b.return=f,b)}function u(f,p,x,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=ko(x,f.mode,b),p.return=f,p):(p=l(p,x.children||[]),p.return=f,p)}function h(f,p,x,b,R){return p===null||p.tag!==7?(p=As(x,f.mode,b,R),p.return=f,p):(p=l(p,x),p.return=f,p)}function d(f,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Co(""+p,f.mode,x),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case fa:return x=Qa(p.type,p.key,p.props,null,f.mode,x),x.ref=el(f,null,p),x.return=f,x;case nr:return p=ko(p,f.mode,x),p.return=f,p;case In:var b=p._init;return d(f,b(p._payload),x)}if(ol(p)||Jr(p))return p=As(p,f.mode,x,null),p.return=f,p;Sa(f,p)}return null}function g(f,p,x,b){var R=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return R!==null?null:o(f,p,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fa:return x.key===R?c(f,p,x,b):null;case nr:return x.key===R?u(f,p,x,b):null;case In:return R=x._init,g(f,p,R(x._payload),b)}if(ol(x)||Jr(x))return R!==null?null:h(f,p,x,b,null);Sa(f,x)}return null}function j(f,p,x,b,R){if(typeof b=="string"&&b!==""||typeof b=="number")return f=f.get(x)||null,o(p,f,""+b,R);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fa:return f=f.get(b.key===null?x:b.key)||null,c(p,f,b,R);case nr:return f=f.get(b.key===null?x:b.key)||null,u(p,f,b,R);case In:var I=b._init;return j(f,p,x,I(b._payload),R)}if(ol(b)||Jr(b))return f=f.get(x)||null,h(p,f,b,R,null);Sa(p,b)}return null}function m(f,p,x,b){for(var R=null,I=null,S=p,P=p=0,_=null;S!==null&&P<x.length;P++){S.index>P?(_=S,S=null):_=S.sibling;var O=g(f,S,x[P],b);if(O===null){S===null&&(S=_);break}e&&S&&O.alternate===null&&t(f,S),p=a(O,p,P),I===null?R=O:I.sibling=O,I=O,S=_}if(P===x.length)return n(f,S),Ce&&bs(f,P),R;if(S===null){for(;P<x.length;P++)S=d(f,x[P],b),S!==null&&(p=a(S,p,P),I===null?R=S:I.sibling=S,I=S);return Ce&&bs(f,P),R}for(S=s(f,S);P<x.length;P++)_=j(S,f,P,x[P],b),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?P:_.key),p=a(_,p,P),I===null?R=_:I.sibling=_,I=_);return e&&S.forEach(function(M){return t(f,M)}),Ce&&bs(f,P),R}function y(f,p,x,b){var R=Jr(x);if(typeof R!="function")throw Error(U(150));if(x=R.call(x),x==null)throw Error(U(151));for(var I=R=null,S=p,P=p=0,_=null,O=x.next();S!==null&&!O.done;P++,O=x.next()){S.index>P?(_=S,S=null):_=S.sibling;var M=g(f,S,O.value,b);if(M===null){S===null&&(S=_);break}e&&S&&M.alternate===null&&t(f,S),p=a(M,p,P),I===null?R=M:I.sibling=M,I=M,S=_}if(O.done)return n(f,S),Ce&&bs(f,P),R;if(S===null){for(;!O.done;P++,O=x.next())O=d(f,O.value,b),O!==null&&(p=a(O,p,P),I===null?R=O:I.sibling=O,I=O);return Ce&&bs(f,P),R}for(S=s(f,S);!O.done;P++,O=x.next())O=j(S,f,P,O.value,b),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?P:O.key),p=a(O,p,P),I===null?R=O:I.sibling=O,I=O);return e&&S.forEach(function(Q){return t(f,Q)}),Ce&&bs(f,P),R}function v(f,p,x,b){if(typeof x=="object"&&x!==null&&x.type===sr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case fa:e:{for(var R=x.key,I=p;I!==null;){if(I.key===R){if(R=x.type,R===sr){if(I.tag===7){n(f,I.sibling),p=l(I,x.props.children),p.return=f,f=p;break e}}else if(I.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===In&&Gd(R)===I.type){n(f,I.sibling),p=l(I,x.props),p.ref=el(f,I,x),p.return=f,f=p;break e}n(f,I);break}else t(f,I);I=I.sibling}x.type===sr?(p=As(x.props.children,f.mode,b,x.key),p.return=f,f=p):(b=Qa(x.type,x.key,x.props,null,f.mode,b),b.ref=el(f,p,x),b.return=f,f=b)}return i(f);case nr:e:{for(I=x.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){n(f,p.sibling),p=l(p,x.children||[]),p.return=f,f=p;break e}else{n(f,p);break}else t(f,p);p=p.sibling}p=ko(x,f.mode,b),p.return=f,f=p}return i(f);case In:return I=x._init,v(f,p,I(x._payload),b)}if(ol(x))return m(f,p,x,b);if(Jr(x))return y(f,p,x,b);Sa(f,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(n(f,p.sibling),p=l(p,x),p.return=f,f=p):(n(f,p),p=Co(x,f.mode,b),p.return=f,f=p),i(f)):n(f,p)}return v}var Fr=Vp(!0),Kp=Vp(!1),ci=fs(null),ui=null,dr=null,Cu=null;function ku(){Cu=dr=ui=null}function Pu(e){var t=ci.current;we(ci),e._currentValue=t}function dc(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function yr(e,t){ui=e,Cu=dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yt=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(Cu!==e)if(e={context:e,memoizedValue:t,next:null},dr===null){if(ui===null)throw Error(U(308));dr=e,ui.dependencies={lanes:0,firstContext:e}}else dr=dr.next=e;return t}var ws=null;function Eu(e){ws===null?ws=[e]:ws.push(e)}function Hp(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,Eu(t)):(n.next=l.next,l.next=n),t.interleaved=n,Pn(e,s)}function Pn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mn=!1;function Lu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ns(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,fe&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Pn(e,n)}return l=s.interleaved,l===null?(t.next=t,Eu(s)):(t.next=l.next,l.next=t),s.interleaved=t,Pn(e,n)}function Aa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,pu(e,n)}}function Xd(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function di(e,t,n,s){var l=e.updateQueue;Mn=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==i&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(a!==null){var d=l.baseState;i=0,h=u=c=null,o=a;do{var g=o.lane,j=o.eventTime;if((s&g)===g){h!==null&&(h=h.next={eventTime:j,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,y=o;switch(g=t,j=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(j,d,g);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,g=typeof m=="function"?m.call(j,d,g):m,g==null)break e;d=Le({},d,g);break e;case 2:Mn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[o]:g.push(o))}else j={eventTime:j,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=j,c=d):h=h.next=j,i|=g;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;g=o,o=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(h===null&&(c=d),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=h,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);$s|=i,e.lanes=i,e.memoizedState=d}}function Yd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(U(191,l));l.call(s)}}}var ta={},hn=fs(ta),Ml=fs(ta),Fl=fs(ta);function Ss(e){if(e===ta)throw Error(U(174));return e}function Tu(e,t){switch(je(Fl,t),je(Ml,e),je(hn,ta),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wo(t,e)}we(hn),je(hn,t)}function Or(){we(hn),we(Ml),we(Fl)}function Gp(e){Ss(Fl.current);var t=Ss(hn.current),n=Wo(t,e.type);t!==n&&(je(Ml,e),je(hn,n))}function Ru(e){Ml.current===e&&(we(hn),we(Ml))}var ke=fs(0);function hi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vo=[];function Du(){for(var e=0;e<vo.length;e++)vo[e]._workInProgressVersionPrimary=null;vo.length=0}var _a=Ln.ReactCurrentDispatcher,bo=Ln.ReactCurrentBatchConfig,Bs=0,Ee=null,Ue=null,We=null,fi=!1,gl=!1,Ol=0,Qg=0;function Ze(){throw Error(U(321))}function Iu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function Mu(e,t,n,s,l,a){if(Bs=a,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_a.current=e===null||e.memoizedState===null?Kg:Hg,e=n(s,l),gl){a=0;do{if(gl=!1,Ol=0,25<=a)throw Error(U(301));a+=1,We=Ue=null,t.updateQueue=null,_a.current=Jg,e=n(s,l)}while(gl)}if(_a.current=pi,t=Ue!==null&&Ue.next!==null,Bs=0,We=Ue=Ee=null,fi=!1,t)throw Error(U(300));return e}function Fu(){var e=Ol!==0;return Ol=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Ee.memoizedState=We=e:We=We.next=e,We}function Qt(){if(Ue===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=We===null?Ee.memoizedState:We.next;if(t!==null)We=t,Ue=e;else{if(e===null)throw Error(U(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},We===null?Ee.memoizedState=We=e:We=We.next=e}return We}function Al(e,t){return typeof t=="function"?t(e):t}function jo(e){var t=Qt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var s=Ue,l=s.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}s.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,s=s.baseState;var o=i=null,c=null,u=a;do{var h=u.lane;if((Bs&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=d,i=s):c=c.next=d,Ee.lanes|=h,$s|=h}u=u.next}while(u!==null&&u!==a);c===null?i=s:c.next=o,en(s,t.memoizedState)||(yt=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do a=l.lane,Ee.lanes|=a,$s|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Qt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);en(a,t.memoizedState)||(yt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Xp(){}function Yp(e,t){var n=Ee,s=Qt(),l=t(),a=!en(s.memoizedState,l);if(a&&(s.memoizedState=l,yt=!0),s=s.queue,Ou(tm.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,_l(9,em.bind(null,n,s,l,t),void 0,null),Ve===null)throw Error(U(349));Bs&30||Zp(n,t,l)}return l}function Zp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function em(e,t,n,s){t.value=n,t.getSnapshot=s,nm(t)&&sm(e)}function tm(e,t,n){return n(function(){nm(t)&&sm(e)})}function nm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!en(e,n)}catch{return!0}}function sm(e){var t=Pn(e,1);t!==null&&Yt(t,e,1,-1)}function Zd(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:e},t.queue=e,e=e.dispatch=Vg.bind(null,Ee,e),[t.memoizedState,e]}function _l(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function rm(){return Qt().memoizedState}function Ua(e,t,n,s){var l=ln();Ee.flags|=e,l.memoizedState=_l(1|t,n,void 0,s===void 0?null:s)}function Ii(e,t,n,s){var l=Qt();s=s===void 0?null:s;var a=void 0;if(Ue!==null){var i=Ue.memoizedState;if(a=i.destroy,s!==null&&Iu(s,i.deps)){l.memoizedState=_l(t,n,a,s);return}}Ee.flags|=e,l.memoizedState=_l(1|t,n,a,s)}function eh(e,t){return Ua(8390656,8,e,t)}function Ou(e,t){return Ii(2048,8,e,t)}function lm(e,t){return Ii(4,2,e,t)}function am(e,t){return Ii(4,4,e,t)}function im(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function om(e,t,n){return n=n!=null?n.concat([e]):null,Ii(4,4,im.bind(null,t,e),n)}function Au(){}function cm(e,t){var n=Qt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Iu(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function um(e,t){var n=Qt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Iu(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function dm(e,t,n){return Bs&21?(en(n,t)||(n=xp(),Ee.lanes|=n,$s|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=n)}function qg(e,t){var n=ye;ye=n!==0&&4>n?n:4,e(!0);var s=bo.transition;bo.transition={};try{e(!1),t()}finally{ye=n,bo.transition=s}}function hm(){return Qt().memoizedState}function Wg(e,t,n){var s=rs(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},fm(e))pm(t,n);else if(n=Hp(e,t,n,s),n!==null){var l=dt();Yt(n,e,s,l),mm(n,t,s)}}function Vg(e,t,n){var s=rs(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(fm(e))pm(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(l.hasEagerState=!0,l.eagerState=o,en(o,i)){var c=t.interleaved;c===null?(l.next=l,Eu(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Hp(e,t,l,s),n!==null&&(l=dt(),Yt(n,e,s,l),mm(n,t,s))}}function fm(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function pm(e,t){gl=fi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mm(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,pu(e,n)}}var pi={readContext:$t,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},Kg={readContext:$t,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:eh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ua(4194308,4,im.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var n=ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=ln();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Wg.bind(null,Ee,e),[s.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:Zd,useDebugValue:Au,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=Zd(!1),t=e[0];return e=qg.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Ee,l=ln();if(Ce){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Ve===null)throw Error(U(349));Bs&30||Zp(s,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,eh(tm.bind(null,s,a,e),[e]),s.flags|=2048,_l(9,em.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=ln(),t=Ve.identifierPrefix;if(Ce){var n=Nn,s=jn;n=(s&~(1<<32-Xt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ol++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Qg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Hg={readContext:$t,useCallback:cm,useContext:$t,useEffect:Ou,useImperativeHandle:om,useInsertionEffect:lm,useLayoutEffect:am,useMemo:um,useReducer:jo,useRef:rm,useState:function(){return jo(Al)},useDebugValue:Au,useDeferredValue:function(e){var t=Qt();return dm(t,Ue.memoizedState,e)},useTransition:function(){var e=jo(Al)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:Xp,useSyncExternalStore:Yp,useId:hm,unstable_isNewReconciler:!1},Jg={readContext:$t,useCallback:cm,useContext:$t,useEffect:Ou,useImperativeHandle:om,useInsertionEffect:lm,useLayoutEffect:am,useMemo:um,useReducer:No,useRef:rm,useState:function(){return No(Al)},useDebugValue:Au,useDeferredValue:function(e){var t=Qt();return Ue===null?t.memoizedState=e:dm(t,Ue.memoizedState,e)},useTransition:function(){var e=No(Al)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:Xp,useSyncExternalStore:Yp,useId:hm,unstable_isNewReconciler:!1};function Vt(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function hc(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mi={isMounted:function(e){return(e=e._reactInternals)?Js(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=dt(),l=rs(e),a=wn(s,l);a.payload=t,n!=null&&(a.callback=n),t=ns(e,a,l),t!==null&&(Yt(t,e,l,s),Aa(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=dt(),l=rs(e),a=wn(s,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ns(e,a,l),t!==null&&(Yt(t,e,l,s),Aa(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),s=rs(e),l=wn(n,s);l.tag=2,t!=null&&(l.callback=t),t=ns(e,l,s),t!==null&&(Yt(t,e,s,n),Aa(t,e,s))}};function th(e,t,n,s,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,i):t.prototype&&t.prototype.isPureReactComponent?!Tl(n,s)||!Tl(l,a):!0}function xm(e,t,n){var s=!1,l=cs,a=t.contextType;return typeof a=="object"&&a!==null?a=$t(a):(l=bt(t)?Us:at.current,s=t.contextTypes,a=(s=s!=null)?Ir(e,l):cs),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mi,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function nh(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Mi.enqueueReplaceState(t,t.state,null)}function fc(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Lu(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=$t(a):(a=bt(t)?Us:at.current,l.context=Ir(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(hc(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Mi.enqueueReplaceState(l,l.state,null),di(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Ar(e,t){try{var n="",s=t;do n+=w0(s),s=s.return;while(s);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function wo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function pc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Gg=typeof WeakMap=="function"?WeakMap:Map;function gm(e,t,n){n=wn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){xi||(xi=!0,Sc=s),pc(e,t)},n}function ym(e,t,n){n=wn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){pc(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){pc(e,t),typeof s!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function sh(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Gg;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=uy.bind(null,e,t,n),t.then(e,e))}function rh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lh(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wn(-1,1),t.tag=2,ns(n,t,1))),n.lanes|=1),e)}var Xg=Ln.ReactCurrentOwner,yt=!1;function ot(e,t,n,s){t.child=e===null?Kp(t,null,n,s):Fr(t,e.child,n,s)}function ah(e,t,n,s,l){n=n.render;var a=t.ref;return yr(t,l),s=Mu(e,t,n,s,a,l),n=Fu(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,En(e,t,l)):(Ce&&n&&Nu(t),t.flags|=1,ot(e,t,s,l),t.child)}function ih(e,t,n,s,l){if(e===null){var a=n.type;return typeof a=="function"&&!Wu(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,vm(e,t,a,s,l)):(e=Qa(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Tl,n(i,s)&&e.ref===t.ref)return En(e,t,l)}return t.flags|=1,e=ls(a,s),e.ref=t.ref,e.return=t,t.child=e}function vm(e,t,n,s,l){if(e!==null){var a=e.memoizedProps;if(Tl(a,s)&&e.ref===t.ref)if(yt=!1,t.pendingProps=s=a,(e.lanes&l)!==0)e.flags&131072&&(yt=!0);else return t.lanes=e.lanes,En(e,t,l)}return mc(e,t,n,s,l)}function bm(e,t,n){var s=t.pendingProps,l=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(fr,Pt),Pt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(fr,Pt),Pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,je(fr,Pt),Pt|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,je(fr,Pt),Pt|=s;return ot(e,t,l,n),t.child}function jm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mc(e,t,n,s,l){var a=bt(n)?Us:at.current;return a=Ir(t,a),yr(t,l),n=Mu(e,t,n,s,a,l),s=Fu(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,En(e,t,l)):(Ce&&s&&Nu(t),t.flags|=1,ot(e,t,n,l),t.child)}function oh(e,t,n,s,l){if(bt(n)){var a=!0;ai(t)}else a=!1;if(yr(t,l),t.stateNode===null)za(e,t),xm(t,n,s),fc(t,n,s,l),s=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=$t(u):(u=bt(n)?Us:at.current,u=Ir(t,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==s||c!==u)&&nh(t,i,s,u),Mn=!1;var g=t.memoizedState;i.state=g,di(t,s,i,l),c=t.memoizedState,o!==s||g!==c||vt.current||Mn?(typeof h=="function"&&(hc(t,n,h,s),c=t.memoizedState),(o=Mn||th(t,n,o,s,g,c,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),i.props=s,i.state=c,i.context=u,s=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Jp(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Vt(t.type,o),i.props=u,d=t.pendingProps,g=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=$t(c):(c=bt(n)?Us:at.current,c=Ir(t,c));var j=n.getDerivedStateFromProps;(h=typeof j=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==d||g!==c)&&nh(t,i,s,c),Mn=!1,g=t.memoizedState,i.state=g,di(t,s,i,l);var m=t.memoizedState;o!==d||g!==m||vt.current||Mn?(typeof j=="function"&&(hc(t,n,j,s),m=t.memoizedState),(u=Mn||th(t,n,u,s,g,m,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,m,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,m,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=m),i.props=s,i.state=m,i.context=c,s=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return xc(e,t,n,s,a,l)}function xc(e,t,n,s,l,a){jm(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return l&&Kd(t,n,!1),En(e,t,a);s=t.stateNode,Xg.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Fr(t,e.child,null,a),t.child=Fr(t,null,o,a)):ot(e,t,o,a),t.memoizedState=s.state,l&&Kd(t,n,!0),t.child}function Nm(e){var t=e.stateNode;t.pendingContext?Vd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vd(e,t.context,!1),Tu(e,t.containerInfo)}function ch(e,t,n,s,l){return Mr(),Su(l),t.flags|=256,ot(e,t,n,s),t.child}var gc={dehydrated:null,treeContext:null,retryLane:0};function yc(e){return{baseLanes:e,cachePool:null,transitions:null}}function wm(e,t,n){var s=t.pendingProps,l=ke.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),je(ke,l&1),e===null)return uc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,a?(s=t.mode,a=t.child,i={mode:"hidden",children:i},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Ai(i,s,0,null),e=As(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=yc(n),t.memoizedState=gc,e):_u(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return Yg(e,t,i,s,o,l,n);if(a){a=s.fallback,i=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:s.children};return!(i&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=ls(l,c),s.subtreeFlags=l.subtreeFlags&14680064),o!==null?a=ls(o,a):(a=As(a,i,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,i=e.child.memoizedState,i=i===null?yc(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=gc,s}return a=e.child,e=a.sibling,s=ls(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function _u(e,t){return t=Ai({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ca(e,t,n,s){return s!==null&&Su(s),Fr(t,e.child,null,n),e=_u(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yg(e,t,n,s,l,a,i){if(n)return t.flags&256?(t.flags&=-257,s=wo(Error(U(422))),Ca(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,l=t.mode,s=Ai({mode:"visible",children:s.children},l,0,null),a=As(a,l,i,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Fr(t,e.child,null,i),t.child.memoizedState=yc(i),t.memoizedState=gc,a);if(!(t.mode&1))return Ca(e,t,i,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var o=s.dgst;return s=o,a=Error(U(419)),s=wo(a,s,void 0),Ca(e,t,i,s)}if(o=(i&e.childLanes)!==0,yt||o){if(s=Ve,s!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,Pn(e,l),Yt(s,e,l,-1))}return qu(),s=wo(Error(U(421))),Ca(e,t,i,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=dy.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,Lt=ts(l.nextSibling),Tt=t,Ce=!0,Gt=null,e!==null&&(_t[Ut++]=jn,_t[Ut++]=Nn,_t[Ut++]=zs,jn=e.id,Nn=e.overflow,zs=t),t=_u(t,s.children),t.flags|=4096,t)}function uh(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),dc(e.return,t,n)}function So(e,t,n,s,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=l)}function Sm(e,t,n){var s=t.pendingProps,l=s.revealOrder,a=s.tail;if(ot(e,t,s.children,n),s=ke.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uh(e,n,t);else if(e.tag===19)uh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(je(ke,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&hi(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),So(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&hi(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}So(t,!0,n,null,a);break;case"together":So(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function za(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function En(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$s|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=ls(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ls(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Zg(e,t,n){switch(t.tag){case 3:Nm(t),Mr();break;case 5:Gp(t);break;case 1:bt(t.type)&&ai(t);break;case 4:Tu(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;je(ci,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(je(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?wm(e,t,n):(je(ke,ke.current&1),e=En(e,t,n),e!==null?e.sibling:null);je(ke,ke.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Sm(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),je(ke,ke.current),s)break;return null;case 22:case 23:return t.lanes=0,bm(e,t,n)}return En(e,t,n)}var Cm,vc,km,Pm;Cm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vc=function(){};km=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,Ss(hn.current);var a=null;switch(n){case"input":l=Bo(e,l),s=Bo(e,s),a=[];break;case"select":l=Le({},l,{value:void 0}),s=Le({},s,{value:void 0}),a=[];break;case"textarea":l=qo(e,l),s=qo(e,s),a=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ri)}Vo(n,s);var i;n=null;for(u in l)if(!s.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var o=l[u];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(o=l!=null?l[u]:void 0,s.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ne("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Pm=function(e,t,n,s){n!==s&&(t.flags|=4)};function tl(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function ey(e,t,n){var s=t.pendingProps;switch(wu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return bt(t.type)&&li(),et(t),null;case 3:return s=t.stateNode,Or(),we(vt),we(at),Du(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(wa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gt!==null&&(Pc(Gt),Gt=null))),vc(e,t),et(t),null;case 5:Ru(t);var l=Ss(Fl.current);if(n=t.type,e!==null&&t.stateNode!=null)km(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(U(166));return et(t),null}if(e=Ss(hn.current),wa(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[un]=t,s[Il]=a,e=(t.mode&1)!==0,n){case"dialog":Ne("cancel",s),Ne("close",s);break;case"iframe":case"object":case"embed":Ne("load",s);break;case"video":case"audio":for(l=0;l<ul.length;l++)Ne(ul[l],s);break;case"source":Ne("error",s);break;case"img":case"image":case"link":Ne("error",s),Ne("load",s);break;case"details":Ne("toggle",s);break;case"input":vd(s,a),Ne("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Ne("invalid",s);break;case"textarea":jd(s,a),Ne("invalid",s)}Vo(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?s.textContent!==o&&(a.suppressHydrationWarning!==!0&&Na(s.textContent,o,e),l=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Na(s.textContent,o,e),l=["children",""+o]):wl.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Ne("scroll",s)}switch(n){case"input":pa(s),bd(s,a,!0);break;case"textarea":pa(s),Nd(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=ri)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(n,{is:s.is}):(e=i.createElement(n),n==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,n),e[un]=t,e[Il]=s,Cm(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ko(n,s),n){case"dialog":Ne("cancel",e),Ne("close",e),l=s;break;case"iframe":case"object":case"embed":Ne("load",e),l=s;break;case"video":case"audio":for(l=0;l<ul.length;l++)Ne(ul[l],e);l=s;break;case"source":Ne("error",e),l=s;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),l=s;break;case"details":Ne("toggle",e),l=s;break;case"input":vd(e,s),l=Bo(e,s),Ne("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=Le({},s,{value:void 0}),Ne("invalid",e);break;case"textarea":jd(e,s),l=qo(e,s),Ne("invalid",e);break;default:l=s}Vo(n,l),o=l;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?rp(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&np(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Sl(e,c):typeof c=="number"&&Sl(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(wl.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ne("scroll",e):c!=null&&ou(e,a,c,i))}switch(n){case"input":pa(e),bd(e,s,!1);break;case"textarea":pa(e),Nd(e);break;case"option":s.value!=null&&e.setAttribute("value",""+os(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?pr(e,!!s.multiple,a,!1):s.defaultValue!=null&&pr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ri)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)Pm(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(U(166));if(n=Ss(Fl.current),Ss(hn.current),wa(t)){if(s=t.stateNode,n=t.memoizedProps,s[un]=t,(a=s.nodeValue!==n)&&(e=Tt,e!==null))switch(e.tag){case 3:Na(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Na(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[un]=t,t.stateNode=s}return et(t),null;case 13:if(we(ke),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&Lt!==null&&t.mode&1&&!(t.flags&128))Wp(),Mr(),t.flags|=98560,a=!1;else if(a=wa(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(U(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(U(317));a[un]=t}else Mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),a=!1}else Gt!==null&&(Pc(Gt),Gt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?Be===0&&(Be=3):qu())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return Or(),vc(e,t),e===null&&Rl(t.stateNode.containerInfo),et(t),null;case 10:return Pu(t.type._context),et(t),null;case 17:return bt(t.type)&&li(),et(t),null;case 19:if(we(ke),a=t.memoizedState,a===null)return et(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)tl(a,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=hi(e),i!==null){for(t.flags|=128,tl(a,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return je(ke,ke.current&1|2),t.child}e=e.sibling}a.tail!==null&&Fe()>_r&&(t.flags|=128,s=!0,tl(a,!1),t.lanes=4194304)}else{if(!s)if(e=hi(i),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),tl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Ce)return et(t),null}else 2*Fe()-a.renderingStartTime>_r&&n!==1073741824&&(t.flags|=128,s=!0,tl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Fe(),t.sibling=null,n=ke.current,je(ke,s?n&1|2:n&1),t):(et(t),null);case 22:case 23:return Qu(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Pt&1073741824&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function ty(e,t){switch(wu(t),t.tag){case 1:return bt(t.type)&&li(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Or(),we(vt),we(at),Du(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ru(t),null;case 13:if(we(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(ke),null;case 4:return Or(),null;case 10:return Pu(t.type._context),null;case 22:case 23:return Qu(),null;case 24:return null;default:return null}}var ka=!1,st=!1,ny=typeof WeakSet=="function"?WeakSet:Set,H=null;function hr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){De(e,t,s)}else n.current=null}function bc(e,t,n){try{n()}catch(s){De(e,t,s)}}var dh=!1;function sy(e,t){if(sc=ti,e=Dp(),ju(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,u=0,h=0,d=e,g=null;t:for(;;){for(var j;d!==n||l!==0&&d.nodeType!==3||(o=i+l),d!==a||s!==0&&d.nodeType!==3||(c=i+s),d.nodeType===3&&(i+=d.nodeValue.length),(j=d.firstChild)!==null;)g=d,d=j;for(;;){if(d===e)break t;if(g===n&&++u===l&&(o=i),g===a&&++h===s&&(c=i),(j=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=j}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rc={focusedElem:e,selectionRange:n},ti=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,v=m.memoizedState,f=t.stateNode,p=f.getSnapshotBeforeUpdate(t.elementType===t.type?y:Vt(t.type,y),v);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(b){De(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return m=dh,dh=!1,m}function yl(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&bc(t,n,a)}l=l.next}while(l!==s)}}function Fi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function jc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Em(e){var t=e.alternate;t!==null&&(e.alternate=null,Em(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[un],delete t[Il],delete t[ic],delete t[Ug],delete t[zg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Lm(e){return e.tag===5||e.tag===3||e.tag===4}function hh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ri));else if(s!==4&&(e=e.child,e!==null))for(Nc(e,t,n),e=e.sibling;e!==null;)Nc(e,t,n),e=e.sibling}function wc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(wc(e,t,n),e=e.sibling;e!==null;)wc(e,t,n),e=e.sibling}var He=null,Jt=!1;function Rn(e,t,n){for(n=n.child;n!==null;)Tm(e,t,n),n=n.sibling}function Tm(e,t,n){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(Pi,n)}catch{}switch(n.tag){case 5:st||hr(n,t);case 6:var s=He,l=Jt;He=null,Rn(e,t,n),He=s,Jt=l,He!==null&&(Jt?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Jt?(e=He,n=n.stateNode,e.nodeType===8?go(e.parentNode,n):e.nodeType===1&&go(e,n),El(e)):go(He,n.stateNode));break;case 4:s=He,l=Jt,He=n.stateNode.containerInfo,Jt=!0,Rn(e,t,n),He=s,Jt=l;break;case 0:case 11:case 14:case 15:if(!st&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&bc(n,t,i),l=l.next}while(l!==s)}Rn(e,t,n);break;case 1:if(!st&&(hr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){De(n,t,o)}Rn(e,t,n);break;case 21:Rn(e,t,n);break;case 22:n.mode&1?(st=(s=st)||n.memoizedState!==null,Rn(e,t,n),st=s):Rn(e,t,n);break;default:Rn(e,t,n)}}function fh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ny),t.forEach(function(s){var l=hy.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function Wt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:He=o.stateNode,Jt=!1;break e;case 3:He=o.stateNode.containerInfo,Jt=!0;break e;case 4:He=o.stateNode.containerInfo,Jt=!0;break e}o=o.return}if(He===null)throw Error(U(160));Tm(a,i,l),He=null,Jt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){De(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rm(t,e),t=t.sibling}function Rm(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wt(t,e),nn(e),s&4){try{yl(3,e,e.return),Fi(3,e)}catch(y){De(e,e.return,y)}try{yl(5,e,e.return)}catch(y){De(e,e.return,y)}}break;case 1:Wt(t,e),nn(e),s&512&&n!==null&&hr(n,n.return);break;case 5:if(Wt(t,e),nn(e),s&512&&n!==null&&hr(n,n.return),e.flags&32){var l=e.stateNode;try{Sl(l,"")}catch(y){De(e,e.return,y)}}if(s&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Zf(l,a),Ko(o,i);var u=Ko(o,a);for(i=0;i<c.length;i+=2){var h=c[i],d=c[i+1];h==="style"?rp(l,d):h==="dangerouslySetInnerHTML"?np(l,d):h==="children"?Sl(l,d):ou(l,h,d,u)}switch(o){case"input":$o(l,a);break;case"textarea":ep(l,a);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var j=a.value;j!=null?pr(l,!!a.multiple,j,!1):g!==!!a.multiple&&(a.defaultValue!=null?pr(l,!!a.multiple,a.defaultValue,!0):pr(l,!!a.multiple,a.multiple?[]:"",!1))}l[Il]=a}catch(y){De(e,e.return,y)}}break;case 6:if(Wt(t,e),nn(e),s&4){if(e.stateNode===null)throw Error(U(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(y){De(e,e.return,y)}}break;case 3:if(Wt(t,e),nn(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{El(t.containerInfo)}catch(y){De(e,e.return,y)}break;case 4:Wt(t,e),nn(e);break;case 13:Wt(t,e),nn(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Bu=Fe())),s&4&&fh(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(st=(u=st)||h,Wt(t,e),st=u):Wt(t,e),nn(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(H=e,h=e.child;h!==null;){for(d=H=h;H!==null;){switch(g=H,j=g.child,g.tag){case 0:case 11:case 14:case 15:yl(4,g,g.return);break;case 1:hr(g,g.return);var m=g.stateNode;if(typeof m.componentWillUnmount=="function"){s=g,n=g.return;try{t=s,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){De(s,n,y)}}break;case 5:hr(g,g.return);break;case 22:if(g.memoizedState!==null){mh(d);continue}}j!==null?(j.return=g,H=j):mh(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{l=d.stateNode,u?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,c=d.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=sp("display",i))}catch(y){De(e,e.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){De(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wt(t,e),nn(e),s&4&&fh(e);break;case 21:break;default:Wt(t,e),nn(e)}}function nn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Lm(n)){var s=n;break e}n=n.return}throw Error(U(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Sl(l,""),s.flags&=-33);var a=hh(e);wc(e,a,l);break;case 3:case 4:var i=s.stateNode.containerInfo,o=hh(e);Nc(e,o,i);break;default:throw Error(U(161))}}catch(c){De(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ry(e,t,n){H=e,Dm(e)}function Dm(e,t,n){for(var s=(e.mode&1)!==0;H!==null;){var l=H,a=l.child;if(l.tag===22&&s){var i=l.memoizedState!==null||ka;if(!i){var o=l.alternate,c=o!==null&&o.memoizedState!==null||st;o=ka;var u=st;if(ka=i,(st=c)&&!u)for(H=l;H!==null;)i=H,c=i.child,i.tag===22&&i.memoizedState!==null?xh(l):c!==null?(c.return=i,H=c):xh(l);for(;a!==null;)H=a,Dm(a),a=a.sibling;H=l,ka=o,st=u}ph(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,H=a):ph(e)}}function ph(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:st||Fi(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!st)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Vt(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Yd(t,a,s);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Yd(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&El(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}st||t.flags&512&&jc(t)}catch(g){De(t,t.return,g)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function mh(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function xh(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fi(4,t)}catch(c){De(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){De(t,l,c)}}var a=t.return;try{jc(t)}catch(c){De(t,a,c)}break;case 5:var i=t.return;try{jc(t)}catch(c){De(t,i,c)}}}catch(c){De(t,t.return,c)}if(t===e){H=null;break}var o=t.sibling;if(o!==null){o.return=t.return,H=o;break}H=t.return}}var ly=Math.ceil,mi=Ln.ReactCurrentDispatcher,Uu=Ln.ReactCurrentOwner,Bt=Ln.ReactCurrentBatchConfig,fe=0,Ve=null,_e=null,Ge=0,Pt=0,fr=fs(0),Be=0,Ul=null,$s=0,Oi=0,zu=0,vl=null,gt=null,Bu=0,_r=1/0,mn=null,xi=!1,Sc=null,ss=null,Pa=!1,Hn=null,gi=0,bl=0,Cc=null,Ba=-1,$a=0;function dt(){return fe&6?Fe():Ba!==-1?Ba:Ba=Fe()}function rs(e){return e.mode&1?fe&2&&Ge!==0?Ge&-Ge:$g.transition!==null?($a===0&&($a=xp()),$a):(e=ye,e!==0||(e=window.event,e=e===void 0?16:wp(e.type)),e):1}function Yt(e,t,n,s){if(50<bl)throw bl=0,Cc=null,Error(U(185));Yl(e,n,s),(!(fe&2)||e!==Ve)&&(e===Ve&&(!(fe&2)&&(Oi|=n),Be===4&&An(e,Ge)),jt(e,s),n===1&&fe===0&&!(t.mode&1)&&(_r=Fe()+500,Di&&ps()))}function jt(e,t){var n=e.callbackNode;$0(e,t);var s=ei(e,e===Ve?Ge:0);if(s===0)n!==null&&Cd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Cd(n),t===1)e.tag===0?Bg(gh.bind(null,e)):$p(gh.bind(null,e)),Ag(function(){!(fe&6)&&ps()}),n=null;else{switch(gp(s)){case 1:n=fu;break;case 4:n=pp;break;case 16:n=Za;break;case 536870912:n=mp;break;default:n=Za}n=zm(n,Im.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Im(e,t){if(Ba=-1,$a=0,fe&6)throw Error(U(327));var n=e.callbackNode;if(vr()&&e.callbackNode!==n)return null;var s=ei(e,e===Ve?Ge:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=yi(e,s);else{t=s;var l=fe;fe|=2;var a=Fm();(Ve!==e||Ge!==t)&&(mn=null,_r=Fe()+500,Os(e,t));do try{oy();break}catch(o){Mm(e,o)}while(!0);ku(),mi.current=a,fe=l,_e!==null?t=0:(Ve=null,Ge=0,t=Be)}if(t!==0){if(t===2&&(l=Yo(e),l!==0&&(s=l,t=kc(e,l))),t===1)throw n=Ul,Os(e,0),An(e,s),jt(e,Fe()),n;if(t===6)An(e,s);else{if(l=e.current.alternate,!(s&30)&&!ay(l)&&(t=yi(e,s),t===2&&(a=Yo(e),a!==0&&(s=a,t=kc(e,a))),t===1))throw n=Ul,Os(e,0),An(e,s),jt(e,Fe()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(U(345));case 2:js(e,gt,mn);break;case 3:if(An(e,s),(s&130023424)===s&&(t=Bu+500-Fe(),10<t)){if(ei(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){dt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ac(js.bind(null,e,gt,mn),t);break}js(e,gt,mn);break;case 4:if(An(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var i=31-Xt(s);a=1<<i,i=t[i],i>l&&(l=i),s&=~a}if(s=l,s=Fe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*ly(s/1960))-s,10<s){e.timeoutHandle=ac(js.bind(null,e,gt,mn),s);break}js(e,gt,mn);break;case 5:js(e,gt,mn);break;default:throw Error(U(329))}}}return jt(e,Fe()),e.callbackNode===n?Im.bind(null,e):null}function kc(e,t){var n=vl;return e.current.memoizedState.isDehydrated&&(Os(e,t).flags|=256),e=yi(e,t),e!==2&&(t=gt,gt=n,t!==null&&Pc(t)),e}function Pc(e){gt===null?gt=e:gt.push.apply(gt,e)}function ay(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],a=l.getSnapshot;l=l.value;try{if(!en(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function An(e,t){for(t&=~zu,t&=~Oi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xt(t),s=1<<n;e[n]=-1,t&=~s}}function gh(e){if(fe&6)throw Error(U(327));vr();var t=ei(e,0);if(!(t&1))return jt(e,Fe()),null;var n=yi(e,t);if(e.tag!==0&&n===2){var s=Yo(e);s!==0&&(t=s,n=kc(e,s))}if(n===1)throw n=Ul,Os(e,0),An(e,t),jt(e,Fe()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,js(e,gt,mn),jt(e,Fe()),null}function $u(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(_r=Fe()+500,Di&&ps())}}function Qs(e){Hn!==null&&Hn.tag===0&&!(fe&6)&&vr();var t=fe;fe|=1;var n=Bt.transition,s=ye;try{if(Bt.transition=null,ye=1,e)return e()}finally{ye=s,Bt.transition=n,fe=t,!(fe&6)&&ps()}}function Qu(){Pt=fr.current,we(fr)}function Os(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Og(n)),_e!==null)for(n=_e.return;n!==null;){var s=n;switch(wu(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&li();break;case 3:Or(),we(vt),we(at),Du();break;case 5:Ru(s);break;case 4:Or();break;case 13:we(ke);break;case 19:we(ke);break;case 10:Pu(s.type._context);break;case 22:case 23:Qu()}n=n.return}if(Ve=e,_e=e=ls(e.current,null),Ge=Pt=t,Be=0,Ul=null,zu=Oi=$s=0,gt=vl=null,ws!==null){for(t=0;t<ws.length;t++)if(n=ws[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,s.next=i}n.pending=s}ws=null}return e}function Mm(e,t){do{var n=_e;try{if(ku(),_a.current=pi,fi){for(var s=Ee.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}fi=!1}if(Bs=0,We=Ue=Ee=null,gl=!1,Ol=0,Uu.current=null,n===null||n.return===null){Be=1,Ul=t,_e=null;break}e:{var a=e,i=n.return,o=n,c=t;if(t=Ge,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var j=rh(i);if(j!==null){j.flags&=-257,lh(j,i,o,a,t),j.mode&1&&sh(a,u,t),t=j,c=u;var m=t.updateQueue;if(m===null){var y=new Set;y.add(c),t.updateQueue=y}else m.add(c);break e}else{if(!(t&1)){sh(a,u,t),qu();break e}c=Error(U(426))}}else if(Ce&&o.mode&1){var v=rh(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),lh(v,i,o,a,t),Su(Ar(c,o));break e}}a=c=Ar(c,o),Be!==4&&(Be=2),vl===null?vl=[a]:vl.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var f=gm(a,c,t);Xd(a,f);break e;case 1:o=c;var p=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ss===null||!ss.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=ym(a,o,t);Xd(a,b);break e}}a=a.return}while(a!==null)}Am(n)}catch(R){t=R,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function Fm(){var e=mi.current;return mi.current=pi,e===null?pi:e}function qu(){(Be===0||Be===3||Be===2)&&(Be=4),Ve===null||!($s&268435455)&&!(Oi&268435455)||An(Ve,Ge)}function yi(e,t){var n=fe;fe|=2;var s=Fm();(Ve!==e||Ge!==t)&&(mn=null,Os(e,t));do try{iy();break}catch(l){Mm(e,l)}while(!0);if(ku(),fe=n,mi.current=s,_e!==null)throw Error(U(261));return Ve=null,Ge=0,Be}function iy(){for(;_e!==null;)Om(_e)}function oy(){for(;_e!==null&&!I0();)Om(_e)}function Om(e){var t=Um(e.alternate,e,Pt);e.memoizedProps=e.pendingProps,t===null?Am(e):_e=t,Uu.current=null}function Am(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ty(n,t),n!==null){n.flags&=32767,_e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,_e=null;return}}else if(n=ey(n,t,Pt),n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Be===0&&(Be=5)}function js(e,t,n){var s=ye,l=Bt.transition;try{Bt.transition=null,ye=1,cy(e,t,n,s)}finally{Bt.transition=l,ye=s}return null}function cy(e,t,n,s){do vr();while(Hn!==null);if(fe&6)throw Error(U(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Q0(e,a),e===Ve&&(_e=Ve=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pa||(Pa=!0,zm(Za,function(){return vr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Bt.transition,Bt.transition=null;var i=ye;ye=1;var o=fe;fe|=4,Uu.current=null,sy(e,n),Rm(n,e),Lg(rc),ti=!!sc,rc=sc=null,e.current=n,ry(n),M0(),fe=o,ye=i,Bt.transition=a}else e.current=n;if(Pa&&(Pa=!1,Hn=e,gi=l),a=e.pendingLanes,a===0&&(ss=null),A0(n.stateNode),jt(e,Fe()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(xi)throw xi=!1,e=Sc,Sc=null,e;return gi&1&&e.tag!==0&&vr(),a=e.pendingLanes,a&1?e===Cc?bl++:(bl=0,Cc=e):bl=0,ps(),null}function vr(){if(Hn!==null){var e=gp(gi),t=Bt.transition,n=ye;try{if(Bt.transition=null,ye=16>e?16:e,Hn===null)var s=!1;else{if(e=Hn,Hn=null,gi=0,fe&6)throw Error(U(331));var l=fe;for(fe|=4,H=e.current;H!==null;){var a=H,i=a.child;if(H.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(H=u;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:yl(8,h,a)}var d=h.child;if(d!==null)d.return=h,H=d;else for(;H!==null;){h=H;var g=h.sibling,j=h.return;if(Em(h),h===u){H=null;break}if(g!==null){g.return=j,H=g;break}H=j}}}var m=a.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}H=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,H=i;else e:for(;H!==null;){if(a=H,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yl(9,a,a.return)}var f=a.sibling;if(f!==null){f.return=a.return,H=f;break e}H=a.return}}var p=e.current;for(H=p;H!==null;){i=H;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,H=x;else e:for(i=p;H!==null;){if(o=H,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Fi(9,o)}}catch(R){De(o,o.return,R)}if(o===i){H=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,H=b;break e}H=o.return}}if(fe=l,ps(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(Pi,e)}catch{}s=!0}return s}finally{ye=n,Bt.transition=t}}return!1}function yh(e,t,n){t=Ar(n,t),t=gm(e,t,1),e=ns(e,t,1),t=dt(),e!==null&&(Yl(e,1,t),jt(e,t))}function De(e,t,n){if(e.tag===3)yh(e,e,n);else for(;t!==null;){if(t.tag===3){yh(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ss===null||!ss.has(s))){e=Ar(n,e),e=ym(t,e,1),t=ns(t,e,1),e=dt(),t!==null&&(Yl(t,1,e),jt(t,e));break}}t=t.return}}function uy(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,Ve===e&&(Ge&n)===n&&(Be===4||Be===3&&(Ge&130023424)===Ge&&500>Fe()-Bu?Os(e,0):zu|=n),jt(e,t)}function _m(e,t){t===0&&(e.mode&1?(t=ga,ga<<=1,!(ga&130023424)&&(ga=4194304)):t=1);var n=dt();e=Pn(e,t),e!==null&&(Yl(e,t,n),jt(e,n))}function dy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_m(e,n)}function hy(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(U(314))}s!==null&&s.delete(t),_m(e,n)}var Um;Um=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vt.current)yt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yt=!1,Zg(e,t,n);yt=!!(e.flags&131072)}else yt=!1,Ce&&t.flags&1048576&&Qp(t,oi,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;za(e,t),e=t.pendingProps;var l=Ir(t,at.current);yr(t,n),l=Mu(null,t,s,e,l,n);var a=Fu();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bt(s)?(a=!0,ai(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Lu(t),l.updater=Mi,t.stateNode=l,l._reactInternals=t,fc(t,s,e,n),t=xc(null,t,s,!0,a,n)):(t.tag=0,Ce&&a&&Nu(t),ot(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(za(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=py(s),e=Vt(s,e),l){case 0:t=mc(null,t,s,e,n);break e;case 1:t=oh(null,t,s,e,n);break e;case 11:t=ah(null,t,s,e,n);break e;case 14:t=ih(null,t,s,Vt(s.type,e),n);break e}throw Error(U(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Vt(s,l),mc(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Vt(s,l),oh(e,t,s,l,n);case 3:e:{if(Nm(t),e===null)throw Error(U(387));s=t.pendingProps,a=t.memoizedState,l=a.element,Jp(e,t),di(t,s,null,n);var i=t.memoizedState;if(s=i.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=Ar(Error(U(423)),t),t=ch(e,t,s,n,l);break e}else if(s!==l){l=Ar(Error(U(424)),t),t=ch(e,t,s,n,l);break e}else for(Lt=ts(t.stateNode.containerInfo.firstChild),Tt=t,Ce=!0,Gt=null,n=Kp(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mr(),s===l){t=En(e,t,n);break e}ot(e,t,s,n)}t=t.child}return t;case 5:return Gp(t),e===null&&uc(t),s=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,lc(s,l)?i=null:a!==null&&lc(s,a)&&(t.flags|=32),jm(e,t),ot(e,t,i,n),t.child;case 6:return e===null&&uc(t),null;case 13:return wm(e,t,n);case 4:return Tu(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Fr(t,null,s,n):ot(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Vt(s,l),ah(e,t,s,l,n);case 7:return ot(e,t,t.pendingProps,n),t.child;case 8:return ot(e,t,t.pendingProps.children,n),t.child;case 12:return ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,je(ci,s._currentValue),s._currentValue=i,a!==null)if(en(a.value,i)){if(a.children===l.children&&!vt.current){t=En(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=wn(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),dc(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(U(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),dc(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}ot(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,yr(t,n),l=$t(l),s=s(l),t.flags|=1,ot(e,t,s,n),t.child;case 14:return s=t.type,l=Vt(s,t.pendingProps),l=Vt(s.type,l),ih(e,t,s,l,n);case 15:return vm(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Vt(s,l),za(e,t),t.tag=1,bt(s)?(e=!0,ai(t)):e=!1,yr(t,n),xm(t,s,l),fc(t,s,l,n),xc(null,t,s,!0,e,n);case 19:return Sm(e,t,n);case 22:return bm(e,t,n)}throw Error(U(156,t.tag))};function zm(e,t){return fp(e,t)}function fy(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,n,s){return new fy(e,t,n,s)}function Wu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function py(e){if(typeof e=="function")return Wu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uu)return 11;if(e===du)return 14}return 2}function ls(e,t){var n=e.alternate;return n===null?(n=zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qa(e,t,n,s,l,a){var i=2;if(s=e,typeof e=="function")Wu(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case sr:return As(n.children,l,a,t);case cu:i=8,l|=8;break;case Ao:return e=zt(12,n,t,l|2),e.elementType=Ao,e.lanes=a,e;case _o:return e=zt(13,n,t,l),e.elementType=_o,e.lanes=a,e;case Uo:return e=zt(19,n,t,l),e.elementType=Uo,e.lanes=a,e;case Gf:return Ai(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hf:i=10;break e;case Jf:i=9;break e;case uu:i=11;break e;case du:i=14;break e;case In:i=16,s=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=zt(i,n,t,l),t.elementType=e,t.type=s,t.lanes=a,t}function As(e,t,n,s){return e=zt(7,e,s,t),e.lanes=n,e}function Ai(e,t,n,s){return e=zt(22,e,s,t),e.elementType=Gf,e.lanes=n,e.stateNode={isHidden:!1},e}function Co(e,t,n){return e=zt(6,e,null,t),e.lanes=n,e}function ko(e,t,n){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function my(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lo(0),this.expirationTimes=lo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Vu(e,t,n,s,l,a,i,o,c){return e=new my(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=zt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lu(a),e}function xy(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nr,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Bm(e){if(!e)return cs;e=e._reactInternals;e:{if(Js(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(bt(n))return Bp(e,n,t)}return t}function $m(e,t,n,s,l,a,i,o,c){return e=Vu(n,s,!0,e,l,a,i,o,c),e.context=Bm(null),n=e.current,s=dt(),l=rs(n),a=wn(s,l),a.callback=t??null,ns(n,a,l),e.current.lanes=l,Yl(e,l,s),jt(e,s),e}function _i(e,t,n,s){var l=t.current,a=dt(),i=rs(l);return n=Bm(n),t.context===null?t.context=n:t.pendingContext=n,t=wn(a,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=ns(l,t,i),e!==null&&(Yt(e,l,i,a),Aa(e,l,i)),i}function vi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ku(e,t){vh(e,t),(e=e.alternate)&&vh(e,t)}function gy(){return null}var Qm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hu(e){this._internalRoot=e}Ui.prototype.render=Hu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));_i(e,t,null,null)};Ui.prototype.unmount=Hu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qs(function(){_i(null,e,null,null)}),t[kn]=null}};function Ui(e){this._internalRoot=e}Ui.prototype.unstable_scheduleHydration=function(e){if(e){var t=bp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<On.length&&t!==0&&t<On[n].priority;n++);On.splice(n,0,e),n===0&&Np(e)}};function Ju(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bh(){}function yy(e,t,n,s,l){if(l){if(typeof s=="function"){var a=s;s=function(){var u=vi(i);a.call(u)}}var i=$m(t,s,e,0,null,!1,!1,"",bh);return e._reactRootContainer=i,e[kn]=i.current,Rl(e.nodeType===8?e.parentNode:e),Qs(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var o=s;s=function(){var u=vi(c);o.call(u)}}var c=Vu(e,0,!1,null,null,!1,!1,"",bh);return e._reactRootContainer=c,e[kn]=c.current,Rl(e.nodeType===8?e.parentNode:e),Qs(function(){_i(t,c,n,s)}),c}function Bi(e,t,n,s,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var o=l;l=function(){var c=vi(i);o.call(c)}}_i(t,i,e,l)}else i=yy(n,t,e,l,s);return vi(i)}yp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=cl(t.pendingLanes);n!==0&&(pu(t,n|1),jt(t,Fe()),!(fe&6)&&(_r=Fe()+500,ps()))}break;case 13:Qs(function(){var s=Pn(e,1);if(s!==null){var l=dt();Yt(s,e,1,l)}}),Ku(e,1)}};mu=function(e){if(e.tag===13){var t=Pn(e,134217728);if(t!==null){var n=dt();Yt(t,e,134217728,n)}Ku(e,134217728)}};vp=function(e){if(e.tag===13){var t=rs(e),n=Pn(e,t);if(n!==null){var s=dt();Yt(n,e,t,s)}Ku(e,t)}};bp=function(){return ye};jp=function(e,t){var n=ye;try{return ye=e,t()}finally{ye=n}};Jo=function(e,t,n){switch(t){case"input":if($o(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Ri(s);if(!l)throw Error(U(90));Yf(s),$o(s,l)}}}break;case"textarea":ep(e,n);break;case"select":t=n.value,t!=null&&pr(e,!!n.multiple,t,!1)}};ip=$u;op=Qs;var vy={usingClientEntryPoint:!1,Events:[ea,ir,Ri,lp,ap,$u]},nl={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},by={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dp(e),e===null?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||gy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ea=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ea.isDisabled&&Ea.supportsFiber)try{Pi=Ea.inject(by),dn=Ea}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vy;Dt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ju(t))throw Error(U(200));return xy(e,t,null,n)};Dt.createRoot=function(e,t){if(!Ju(e))throw Error(U(299));var n=!1,s="",l=Qm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Vu(e,1,!1,null,null,n,!1,s,l),e[kn]=t.current,Rl(e.nodeType===8?e.parentNode:e),new Hu(t)};Dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=dp(t),e=e===null?null:e.stateNode,e};Dt.flushSync=function(e){return Qs(e)};Dt.hydrate=function(e,t,n){if(!zi(t))throw Error(U(200));return Bi(null,e,t,!0,n)};Dt.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(U(405));var s=n!=null&&n.hydratedSources||null,l=!1,a="",i=Qm;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=$m(t,null,e,1,n??null,l,!1,a,i),e[kn]=t.current,Rl(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ui(t)};Dt.render=function(e,t,n){if(!zi(t))throw Error(U(200));return Bi(null,e,t,!1,n)};Dt.unmountComponentAtNode=function(e){if(!zi(e))throw Error(U(40));return e._reactRootContainer?(Qs(function(){Bi(null,null,e,!1,function(){e._reactRootContainer=null,e[kn]=null})}),!0):!1};Dt.unstable_batchedUpdates=$u;Dt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!zi(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Bi(e,t,n,!1,s)};Dt.version="18.3.1-next-f1338f8080-20240426";function qm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qm)}catch(e){console.error(e)}}qm(),qf.exports=Dt;var jy=qf.exports,jh=jy;Fo.createRoot=jh.createRoot,Fo.hydrateRoot=jh.hydrateRoot;var qr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ny={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},_n,tu,jf,wy=(jf=class{constructor(){Y(this,_n,Ny);Y(this,tu,!1)}setTimeoutProvider(e){V(this,_n,e)}setTimeout(e,t){return N(this,_n).setTimeout(e,t)}clearTimeout(e){N(this,_n).clearTimeout(e)}setInterval(e,t){return N(this,_n).setInterval(e,t)}clearInterval(e){N(this,_n).clearInterval(e)}},_n=new WeakMap,tu=new WeakMap,jf),Cs=new wy;function Sy(e){setTimeout(e,0)}var qs=typeof window>"u"||"Deno"in globalThis;function ct(){}function Cy(e,t){return typeof e=="function"?e(t):e}function Ec(e){return typeof e=="number"&&e>=0&&e!==1/0}function Wm(e,t){return Math.max(e+(t||0)-Date.now(),0)}function as(e,t){return typeof e=="function"?e(t):e}function At(e,t){return typeof e=="function"?e(t):e}function Nh(e,t){const{type:n="all",exact:s,fetchStatus:l,predicate:a,queryKey:i,stale:o}=e;if(i){if(s){if(t.queryHash!==Gu(i,t.options))return!1}else if(!zl(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||l&&l!==t.state.fetchStatus||a&&!a(t))}function wh(e,t){const{exact:n,status:s,predicate:l,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Ws(t.options.mutationKey)!==Ws(a))return!1}else if(!zl(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||l&&!l(t))}function Gu(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ws)(e)}function Ws(e){return JSON.stringify(e,(t,n)=>Lc(n)?Object.keys(n).sort().reduce((s,l)=>(s[l]=n[l],s),{}):n)}function zl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>zl(e[n],t[n])):!1}var ky=Object.prototype.hasOwnProperty;function Vm(e,t,n=0){if(e===t)return e;if(n>500)return t;const s=Sh(e)&&Sh(t);if(!s&&!(Lc(e)&&Lc(t)))return t;const a=(s?e:Object.keys(e)).length,i=s?t:Object.keys(t),o=i.length,c=s?new Array(o):{};let u=0;for(let h=0;h<o;h++){const d=s?h:i[h],g=e[d],j=t[d];if(g===j){c[d]=g,(s?h<a:ky.call(e,d))&&u++;continue}if(g===null||j===null||typeof g!="object"||typeof j!="object"){c[d]=j;continue}const m=Vm(g,j,n+1);c[d]=m,m===g&&u++}return a===o&&u===a?e:c}function bi(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Sh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Lc(e){if(!Ch(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ch(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ch(e){return Object.prototype.toString.call(e)==="[object Object]"}function Py(e){return new Promise(t=>{Cs.setTimeout(t,e)})}function Tc(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Vm(e,t):t}function Ey(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function Ly(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var Xu=Symbol();function Km(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Xu?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Yu(e,t){return typeof e=="function"?e(...t):!!e}function Ty(e,t,n){let s=!1,l;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(l??(l=t()),s||(s=!0,l.aborted?n():l.addEventListener("abort",n,{once:!0})),l)}),e}var Ps,Un,br,Nf,Ry=(Nf=class extends qr{constructor(){super();Y(this,Ps);Y(this,Un);Y(this,br);V(this,br,t=>{if(!qs&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){N(this,Un)||this.setEventListener(N(this,br))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,Un))==null||t.call(this),V(this,Un,void 0))}setEventListener(t){var n;V(this,br,t),(n=N(this,Un))==null||n.call(this),V(this,Un,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){N(this,Ps)!==t&&(V(this,Ps,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof N(this,Ps)=="boolean"?N(this,Ps):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ps=new WeakMap,Un=new WeakMap,br=new WeakMap,Nf),Zu=new Ry;function Rc(){let e,t;const n=new Promise((l,a)=>{e=l,t=a});n.status="pending",n.catch(()=>{});function s(l){Object.assign(n,l),delete n.resolve,delete n.reject}return n.resolve=l=>{s({status:"fulfilled",value:l}),e(l)},n.reject=l=>{s({status:"rejected",reason:l}),t(l)},n}var Dy=Sy;function Iy(){let e=[],t=0,n=o=>{o()},s=o=>{o()},l=Dy;const a=o=>{t?e.push(o):l(()=>{n(o)})},i=()=>{const o=e;e=[],o.length&&l(()=>{s(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||i()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{s=o},setScheduler:o=>{l=o}}}var ze=Iy(),jr,zn,Nr,wf,My=(wf=class extends qr{constructor(){super();Y(this,jr,!0);Y(this,zn);Y(this,Nr);V(this,Nr,t=>{if(!qs&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){N(this,zn)||this.setEventListener(N(this,Nr))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,zn))==null||t.call(this),V(this,zn,void 0))}setEventListener(t){var n;V(this,Nr,t),(n=N(this,zn))==null||n.call(this),V(this,zn,t(this.setOnline.bind(this)))}setOnline(t){N(this,jr)!==t&&(V(this,jr,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return N(this,jr)}},jr=new WeakMap,zn=new WeakMap,Nr=new WeakMap,wf),ji=new My;function Fy(e){return Math.min(1e3*2**e,3e4)}function Hm(e){return(e??"online")==="online"?ji.isOnline():!0}var Dc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Jm(e){let t=!1,n=0,s;const l=Rc(),a=()=>l.status!=="pending",i=y=>{var v;if(!a()){const f=new Dc(y);g(f),(v=e.onCancel)==null||v.call(e,f)}},o=()=>{t=!0},c=()=>{t=!1},u=()=>Zu.isFocused()&&(e.networkMode==="always"||ji.isOnline())&&e.canRun(),h=()=>Hm(e.networkMode)&&e.canRun(),d=y=>{a()||(s==null||s(),l.resolve(y))},g=y=>{a()||(s==null||s(),l.reject(y))},j=()=>new Promise(y=>{var v;s=f=>{(a()||u())&&y(f)},(v=e.onPause)==null||v.call(e)}).then(()=>{var y;s=void 0,a()||(y=e.onContinue)==null||y.call(e)}),m=()=>{if(a())return;let y;const v=n===0?e.initialPromise:void 0;try{y=v??e.fn()}catch(f){y=Promise.reject(f)}Promise.resolve(y).then(d).catch(f=>{var I;if(a())return;const p=e.retry??(qs?0:3),x=e.retryDelay??Fy,b=typeof x=="function"?x(n,f):x,R=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,f);if(t||!R){g(f);return}n++,(I=e.onFail)==null||I.call(e,n,f),Py(b).then(()=>u()?void 0:j()).then(()=>{t?g(f):m()})})};return{promise:l,status:()=>l.status,cancel:i,continue:()=>(s==null||s(),l),cancelRetry:o,continueRetry:c,canStart:h,start:()=>(h()?m():j().then(m),l)}}var Es,Sf,Gm=(Sf=class{constructor(){Y(this,Es)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ec(this.gcTime)&&V(this,Es,Cs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qs?1/0:5*60*1e3))}clearGcTimeout(){N(this,Es)&&(Cs.clearTimeout(N(this,Es)),V(this,Es,void 0))}},Es=new WeakMap,Sf),Ls,wr,Ot,Ts,qe,Vl,Rs,Kt,pn,Cf,Oy=(Cf=class extends Gm{constructor(t){super();Y(this,Kt);Y(this,Ls);Y(this,wr);Y(this,Ot);Y(this,Ts);Y(this,qe);Y(this,Vl);Y(this,Rs);V(this,Rs,!1),V(this,Vl,t.defaultOptions),this.setOptions(t.options),this.observers=[],V(this,Ts,t.client),V(this,Ot,N(this,Ts).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,V(this,Ls,Ph(this.options)),this.state=t.state??N(this,Ls),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,qe))==null?void 0:t.promise}setOptions(t){if(this.options={...N(this,Vl),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Ph(this.options);n.data!==void 0&&(this.setState(kh(n.data,n.dataUpdatedAt)),V(this,Ls,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,Ot).remove(this)}setData(t,n){const s=Tc(this.state.data,t,this.options);return re(this,Kt,pn).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){re(this,Kt,pn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,l;const n=(s=N(this,qe))==null?void 0:s.promise;return(l=N(this,qe))==null||l.cancel(t),n?n.then(ct).catch(ct):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,Ls))}isActive(){return this.observers.some(t=>At(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>as(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Wm(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=N(this,qe))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=N(this,qe))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,Ot).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(N(this,qe)&&(N(this,Rs)?N(this,qe).cancel({revert:!0}):N(this,qe).cancelRetry()),this.scheduleGc()),N(this,Ot).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||re(this,Kt,pn).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,h,d,g,j,m,y,v,f,p,x;if(this.state.fetchStatus!=="idle"&&((c=N(this,qe))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(N(this,qe))return N(this,qe).continueRetry(),N(this,qe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(R=>R.options.queryFn);b&&this.setOptions(b.options)}const s=new AbortController,l=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(V(this,Rs,!0),s.signal)})},a=()=>{const b=Km(this.options,n),I=(()=>{const S={client:N(this,Ts),queryKey:this.queryKey,meta:this.meta};return l(S),S})();return V(this,Rs,!1),this.options.persister?this.options.persister(b,I,this):b(I)},o=(()=>{const b={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:N(this,Ts),state:this.state,fetchFn:a};return l(b),b})();(u=this.options.behavior)==null||u.onFetch(o,this),V(this,wr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=o.fetchOptions)==null?void 0:h.meta))&&re(this,Kt,pn).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta}),V(this,qe,Jm({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:b=>{b instanceof Dc&&b.revert&&this.setState({...N(this,wr),fetchStatus:"idle"}),s.abort()},onFail:(b,R)=>{re(this,Kt,pn).call(this,{type:"failed",failureCount:b,error:R})},onPause:()=>{re(this,Kt,pn).call(this,{type:"pause"})},onContinue:()=>{re(this,Kt,pn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const b=await N(this,qe).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(j=(g=N(this,Ot).config).onSuccess)==null||j.call(g,b,this),(y=(m=N(this,Ot).config).onSettled)==null||y.call(m,b,this.state.error,this),b}catch(b){if(b instanceof Dc){if(b.silent)return N(this,qe).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw re(this,Kt,pn).call(this,{type:"error",error:b}),(f=(v=N(this,Ot).config).onError)==null||f.call(v,b,this),(x=(p=N(this,Ot).config).onSettled)==null||x.call(p,this.state.data,b,this),b}finally{this.scheduleGc()}}},Ls=new WeakMap,wr=new WeakMap,Ot=new WeakMap,Ts=new WeakMap,qe=new WeakMap,Vl=new WeakMap,Rs=new WeakMap,Kt=new WeakSet,pn=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Xm(s.data,this.options),fetchMeta:t.meta??null};case"success":const l={...s,...kh(t.data,t.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return V(this,wr,t.manual?l:void 0),l;case"error":const a=t.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),ze.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),N(this,Ot).notify({query:this,type:"updated",action:t})})},Cf);function Xm(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Hm(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function kh(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ph(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var mt,oe,Kl,it,Ds,Sr,gn,Bn,Hl,Cr,kr,Is,Ms,$n,Pr,ge,dl,Ic,Mc,Fc,Oc,Ac,_c,Uc,Ym,kf,Ay=(kf=class extends qr{constructor(t,n){super();Y(this,ge);Y(this,mt);Y(this,oe);Y(this,Kl);Y(this,it);Y(this,Ds);Y(this,Sr);Y(this,gn);Y(this,Bn);Y(this,Hl);Y(this,Cr);Y(this,kr);Y(this,Is);Y(this,Ms);Y(this,$n);Y(this,Pr,new Set);this.options=n,V(this,mt,t),V(this,Bn,null),V(this,gn,Rc()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,oe).addObserver(this),Eh(N(this,oe),this.options)?re(this,ge,dl).call(this):this.updateResult(),re(this,ge,Oc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return zc(N(this,oe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return zc(N(this,oe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,re(this,ge,Ac).call(this),re(this,ge,_c).call(this),N(this,oe).removeObserver(this)}setOptions(t){const n=this.options,s=N(this,oe);if(this.options=N(this,mt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof At(this.options.enabled,N(this,oe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");re(this,ge,Uc).call(this),N(this,oe).setOptions(this.options),n._defaulted&&!bi(this.options,n)&&N(this,mt).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,oe),observer:this});const l=this.hasListeners();l&&Lh(N(this,oe),s,this.options,n)&&re(this,ge,dl).call(this),this.updateResult(),l&&(N(this,oe)!==s||At(this.options.enabled,N(this,oe))!==At(n.enabled,N(this,oe))||as(this.options.staleTime,N(this,oe))!==as(n.staleTime,N(this,oe)))&&re(this,ge,Ic).call(this);const a=re(this,ge,Mc).call(this);l&&(N(this,oe)!==s||At(this.options.enabled,N(this,oe))!==At(n.enabled,N(this,oe))||a!==N(this,$n))&&re(this,ge,Fc).call(this,a)}getOptimisticResult(t){const n=N(this,mt).getQueryCache().build(N(this,mt),t),s=this.createResult(n,t);return Uy(this,s)&&(V(this,it,s),V(this,Sr,this.options),V(this,Ds,N(this,oe).state)),s}getCurrentResult(){return N(this,it)}trackResult(t,n){return new Proxy(t,{get:(s,l)=>(this.trackProp(l),n==null||n(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&N(this,gn).status==="pending"&&N(this,gn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,l))})}trackProp(t){N(this,Pr).add(t)}getCurrentQuery(){return N(this,oe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=N(this,mt).defaultQueryOptions(t),s=N(this,mt).getQueryCache().build(N(this,mt),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return re(this,ge,dl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,it)))}createResult(t,n){var _;const s=N(this,oe),l=this.options,a=N(this,it),i=N(this,Ds),o=N(this,Sr),u=t!==s?t.state:N(this,Kl),{state:h}=t;let d={...h},g=!1,j;if(n._optimisticResults){const O=this.hasListeners(),M=!O&&Eh(t,n),Q=O&&Lh(t,s,n,l);(M||Q)&&(d={...d,...Xm(h.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:v}=d;j=d.data;let f=!1;if(n.placeholderData!==void 0&&j===void 0&&v==="pending"){let O;a!=null&&a.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(O=a.data,f=!0):O=typeof n.placeholderData=="function"?n.placeholderData((_=N(this,kr))==null?void 0:_.state.data,N(this,kr)):n.placeholderData,O!==void 0&&(v="success",j=Tc(a==null?void 0:a.data,O,n),g=!0)}if(n.select&&j!==void 0&&!f)if(a&&j===(i==null?void 0:i.data)&&n.select===N(this,Hl))j=N(this,Cr);else try{V(this,Hl,n.select),j=n.select(j),j=Tc(a==null?void 0:a.data,j,n),V(this,Cr,j),V(this,Bn,null)}catch(O){V(this,Bn,O)}N(this,Bn)&&(m=N(this,Bn),j=N(this,Cr),y=Date.now(),v="error");const p=d.fetchStatus==="fetching",x=v==="pending",b=v==="error",R=x&&p,I=j!==void 0,P={status:v,fetchStatus:d.fetchStatus,isPending:x,isSuccess:v==="success",isError:b,isInitialLoading:R,isLoading:R,data:j,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:p,isRefetching:p&&!x,isLoadingError:b&&!I,isPaused:d.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:b&&I,isStale:ed(t,n),refetch:this.refetch,promise:N(this,gn),isEnabled:At(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=P.data!==void 0,M=P.status==="error"&&!O,Q=k=>{M?k.reject(P.error):O&&k.resolve(P.data)},J=()=>{const k=V(this,gn,P.promise=Rc());Q(k)},X=N(this,gn);switch(X.status){case"pending":t.queryHash===s.queryHash&&Q(X);break;case"fulfilled":(M||P.data!==X.value)&&J();break;case"rejected":(!M||P.error!==X.reason)&&J();break}}return P}updateResult(){const t=N(this,it),n=this.createResult(N(this,oe),this.options);if(V(this,Ds,N(this,oe).state),V(this,Sr,this.options),N(this,Ds).data!==void 0&&V(this,kr,N(this,oe)),bi(n,t))return;V(this,it,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,a=typeof l=="function"?l():l;if(a==="all"||!a&&!N(this,Pr).size)return!0;const i=new Set(a??N(this,Pr));return this.options.throwOnError&&i.add("error"),Object.keys(N(this,it)).some(o=>{const c=o;return N(this,it)[c]!==t[c]&&i.has(c)})};re(this,ge,Ym).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&re(this,ge,Oc).call(this)}},mt=new WeakMap,oe=new WeakMap,Kl=new WeakMap,it=new WeakMap,Ds=new WeakMap,Sr=new WeakMap,gn=new WeakMap,Bn=new WeakMap,Hl=new WeakMap,Cr=new WeakMap,kr=new WeakMap,Is=new WeakMap,Ms=new WeakMap,$n=new WeakMap,Pr=new WeakMap,ge=new WeakSet,dl=function(t){re(this,ge,Uc).call(this);let n=N(this,oe).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(ct)),n},Ic=function(){re(this,ge,Ac).call(this);const t=as(this.options.staleTime,N(this,oe));if(qs||N(this,it).isStale||!Ec(t))return;const s=Wm(N(this,it).dataUpdatedAt,t)+1;V(this,Is,Cs.setTimeout(()=>{N(this,it).isStale||this.updateResult()},s))},Mc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,oe)):this.options.refetchInterval)??!1},Fc=function(t){re(this,ge,_c).call(this),V(this,$n,t),!(qs||At(this.options.enabled,N(this,oe))===!1||!Ec(N(this,$n))||N(this,$n)===0)&&V(this,Ms,Cs.setInterval(()=>{(this.options.refetchIntervalInBackground||Zu.isFocused())&&re(this,ge,dl).call(this)},N(this,$n)))},Oc=function(){re(this,ge,Ic).call(this),re(this,ge,Fc).call(this,re(this,ge,Mc).call(this))},Ac=function(){N(this,Is)&&(Cs.clearTimeout(N(this,Is)),V(this,Is,void 0))},_c=function(){N(this,Ms)&&(Cs.clearInterval(N(this,Ms)),V(this,Ms,void 0))},Uc=function(){const t=N(this,mt).getQueryCache().build(N(this,mt),this.options);if(t===N(this,oe))return;const n=N(this,oe);V(this,oe,t),V(this,Kl,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Ym=function(t){ze.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(N(this,it))}),N(this,mt).getQueryCache().notify({query:N(this,oe),type:"observerResultsUpdated"})})},kf);function _y(e,t){return At(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Eh(e,t){return _y(e,t)||e.state.data!==void 0&&zc(e,t,t.refetchOnMount)}function zc(e,t,n){if(At(t.enabled,e)!==!1&&as(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&ed(e,t)}return!1}function Lh(e,t,n,s){return(e!==t||At(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&ed(e,n)}function ed(e,t){return At(t.enabled,e)!==!1&&e.isStaleByTime(as(t.staleTime,e))}function Uy(e,t){return!bi(e.getCurrentResult(),t)}function Th(e){return{onFetch:(t,n)=>{var h,d,g,j,m;const s=t.options,l=(g=(d=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:g.direction,a=((j=t.state.data)==null?void 0:j.pages)||[],i=((m=t.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const v=x=>{Ty(x,()=>t.signal,()=>y=!0)},f=Km(t.options,t.fetchOptions),p=async(x,b,R)=>{if(y)return Promise.reject();if(b==null&&x.pages.length)return Promise.resolve(x);const S=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:b,direction:R?"backward":"forward",meta:t.options.meta};return v(M),M})(),P=await f(S),{maxPages:_}=t.options,O=R?Ly:Ey;return{pages:O(x.pages,P,_),pageParams:O(x.pageParams,b,_)}};if(l&&a.length){const x=l==="backward",b=x?zy:Rh,R={pages:a,pageParams:i},I=b(s,R);o=await p(R,I,x)}else{const x=e??a.length;do{const b=c===0?i[0]??s.initialPageParam:Rh(s,o);if(c>0&&b==null)break;o=await p(o,b),c++}while(c<x)}return o};t.options.persister?t.fetchFn=()=>{var y,v;return(v=(y=t.options).persister)==null?void 0:v.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Rh(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function zy(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var Jl,an,tt,Fs,on,Dn,Pf,By=(Pf=class extends Gm{constructor(t){super();Y(this,on);Y(this,Jl);Y(this,an);Y(this,tt);Y(this,Fs);V(this,Jl,t.client),this.mutationId=t.mutationId,V(this,tt,t.mutationCache),V(this,an,[]),this.state=t.state||Zm(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,an).includes(t)||(N(this,an).push(t),this.clearGcTimeout(),N(this,tt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){V(this,an,N(this,an).filter(n=>n!==t)),this.scheduleGc(),N(this,tt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,an).length||(this.state.status==="pending"?this.scheduleGc():N(this,tt).remove(this))}continue(){var t;return((t=N(this,Fs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,c,u,h,d,g,j,m,y,v,f,p,x,b,R,I,S;const n=()=>{re(this,on,Dn).call(this,{type:"continue"})},s={client:N(this,Jl),meta:this.options.meta,mutationKey:this.options.mutationKey};V(this,Fs,Jm({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(P,_)=>{re(this,on,Dn).call(this,{type:"failed",failureCount:P,error:_})},onPause:()=>{re(this,on,Dn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,tt).canRun(this)}));const l=this.state.status==="pending",a=!N(this,Fs).canStart();try{if(l)n();else{re(this,on,Dn).call(this,{type:"pending",variables:t,isPaused:a}),N(this,tt).config.onMutate&&await N(this,tt).config.onMutate(t,this,s);const _=await((o=(i=this.options).onMutate)==null?void 0:o.call(i,t,s));_!==this.state.context&&re(this,on,Dn).call(this,{type:"pending",context:_,variables:t,isPaused:a})}const P=await N(this,Fs).start();return await((u=(c=N(this,tt).config).onSuccess)==null?void 0:u.call(c,P,t,this.state.context,this,s)),await((d=(h=this.options).onSuccess)==null?void 0:d.call(h,P,t,this.state.context,s)),await((j=(g=N(this,tt).config).onSettled)==null?void 0:j.call(g,P,null,this.state.variables,this.state.context,this,s)),await((y=(m=this.options).onSettled)==null?void 0:y.call(m,P,null,t,this.state.context,s)),re(this,on,Dn).call(this,{type:"success",data:P}),P}catch(P){try{await((f=(v=N(this,tt).config).onError)==null?void 0:f.call(v,P,t,this.state.context,this,s))}catch(_){Promise.reject(_)}try{await((x=(p=this.options).onError)==null?void 0:x.call(p,P,t,this.state.context,s))}catch(_){Promise.reject(_)}try{await((R=(b=N(this,tt).config).onSettled)==null?void 0:R.call(b,void 0,P,this.state.variables,this.state.context,this,s))}catch(_){Promise.reject(_)}try{await((S=(I=this.options).onSettled)==null?void 0:S.call(I,void 0,P,t,this.state.context,s))}catch(_){Promise.reject(_)}throw re(this,on,Dn).call(this,{type:"error",error:P}),P}finally{N(this,tt).runNext(this)}}},Jl=new WeakMap,an=new WeakMap,tt=new WeakMap,Fs=new WeakMap,on=new WeakSet,Dn=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ze.batch(()=>{N(this,an).forEach(s=>{s.onMutationUpdate(t)}),N(this,tt).notify({mutation:this,type:"updated",action:t})})},Pf);function Zm(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yn,Ht,Gl,Ef,$y=(Ef=class extends qr{constructor(t={}){super();Y(this,yn);Y(this,Ht);Y(this,Gl);this.config=t,V(this,yn,new Set),V(this,Ht,new Map),V(this,Gl,0)}build(t,n,s){const l=new By({client:t,mutationCache:this,mutationId:++da(this,Gl)._,options:t.defaultMutationOptions(n),state:s});return this.add(l),l}add(t){N(this,yn).add(t);const n=La(t);if(typeof n=="string"){const s=N(this,Ht).get(n);s?s.push(t):N(this,Ht).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(N(this,yn).delete(t)){const n=La(t);if(typeof n=="string"){const s=N(this,Ht).get(n);if(s)if(s.length>1){const l=s.indexOf(t);l!==-1&&s.splice(l,1)}else s[0]===t&&N(this,Ht).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=La(t);if(typeof n=="string"){const s=N(this,Ht).get(n),l=s==null?void 0:s.find(a=>a.state.status==="pending");return!l||l===t}else return!0}runNext(t){var s;const n=La(t);if(typeof n=="string"){const l=(s=N(this,Ht).get(n))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ze.batch(()=>{N(this,yn).forEach(t=>{this.notify({type:"removed",mutation:t})}),N(this,yn).clear(),N(this,Ht).clear()})}getAll(){return Array.from(N(this,yn))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>wh(n,s))}findAll(t={}){return this.getAll().filter(n=>wh(t,n))}notify(t){ze.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ze.batch(()=>Promise.all(t.map(n=>n.continue().catch(ct))))}},yn=new WeakMap,Ht=new WeakMap,Gl=new WeakMap,Ef);function La(e){var t;return(t=e.options.scope)==null?void 0:t.id}var vn,Qn,xt,bn,Sn,qa,Bc,Lf,Qy=(Lf=class extends qr{constructor(n,s){super();Y(this,Sn);Y(this,vn);Y(this,Qn);Y(this,xt);Y(this,bn);V(this,vn,n),this.setOptions(s),this.bindMethods(),re(this,Sn,qa).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var l;const s=this.options;this.options=N(this,vn).defaultMutationOptions(n),bi(this.options,s)||N(this,vn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,xt),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Ws(s.mutationKey)!==Ws(this.options.mutationKey)?this.reset():((l=N(this,xt))==null?void 0:l.state.status)==="pending"&&N(this,xt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=N(this,xt))==null||n.removeObserver(this)}onMutationUpdate(n){re(this,Sn,qa).call(this),re(this,Sn,Bc).call(this,n)}getCurrentResult(){return N(this,Qn)}reset(){var n;(n=N(this,xt))==null||n.removeObserver(this),V(this,xt,void 0),re(this,Sn,qa).call(this),re(this,Sn,Bc).call(this)}mutate(n,s){var l;return V(this,bn,s),(l=N(this,xt))==null||l.removeObserver(this),V(this,xt,N(this,vn).getMutationCache().build(N(this,vn),this.options)),N(this,xt).addObserver(this),N(this,xt).execute(n)}},vn=new WeakMap,Qn=new WeakMap,xt=new WeakMap,bn=new WeakMap,Sn=new WeakSet,qa=function(){var s;const n=((s=N(this,xt))==null?void 0:s.state)??Zm();V(this,Qn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Bc=function(n){ze.batch(()=>{var s,l,a,i,o,c,u,h;if(N(this,bn)&&this.hasListeners()){const d=N(this,Qn).variables,g=N(this,Qn).context,j={client:N(this,vn),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(l=(s=N(this,bn)).onSuccess)==null||l.call(s,n.data,d,g,j)}catch(m){Promise.reject(m)}try{(i=(a=N(this,bn)).onSettled)==null||i.call(a,n.data,null,d,g,j)}catch(m){Promise.reject(m)}}else if((n==null?void 0:n.type)==="error"){try{(c=(o=N(this,bn)).onError)==null||c.call(o,n.error,d,g,j)}catch(m){Promise.reject(m)}try{(h=(u=N(this,bn)).onSettled)==null||h.call(u,void 0,n.error,d,g,j)}catch(m){Promise.reject(m)}}}this.listeners.forEach(d=>{d(N(this,Qn))})})},Lf),cn,Tf,qy=(Tf=class extends qr{constructor(t={}){super();Y(this,cn);this.config=t,V(this,cn,new Map)}build(t,n,s){const l=n.queryKey,a=n.queryHash??Gu(l,n);let i=this.get(a);return i||(i=new Oy({client:t,queryKey:l,queryHash:a,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(l)}),this.add(i)),i}add(t){N(this,cn).has(t.queryHash)||(N(this,cn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=N(this,cn).get(t.queryHash);n&&(t.destroy(),n===t&&N(this,cn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ze.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,cn).get(t)}getAll(){return[...N(this,cn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Nh(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>Nh(t,s)):n}notify(t){ze.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ze.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ze.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},cn=new WeakMap,Tf),Re,qn,Wn,Er,Lr,Vn,Tr,Rr,Rf,Wy=(Rf=class{constructor(e={}){Y(this,Re);Y(this,qn);Y(this,Wn);Y(this,Er);Y(this,Lr);Y(this,Vn);Y(this,Tr);Y(this,Rr);V(this,Re,e.queryCache||new qy),V(this,qn,e.mutationCache||new $y),V(this,Wn,e.defaultOptions||{}),V(this,Er,new Map),V(this,Lr,new Map),V(this,Vn,0)}mount(){da(this,Vn)._++,N(this,Vn)===1&&(V(this,Tr,Zu.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,Re).onFocus())})),V(this,Rr,ji.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,Re).onOnline())})))}unmount(){var e,t;da(this,Vn)._--,N(this,Vn)===0&&((e=N(this,Tr))==null||e.call(this),V(this,Tr,void 0),(t=N(this,Rr))==null||t.call(this),V(this,Rr,void 0))}isFetching(e){return N(this,Re).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,qn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=N(this,Re).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=N(this,Re).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(as(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return N(this,Re).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),l=N(this,Re).get(s.queryHash),a=l==null?void 0:l.state.data,i=Cy(t,a);if(i!==void 0)return N(this,Re).build(this,s).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return ze.batch(()=>N(this,Re).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=N(this,Re).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=N(this,Re);ze.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=N(this,Re);return ze.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=ze.batch(()=>N(this,Re).findAll(e).map(l=>l.cancel(n)));return Promise.all(s).then(ct).catch(ct)}invalidateQueries(e,t={}){return ze.batch(()=>(N(this,Re).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=ze.batch(()=>N(this,Re).findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let a=l.fetch(void 0,n);return n.throwOnError||(a=a.catch(ct)),l.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(ct)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=N(this,Re).build(this,t);return n.isStaleByTime(as(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ct).catch(ct)}fetchInfiniteQuery(e){return e.behavior=Th(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ct).catch(ct)}ensureInfiniteQueryData(e){return e.behavior=Th(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ji.isOnline()?N(this,qn).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,Re)}getMutationCache(){return N(this,qn)}getDefaultOptions(){return N(this,Wn)}setDefaultOptions(e){V(this,Wn,e)}setQueryDefaults(e,t){N(this,Er).set(Ws(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,Er).values()],n={};return t.forEach(s=>{zl(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){N(this,Lr).set(Ws(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,Lr).values()],n={};return t.forEach(s=>{zl(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,Wn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Gu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Xu&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,Wn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,Re).clear(),N(this,qn).clear()}},Re=new WeakMap,qn=new WeakMap,Wn=new WeakMap,Er=new WeakMap,Lr=new WeakMap,Vn=new WeakMap,Tr=new WeakMap,Rr=new WeakMap,Rf),ex=w.createContext(void 0),ue=e=>{const t=w.useContext(ex);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Vy=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(ex.Provider,{value:e,children:t})),tx=w.createContext(!1),Ky=()=>w.useContext(tx);tx.Provider;function Hy(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Jy=w.createContext(Hy()),Gy=()=>w.useContext(Jy),Xy=(e,t,n)=>{const s=n!=null&&n.state.error&&typeof e.throwOnError=="function"?Yu(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||s)&&(t.isReset()||(e.retryOnMount=!1))},Yy=e=>{w.useEffect(()=>{e.clearReset()},[e])},Zy=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:l})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(l&&e.data===void 0||Yu(n,[e.error,s])),ev=e=>{if(e.suspense){const n=l=>l==="static"?l:Math.max(l??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...l)=>n(s(...l)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},tv=(e,t)=>e.isLoading&&e.isFetching&&!t,nv=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Dh=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function sv(e,t,n){var g,j,m,y;const s=Ky(),l=Gy(),a=ue(),i=a.defaultQueryOptions(e);(j=(g=a.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||j.call(g,i);const o=a.getQueryCache().get(i.queryHash);i._optimisticResults=s?"isRestoring":"optimistic",ev(i),Xy(i,l,o),Yy(l);const c=!a.getQueryCache().get(i.queryHash),[u]=w.useState(()=>new t(a,i)),h=u.getOptimisticResult(i),d=!s&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(v=>{const f=d?u.subscribe(ze.batchCalls(v)):ct;return u.updateResult(),f},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),w.useEffect(()=>{u.setOptions(i)},[i,u]),nv(i,h))throw Dh(i,u,l);if(Zy({result:h,errorResetBoundary:l,throwOnError:i.throwOnError,query:o,suspense:i.suspense}))throw h.error;if((y=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,i,h),i.experimental_prefetchInRender&&!qs&&tv(h,s)){const v=c?Dh(i,u,l):o==null?void 0:o.promise;v==null||v.catch(ct).finally(()=>{u.updateResult()})}return i.notifyOnChangeProps?h:u.trackResult(h)}function pt(e,t){return sv(e,Ay)}function xe(e,t){const n=ue(),[s]=w.useState(()=>new Qy(n,e));w.useEffect(()=>{s.setOptions(e)},[s,e]);const l=w.useSyncExternalStore(w.useCallback(i=>s.subscribe(ze.batchCalls(i)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=w.useCallback((i,o)=>{s.mutate(i,o).catch(ct)},[s]);if(l.error&&Yu(s.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:a,mutateAsync:l.mutate}}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bl.apply(this,arguments)}var Jn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Jn||(Jn={}));const Ih="popstate";function rv(e){e===void 0&&(e={});function t(s,l){let{pathname:a,search:i,hash:o}=s.location;return $c("",{pathname:a,search:i,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:Ni(l)}return av(t,n,null,e)}function Ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function td(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lv(){return Math.random().toString(36).substr(2,8)}function Mh(e,t){return{usr:e.state,key:e.key,idx:t}}function $c(e,t,n,s){return n===void 0&&(n=null),Bl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wr(t):t,{state:n,key:t&&t.key||s||lv()})}function Ni(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Wr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function av(e,t,n,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:a=!1}=s,i=l.history,o=Jn.Pop,c=null,u=h();u==null&&(u=0,i.replaceState(Bl({},i.state,{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function d(){o=Jn.Pop;let v=h(),f=v==null?null:v-u;u=v,c&&c({action:o,location:y.location,delta:f})}function g(v,f){o=Jn.Push;let p=$c(y.location,v,f);u=h()+1;let x=Mh(p,u),b=y.createHref(p);try{i.pushState(x,"",b)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;l.location.assign(b)}a&&c&&c({action:o,location:y.location,delta:1})}function j(v,f){o=Jn.Replace;let p=$c(y.location,v,f);u=h();let x=Mh(p,u),b=y.createHref(p);i.replaceState(x,"",b),a&&c&&c({action:o,location:y.location,delta:0})}function m(v){let f=l.location.origin!=="null"?l.location.origin:l.location.href,p=typeof v=="string"?v:Ni(v);return p=p.replace(/ $/,"%20"),Ie(f,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,f)}let y={get action(){return o},get location(){return e(l,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(Ih,d),c=v,()=>{l.removeEventListener(Ih,d),c=null}},createHref(v){return t(l,v)},createURL:m,encodeLocation(v){let f=m(v);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:g,replace:j,go(v){return i.go(v)}};return y}var Fh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Fh||(Fh={}));function iv(e,t,n){return n===void 0&&(n="/"),ov(e,t,n)}function ov(e,t,n,s){let l=typeof t=="string"?Wr(t):t,a=Ur(l.pathname||"/",n);if(a==null)return null;let i=nx(e);cv(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=bv(a);o=yv(i[c],u)}return o}function nx(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let l=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(Ie(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=is([s,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(Ie(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),nx(a.children,t,h,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:xv(u,a.index),routesMeta:h})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))l(a,i);else for(let c of sx(a.path))l(a,i,c)}),t}function sx(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,l=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return l?[a,""]:[a];let i=sx(s.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),l&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function cv(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:gv(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const uv=/^:[\w-]+$/,dv=3,hv=2,fv=1,pv=10,mv=-2,Oh=e=>e==="*";function xv(e,t){let n=e.split("/"),s=n.length;return n.some(Oh)&&(s+=mv),t&&(s+=hv),n.filter(l=>!Oh(l)).reduce((l,a)=>l+(uv.test(a)?dv:a===""?fv:pv),s)}function gv(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function yv(e,t,n){let{routesMeta:s}=e,l={},a="/",i=[];for(let o=0;o<s.length;++o){let c=s[o],u=o===s.length-1,h=a==="/"?t:t.slice(a.length)||"/",d=Qc({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),g=c.route;if(!d)return null;Object.assign(l,d.params),i.push({params:l,pathname:is([a,d.pathname]),pathnameBase:Cv(is([a,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(a=is([a,d.pathnameBase]))}return i}function Qc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=vv(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let a=l[0],i=a.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:s.reduce((u,h,d)=>{let{paramName:g,isOptional:j}=h;if(g==="*"){let y=o[d]||"";i=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[d];return j&&!m?u[g]=void 0:u[g]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function vv(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),td(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function bv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return td(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ur(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}const jv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nv=e=>jv.test(e);function wv(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:l=""}=typeof e=="string"?Wr(e):e,a;if(n)if(Nv(n))a=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),td(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+n))}n.startsWith("/")?a=Ah(n.substring(1),"/"):a=Ah(n,t)}else a=t;return{pathname:a,search:kv(s),hash:Pv(l)}}function Ah(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Po(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sv(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function rx(e,t){let n=Sv(e);return t?n.map((s,l)=>l===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function lx(e,t,n,s){s===void 0&&(s=!1);let l;typeof e=="string"?l=Wr(e):(l=Bl({},e),Ie(!l.pathname||!l.pathname.includes("?"),Po("?","pathname","search",l)),Ie(!l.pathname||!l.pathname.includes("#"),Po("#","pathname","hash",l)),Ie(!l.search||!l.search.includes("#"),Po("#","search","hash",l)));let a=e===""||l.pathname==="",i=a?"/":l.pathname,o;if(i==null)o=n;else{let d=t.length-1;if(!s&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),d-=1;l.pathname=g.join("/")}o=d>=0?t[d]:"/"}let c=wv(l,o),u=i&&i!=="/"&&i.endsWith("/"),h=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const is=e=>e.join("/").replace(/\/\/+/g,"/"),Cv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Pv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ev(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ax=["post","put","patch","delete"];new Set(ax);const Lv=["get",...ax];new Set(Lv);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$l.apply(this,arguments)}const $i=w.createContext(null),ix=w.createContext(null),ms=w.createContext(null),Qi=w.createContext(null),xs=w.createContext({outlet:null,matches:[],isDataRoute:!1}),ox=w.createContext(null);function Tv(e,t){let{relative:n}=t===void 0?{}:t;na()||Ie(!1);let{basename:s,navigator:l}=w.useContext(ms),{hash:a,pathname:i,search:o}=qi(e,{relative:n}),c=i;return s!=="/"&&(c=i==="/"?s:is([s,i])),l.createHref({pathname:c,search:o,hash:a})}function na(){return w.useContext(Qi)!=null}function Vr(){return na()||Ie(!1),w.useContext(Qi).location}function cx(e){w.useContext(ms).static||w.useLayoutEffect(e)}function Gs(){let{isDataRoute:e}=w.useContext(xs);return e?Qv():Rv()}function Rv(){na()||Ie(!1);let e=w.useContext($i),{basename:t,future:n,navigator:s}=w.useContext(ms),{matches:l}=w.useContext(xs),{pathname:a}=Vr(),i=JSON.stringify(rx(l,n.v7_relativeSplatPath)),o=w.useRef(!1);return cx(()=>{o.current=!0}),w.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){s.go(u);return}let d=lx(u,JSON.parse(i),a,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:is([t,d.pathname])),(h.replace?s.replace:s.push)(d,h.state,h)},[t,s,i,a,e])}function nd(){let{matches:e}=w.useContext(xs),t=e[e.length-1];return t?t.params:{}}function qi(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=w.useContext(ms),{matches:l}=w.useContext(xs),{pathname:a}=Vr(),i=JSON.stringify(rx(l,s.v7_relativeSplatPath));return w.useMemo(()=>lx(e,JSON.parse(i),a,n==="path"),[e,i,a,n])}function Dv(e,t){return Iv(e,t)}function Iv(e,t,n,s){na()||Ie(!1);let{navigator:l}=w.useContext(ms),{matches:a}=w.useContext(xs),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Vr(),h;if(t){var d;let v=typeof t=="string"?Wr(t):t;c==="/"||(d=v.pathname)!=null&&d.startsWith(c)||Ie(!1),h=v}else h=u;let g=h.pathname||"/",j=g;if(c!=="/"){let v=c.replace(/^\//,"").split("/");j="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=iv(e,{pathname:j}),y=_v(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:is([c,l.encodeLocation?l.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:is([c,l.encodeLocation?l.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,s);return t&&y?w.createElement(Qi.Provider,{value:{location:$l({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Jn.Pop}},y):y}function Mv(){let e=$v(),t=Ev(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:l},n):null,null)}const Fv=w.createElement(Mv,null);class Ov extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(xs.Provider,{value:this.props.routeContext},w.createElement(ox.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Av(e){let{routeContext:t,match:n,children:s}=e,l=w.useContext($i);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(xs.Provider,{value:t},s)}function _v(e,t,n,s){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(l=n)==null?void 0:l.errors;if(o!=null){let h=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);h>=0||Ie(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let h=0;h<i.length;h++){let d=i[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:g,errors:j}=n,m=d.route.loader&&g[d.route.id]===void 0&&(!j||j[d.route.id]===void 0);if(d.route.lazy||m){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,d,g)=>{let j,m=!1,y=null,v=null;n&&(j=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||Fv,c&&(u<0&&g===0?(qv("route-fallback"),m=!0,v=null):u===g&&(m=!0,v=d.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,g+1)),p=()=>{let x;return j?x=y:m?x=v:d.route.Component?x=w.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=h,w.createElement(Av,{match:d,routeContext:{outlet:h,matches:f,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?w.createElement(Ov,{location:n.location,revalidation:n.revalidation,component:y,error:j,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var ux=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ux||{}),dx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dx||{});function Uv(e){let t=w.useContext($i);return t||Ie(!1),t}function zv(e){let t=w.useContext(ix);return t||Ie(!1),t}function Bv(e){let t=w.useContext(xs);return t||Ie(!1),t}function hx(e){let t=Bv(),n=t.matches[t.matches.length-1];return n.route.id||Ie(!1),n.route.id}function $v(){var e;let t=w.useContext(ox),n=zv(),s=hx();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function Qv(){let{router:e}=Uv(ux.UseNavigateStable),t=hx(dx.UseNavigateStable),n=w.useRef(!1);return cx(()=>{n.current=!0}),w.useCallback(function(l,a){a===void 0&&(a={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,$l({fromRouteId:t},a)))},[e,t])}const _h={};function qv(e,t,n){_h[e]||(_h[e]=!0)}function Wv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function rn(e){Ie(!1)}function Vv(e){let{basename:t="/",children:n=null,location:s,navigationType:l=Jn.Pop,navigator:a,static:i=!1,future:o}=e;na()&&Ie(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:a,static:i,future:$l({v7_relativeSplatPath:!1},o)}),[c,o,a,i]);typeof s=="string"&&(s=Wr(s));let{pathname:h="/",search:d="",hash:g="",state:j=null,key:m="default"}=s,y=w.useMemo(()=>{let v=Ur(h,c);return v==null?null:{location:{pathname:v,search:d,hash:g,state:j,key:m},navigationType:l}},[c,h,d,g,j,m,l]);return y==null?null:w.createElement(ms.Provider,{value:u},w.createElement(Qi.Provider,{children:n,value:y}))}function Kv(e){let{children:t,location:n}=e;return Dv(qc(t),n)}new Promise(()=>{});function qc(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(s,l)=>{if(!w.isValidElement(s))return;let a=[...t,l];if(s.type===w.Fragment){n.push.apply(n,qc(s.props.children,a));return}s.type!==rn&&Ie(!1),!s.props.index||!s.props.children||Ie(!1);let i={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=qc(s.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wi.apply(this,arguments)}function fx(e,t){if(e==null)return{};var n={},s=Object.keys(e),l,a;for(a=0;a<s.length;a++)l=s[a],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function Hv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Jv(e,t){return e.button===0&&(!t||t==="_self")&&!Hv(e)}function Wc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(l=>[n,l]):[[n,s]])},[]))}function Gv(e,t){let n=Wc(e);return t&&t.forEach((s,l)=>{n.has(l)||t.getAll(l).forEach(a=>{n.append(l,a)})}),n}const Xv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Yv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Zv="6";try{window.__reactRouterVersion=Zv}catch{}const eb=w.createContext({isTransitioning:!1}),tb="startTransition",Uh=u0[tb];function nb(e){let{basename:t,children:n,future:s,window:l}=e,a=w.useRef();a.current==null&&(a.current=rv({window:l,v5Compat:!0}));let i=a.current,[o,c]=w.useState({action:i.action,location:i.location}),{v7_startTransition:u}=s||{},h=w.useCallback(d=>{u&&Uh?Uh(()=>c(d)):c(d)},[c,u]);return w.useLayoutEffect(()=>i.listen(h),[i,h]),w.useEffect(()=>Wv(s),[s]),w.createElement(Vv,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:s})}const sb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=w.forwardRef(function(t,n){let{onClick:s,relative:l,reloadDocument:a,replace:i,state:o,target:c,to:u,preventScrollReset:h,viewTransition:d}=t,g=fx(t,Xv),{basename:j}=w.useContext(ms),m,y=!1;if(typeof u=="string"&&rb.test(u)&&(m=u,sb))try{let x=new URL(window.location.href),b=u.startsWith("//")?new URL(x.protocol+u):new URL(u),R=Ur(b.pathname,j);b.origin===x.origin&&R!=null?u=R+b.search+b.hash:y=!0}catch{}let v=Tv(u,{relative:l}),f=ib(u,{replace:i,state:o,target:c,preventScrollReset:h,relative:l,viewTransition:d});function p(x){s&&s(x),x.defaultPrevented||f(x)}return w.createElement("a",wi({},g,{href:m||v,onClick:y||a?s:p,ref:n,target:c}))}),lb=w.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:l=!1,className:a="",end:i=!1,style:o,to:c,viewTransition:u,children:h}=t,d=fx(t,Yv),g=qi(c,{relative:d.relative}),j=Vr(),m=w.useContext(ix),{navigator:y,basename:v}=w.useContext(ms),f=m!=null&&cb(g)&&u===!0,p=y.encodeLocation?y.encodeLocation(g).pathname:g.pathname,x=j.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;l||(x=x.toLowerCase(),b=b?b.toLowerCase():null,p=p.toLowerCase()),b&&v&&(b=Ur(b,v)||b);const R=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let I=x===p||!i&&x.startsWith(p)&&x.charAt(R)==="/",S=b!=null&&(b===p||!i&&b.startsWith(p)&&b.charAt(p.length)==="/"),P={isActive:I,isPending:S,isTransitioning:f},_=I?s:void 0,O;typeof a=="function"?O=a(P):O=[a,I?"active":null,S?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(P):o;return w.createElement(Je,wi({},d,{"aria-current":_,className:O,ref:n,style:M,to:c,viewTransition:u}),typeof h=="function"?h(P):h)});var Vc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vc||(Vc={}));var zh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(zh||(zh={}));function ab(e){let t=w.useContext($i);return t||Ie(!1),t}function ib(e,t){let{target:n,replace:s,state:l,preventScrollReset:a,relative:i,viewTransition:o}=t===void 0?{}:t,c=Gs(),u=Vr(),h=qi(e,{relative:i});return w.useCallback(d=>{if(Jv(d,n)){d.preventDefault();let g=s!==void 0?s:Ni(u)===Ni(h);c(e,{replace:g,state:l,preventScrollReset:a,relative:i,viewTransition:o})}},[u,c,h,s,l,n,e,a,i,o])}function ob(e){let t=w.useRef(Wc(e)),n=w.useRef(!1),s=Vr(),l=w.useMemo(()=>Gv(s.search,n.current?null:t.current),[s.search]),a=Gs(),i=w.useCallback((o,c)=>{const u=Wc(typeof o=="function"?o(l):o);n.current=!0,a("?"+u,c)},[a,l]);return[l,i]}function cb(e,t){t===void 0&&(t={});let n=w.useContext(eb);n==null&&Ie(!1);let{basename:s}=ab(Vc.useViewTransitionState),l=qi(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Ur(n.currentLocation.pathname,s)||n.currentLocation.pathname,i=Ur(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Qc(l.pathname,i)!=null||Qc(l.pathname,a)!=null}/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ub={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),se=(e,t)=>{const n=w.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:o="",children:c,...u},h)=>w.createElement("svg",{ref:h,...ub,width:l,height:l,stroke:s,strokeWidth:i?Number(a)*24/Number(l):a,className:["lucide",`lucide-${db(e)}`,o].join(" "),...u},[...t.map(([d,g])=>w.createElement(d,g)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=se("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=se("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=se("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=se("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=se("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=se("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=se("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=se("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=se("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=se("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=se("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=se("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=se("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=se("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=se("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=se("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=se("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=se("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=se("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=se("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=se("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=se("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=se("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=se("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=se("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),xx=w.createContext(null),Rb=["Doug","Todd","Blake","Evan","Ken","Joe L.","Joe S.","Conrad"];function Db({children:e}){const[t,n]=w.useState(!0),[s,l]=w.useState("cards"),[a,i]=w.useState(()=>localStorage.getItem("subouts-user")||null),h={sidebarOpen:t,setSidebarOpen:n,toggleSidebar:()=>n(d=>!d),viewMode:s,setViewMode:l,currentUser:a,setCurrentUser:d=>{i(d),localStorage.setItem("subouts-user",d)},logout:()=>{i(null),localStorage.removeItem("subouts-user")},users:Rb};return r.jsx(xx.Provider,{value:h,children:e})}function sa(){const e=w.useContext(xx);if(!e)throw new Error("useApp must be used within AppProvider");return e}function gx(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=gx(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function z(){for(var e,t,n=0,s="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=gx(e))&&(s&&(s+=" "),s+=t);return s}const Ib={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 focus:ring-gray-500"},Mb={sm:"px-2 py-1 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};function ce({children:e,variant:t="primary",size:n="md",className:s,disabled:l,loading:a,...i}){return r.jsxs("button",{className:z("inline-flex items-center justify-center rounded-md font-medium","focus:outline-none focus:ring-2 focus:ring-offset-2","transition-colors duration-200","disabled:opacity-50 disabled:cursor-not-allowed",Ib[t],Mb[n],s),disabled:l||a,...i,children:[a&&r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),e]})}function Fb(){const{toggleSidebar:e}=sa(),t=Gs(),[n,s]=w.useState(""),l=a=>{a.preventDefault(),n.trim()&&t(`/subouts?search=${encodeURIComponent(n)}`)};return r.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:r.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:e,className:"p-2 rounded-md hover:bg-gray-100",children:r.jsx(Sb,{className:"w-5 h-5 text-gray-600"})}),r.jsxs(Je,{to:"/",className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xl font-bold text-gray-900",children:"SubOuts"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Tracker"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("form",{onSubmit:l,className:"relative",children:[r.jsx(sd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search jobs, lots...",value:n,onChange:a=>s(a.target.value),className:"pl-10 pr-4 py-2 w-64 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs(ce,{onClick:()=>t("/subouts/new"),children:[r.jsx(nt,{className:"w-4 h-4 mr-1"}),"New Sub"]})]})]})})}const Ob=[{to:"/",icon:Hc,label:"Dashboard"},{to:"/subouts",icon:Gn,label:"All SubOuts"},{to:"/archived",icon:Ql,label:"Archived"},{to:"/vendors",icon:ql,label:"Sub Fabricators"},{to:"/settings",icon:Gc,label:"Settings"}];function Ab(){const{sidebarOpen:e}=sa();return r.jsxs("aside",{className:z("fixed left-0 top-14 bottom-0 bg-white border-r border-gray-200 transition-all duration-300 z-30",e?"w-64":"w-16"),children:[r.jsx("nav",{className:"p-2 space-y-1",children:Ob.map(({to:t,icon:n,label:s})=>r.jsxs(lb,{to:t,end:t==="/",className:({isActive:l})=>z("flex items-center gap-3 px-3 py-2 rounded-md transition-colors",l?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[r.jsx(n,{className:"w-5 h-5 flex-shrink-0"}),e&&r.jsx("span",{className:"font-medium",children:s})]},t))}),e&&r.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:r.jsx("div",{className:"text-xs text-gray-400 text-center",children:"MFC SubOuts Tracker v1.0"})})]})}function yx(e,t){return function(){return e.apply(t,arguments)}}const{toString:_b}=Object.prototype,{getPrototypeOf:ld}=Object,{iterator:Vi,toStringTag:vx}=Symbol,Ki=(e=>t=>{const n=_b.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),tn=e=>(e=e.toLowerCase(),t=>Ki(t)===e),Hi=e=>t=>typeof t===e,{isArray:Kr}=Array,zr=Hi("undefined");function ra(e){return e!==null&&!zr(e)&&e.constructor!==null&&!zr(e.constructor)&&Nt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const bx=tn("ArrayBuffer");function Ub(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&bx(e.buffer),t}const zb=Hi("string"),Nt=Hi("function"),jx=Hi("number"),la=e=>e!==null&&typeof e=="object",Bb=e=>e===!0||e===!1,Va=e=>{if(Ki(e)!=="object")return!1;const t=ld(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(vx in e)&&!(Vi in e)},$b=e=>{if(!la(e)||ra(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Qb=tn("Date"),qb=tn("File"),Wb=tn("Blob"),Vb=tn("FileList"),Kb=e=>la(e)&&Nt(e.pipe),Hb=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Nt(e.append)&&((t=Ki(e))==="formdata"||t==="object"&&Nt(e.toString)&&e.toString()==="[object FormData]"))},Jb=tn("URLSearchParams"),[Gb,Xb,Yb,Zb]=["ReadableStream","Request","Response","Headers"].map(tn),ej=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function aa(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,l;if(typeof e!="object"&&(e=[e]),Kr(e))for(s=0,l=e.length;s<l;s++)t.call(null,e[s],s,e);else{if(ra(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let o;for(s=0;s<i;s++)o=a[s],t.call(null,e[o],o,e)}}function Nx(e,t){if(ra(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,l;for(;s-- >0;)if(l=n[s],t===l.toLowerCase())return l;return null}const ks=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wx=e=>!zr(e)&&e!==ks;function Xc(){const{caseless:e,skipUndefined:t}=wx(this)&&this||{},n={},s=(l,a)=>{const i=e&&Nx(n,a)||a;Va(n[i])&&Va(l)?n[i]=Xc(n[i],l):Va(l)?n[i]=Xc({},l):Kr(l)?n[i]=l.slice():(!t||!zr(l))&&(n[i]=l)};for(let l=0,a=arguments.length;l<a;l++)arguments[l]&&aa(arguments[l],s);return n}const tj=(e,t,n,{allOwnKeys:s}={})=>(aa(t,(l,a)=>{n&&Nt(l)?Object.defineProperty(e,a,{value:yx(l,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,a,{value:l,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:s}),e),nj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),sj=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},rj=(e,t,n,s)=>{let l,a,i;const o={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),a=l.length;a-- >0;)i=l[a],(!s||s(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=n!==!1&&ld(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},lj=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},aj=e=>{if(!e)return null;if(Kr(e))return e;let t=e.length;if(!jx(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},ij=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ld(Uint8Array)),oj=(e,t)=>{const s=(e&&e[Vi]).call(e);let l;for(;(l=s.next())&&!l.done;){const a=l.value;t.call(e,a[0],a[1])}},cj=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},uj=tn("HTMLFormElement"),dj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,l){return s.toUpperCase()+l}),Wh=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),hj=tn("RegExp"),Sx=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};aa(n,(l,a)=>{let i;(i=t(l,a,e))!==!1&&(s[a]=i||l)}),Object.defineProperties(e,s)},fj=e=>{Sx(e,(t,n)=>{if(Nt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Nt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},pj=(e,t)=>{const n={},s=l=>{l.forEach(a=>{n[a]=!0})};return Kr(e)?s(e):s(String(e).split(t)),n},mj=()=>{},xj=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function gj(e){return!!(e&&Nt(e.append)&&e[vx]==="FormData"&&e[Vi])}const yj=e=>{const t=new Array(10),n=(s,l)=>{if(la(s)){if(t.indexOf(s)>=0)return;if(ra(s))return s;if(!("toJSON"in s)){t[l]=s;const a=Kr(s)?[]:{};return aa(s,(i,o)=>{const c=n(i,l+1);!zr(c)&&(a[o]=c)}),t[l]=void 0,a}}return s};return n(e,0)},vj=tn("AsyncFunction"),bj=e=>e&&(la(e)||Nt(e))&&Nt(e.then)&&Nt(e.catch),Cx=((e,t)=>e?setImmediate:t?((n,s)=>(ks.addEventListener("message",({source:l,data:a})=>{l===ks&&a===n&&s.length&&s.shift()()},!1),l=>{s.push(l),ks.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Nt(ks.postMessage)),jj=typeof queueMicrotask<"u"?queueMicrotask.bind(ks):typeof process<"u"&&process.nextTick||Cx,Nj=e=>e!=null&&Nt(e[Vi]),D={isArray:Kr,isArrayBuffer:bx,isBuffer:ra,isFormData:Hb,isArrayBufferView:Ub,isString:zb,isNumber:jx,isBoolean:Bb,isObject:la,isPlainObject:Va,isEmptyObject:$b,isReadableStream:Gb,isRequest:Xb,isResponse:Yb,isHeaders:Zb,isUndefined:zr,isDate:Qb,isFile:qb,isBlob:Wb,isRegExp:hj,isFunction:Nt,isStream:Kb,isURLSearchParams:Jb,isTypedArray:ij,isFileList:Vb,forEach:aa,merge:Xc,extend:tj,trim:ej,stripBOM:nj,inherits:sj,toFlatObject:rj,kindOf:Ki,kindOfTest:tn,endsWith:lj,toArray:aj,forEachEntry:oj,matchAll:cj,isHTMLForm:uj,hasOwnProperty:Wh,hasOwnProp:Wh,reduceDescriptors:Sx,freezeMethods:fj,toObjectSet:pj,toCamelCase:dj,noop:mj,toFiniteNumber:xj,findKey:Nx,global:ks,isContextDefined:wx,isSpecCompliantForm:gj,toJSONObject:yj,isAsyncFn:vj,isThenable:bj,setImmediate:Cx,asap:jj,isIterable:Nj};let te=class kx extends Error{static from(t,n,s,l,a,i){const o=new kx(t.message,n||t.code,s,l,a);return o.cause=t,o.name=t.name,i&&Object.assign(o,i),o}constructor(t,n,s,l,a){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),s&&(this.config=s),l&&(this.request=l),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.status}}};te.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";te.ERR_BAD_OPTION="ERR_BAD_OPTION";te.ECONNABORTED="ECONNABORTED";te.ETIMEDOUT="ETIMEDOUT";te.ERR_NETWORK="ERR_NETWORK";te.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";te.ERR_DEPRECATED="ERR_DEPRECATED";te.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";te.ERR_BAD_REQUEST="ERR_BAD_REQUEST";te.ERR_CANCELED="ERR_CANCELED";te.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";te.ERR_INVALID_URL="ERR_INVALID_URL";const wj=null;function Yc(e){return D.isPlainObject(e)||D.isArray(e)}function Px(e){return D.endsWith(e,"[]")?e.slice(0,-2):e}function Vh(e,t,n){return e?e.concat(t).map(function(l,a){return l=Px(l),!n&&a?"["+l+"]":l}).join(n?".":""):t}function Sj(e){return D.isArray(e)&&!e.some(Yc)}const Cj=D.toFlatObject(D,{},null,function(t){return/^is[A-Z]/.test(t)});function Ji(e,t,n){if(!D.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=D.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!D.isUndefined(v[y])});const s=n.metaTokens,l=n.visitor||h,a=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(t);if(!D.isFunction(l))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(D.isDate(m))return m.toISOString();if(D.isBoolean(m))return m.toString();if(!c&&D.isBlob(m))throw new te("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(m)||D.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function h(m,y,v){let f=m;if(m&&!v&&typeof m=="object"){if(D.endsWith(y,"{}"))y=s?y:y.slice(0,-2),m=JSON.stringify(m);else if(D.isArray(m)&&Sj(m)||(D.isFileList(m)||D.endsWith(y,"[]"))&&(f=D.toArray(m)))return y=Px(y),f.forEach(function(x,b){!(D.isUndefined(x)||x===null)&&t.append(i===!0?Vh([y],b,a):i===null?y:y+"[]",u(x))}),!1}return Yc(m)?!0:(t.append(Vh(v,y,a),u(m)),!1)}const d=[],g=Object.assign(Cj,{defaultVisitor:h,convertValue:u,isVisitable:Yc});function j(m,y){if(!D.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(m),D.forEach(m,function(f,p){(!(D.isUndefined(f)||f===null)&&l.call(t,f,D.isString(p)?p.trim():p,y,g))===!0&&j(f,y?y.concat(p):[p])}),d.pop()}}if(!D.isObject(e))throw new TypeError("data must be an object");return j(e),t}function Kh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function ad(e,t){this._pairs=[],e&&Ji(e,this,t)}const Ex=ad.prototype;Ex.append=function(t,n){this._pairs.push([t,n])};Ex.toString=function(t){const n=t?function(s){return t.call(this,s,Kh)}:Kh;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function kj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Lx(e,t,n){if(!t)return e;const s=n&&n.encode||kj,l=D.isFunction(n)?{serialize:n}:n,a=l&&l.serialize;let i;if(a?i=a(t,l):i=D.isURLSearchParams(t)?t.toString():new ad(t,l).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Hh{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){D.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Tx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pj=typeof URLSearchParams<"u"?URLSearchParams:ad,Ej=typeof FormData<"u"?FormData:null,Lj=typeof Blob<"u"?Blob:null,Tj={isBrowser:!0,classes:{URLSearchParams:Pj,FormData:Ej,Blob:Lj},protocols:["http","https","file","blob","url","data"]},id=typeof window<"u"&&typeof document<"u",Zc=typeof navigator=="object"&&navigator||void 0,Rj=id&&(!Zc||["ReactNative","NativeScript","NS"].indexOf(Zc.product)<0),Dj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ij=id&&window.location.href||"http://localhost",Mj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:id,hasStandardBrowserEnv:Rj,hasStandardBrowserWebWorkerEnv:Dj,navigator:Zc,origin:Ij},Symbol.toStringTag,{value:"Module"})),lt={...Mj,...Tj};function Fj(e,t){return Ji(e,new lt.classes.URLSearchParams,{visitor:function(n,s,l,a){return lt.isNode&&D.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Oj(e){return D.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Aj(e){const t={},n=Object.keys(e);let s;const l=n.length;let a;for(s=0;s<l;s++)a=n[s],t[a]=e[a];return t}function Rx(e){function t(n,s,l,a){let i=n[a++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=a>=n.length;return i=!i&&D.isArray(l)?l.length:i,c?(D.hasOwnProp(l,i)?l[i]=[l[i],s]:l[i]=s,!o):((!l[i]||!D.isObject(l[i]))&&(l[i]=[]),t(n,s,l[i],a)&&D.isArray(l[i])&&(l[i]=Aj(l[i])),!o)}if(D.isFormData(e)&&D.isFunction(e.entries)){const n={};return D.forEachEntry(e,(s,l)=>{t(Oj(s),l,n,0)}),n}return null}function _j(e,t,n){if(D.isString(e))try{return(t||JSON.parse)(e),D.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const ia={transitional:Tx,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",l=s.indexOf("application/json")>-1,a=D.isObject(t);if(a&&D.isHTMLForm(t)&&(t=new FormData(t)),D.isFormData(t))return l?JSON.stringify(Rx(t)):t;if(D.isArrayBuffer(t)||D.isBuffer(t)||D.isStream(t)||D.isFile(t)||D.isBlob(t)||D.isReadableStream(t))return t;if(D.isArrayBufferView(t))return t.buffer;if(D.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Fj(t,this.formSerializer).toString();if((o=D.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ji(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||l?(n.setContentType("application/json",!1),_j(t)):t}],transformResponse:[function(t){const n=this.transitional||ia.transitional,s=n&&n.forcedJSONParsing,l=this.responseType==="json";if(D.isResponse(t)||D.isReadableStream(t))return t;if(t&&D.isString(t)&&(s&&!this.responseType||l)){const i=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(t,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?te.from(o,te.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lt.classes.FormData,Blob:lt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],e=>{ia.headers[e]={}});const Uj=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zj=e=>{const t={};let n,s,l;return e&&e.split(`
`).forEach(function(i){l=i.indexOf(":"),n=i.substring(0,l).trim().toLowerCase(),s=i.substring(l+1).trim(),!(!n||t[n]&&Uj[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Jh=Symbol("internals");function rl(e){return e&&String(e).trim().toLowerCase()}function Ka(e){return e===!1||e==null?e:D.isArray(e)?e.map(Ka):String(e)}function Bj(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const $j=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function To(e,t,n,s,l){if(D.isFunction(s))return s.call(this,t,n);if(l&&(t=n),!!D.isString(t)){if(D.isString(s))return t.indexOf(s)!==-1;if(D.isRegExp(s))return s.test(t)}}function Qj(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function qj(e,t){const n=D.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(l,a,i){return this[s].call(this,t,l,a,i)},configurable:!0})})}let wt=class{constructor(t){t&&this.set(t)}set(t,n,s){const l=this;function a(o,c,u){const h=rl(c);if(!h)throw new Error("header name must be a non-empty string");const d=D.findKey(l,h);(!d||l[d]===void 0||u===!0||u===void 0&&l[d]!==!1)&&(l[d||c]=Ka(o))}const i=(o,c)=>D.forEach(o,(u,h)=>a(u,h,c));if(D.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(D.isString(t)&&(t=t.trim())&&!$j(t))i(zj(t),n);else if(D.isObject(t)&&D.isIterable(t)){let o={},c,u;for(const h of t){if(!D.isArray(h))throw TypeError("Object iterator must return a key-value pair");o[u=h[0]]=(c=o[u])?D.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}i(o,n)}else t!=null&&a(n,t,s);return this}get(t,n){if(t=rl(t),t){const s=D.findKey(this,t);if(s){const l=this[s];if(!n)return l;if(n===!0)return Bj(l);if(D.isFunction(n))return n.call(this,l,s);if(D.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=rl(t),t){const s=D.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||To(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let l=!1;function a(i){if(i=rl(i),i){const o=D.findKey(s,i);o&&(!n||To(s,s[o],o,n))&&(delete s[o],l=!0)}}return D.isArray(t)?t.forEach(a):a(t),l}clear(t){const n=Object.keys(this);let s=n.length,l=!1;for(;s--;){const a=n[s];(!t||To(this,this[a],a,t,!0))&&(delete this[a],l=!0)}return l}normalize(t){const n=this,s={};return D.forEach(this,(l,a)=>{const i=D.findKey(s,a);if(i){n[i]=Ka(l),delete n[a];return}const o=t?Qj(a):String(a).trim();o!==a&&delete n[a],n[o]=Ka(l),s[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return D.forEach(this,(s,l)=>{s!=null&&s!==!1&&(n[l]=t&&D.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(l=>s.set(l)),s}static accessor(t){const s=(this[Jh]=this[Jh]={accessors:{}}).accessors,l=this.prototype;function a(i){const o=rl(i);s[o]||(qj(l,i),s[o]=!0)}return D.isArray(t)?t.forEach(a):a(t),this}};wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(wt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});D.freezeMethods(wt);function Ro(e,t){const n=this||ia,s=t||n,l=wt.from(s.headers);let a=s.data;return D.forEach(e,function(o){a=o.call(n,a,l.normalize(),t?t.status:void 0)}),l.normalize(),a}function Dx(e){return!!(e&&e.__CANCEL__)}let oa=class extends te{constructor(t,n,s){super(t??"canceled",te.ERR_CANCELED,n,s),this.name="CanceledError",this.__CANCEL__=!0}};function Ix(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new te("Request failed with status code "+n.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Wj(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Vj(e,t){e=e||10;const n=new Array(e),s=new Array(e);let l=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),h=s[a];i||(i=u),n[l]=c,s[l]=u;let d=a,g=0;for(;d!==l;)g+=n[d++],d=d%e;if(l=(l+1)%e,l===a&&(a=(a+1)%e),u-i<t)return;const j=h&&u-h;return j?Math.round(g*1e3/j):void 0}}function Kj(e,t){let n=0,s=1e3/t,l,a;const i=(u,h=Date.now())=>{n=h,l=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const h=Date.now(),d=h-n;d>=s?i(u,h):(l=u,a||(a=setTimeout(()=>{a=null,i(l)},s-d)))},()=>l&&i(l)]}const Si=(e,t,n=3)=>{let s=0;const l=Vj(50,250);return Kj(a=>{const i=a.loaded,o=a.lengthComputable?a.total:void 0,c=i-s,u=l(c),h=i<=o;s=i;const d={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&h?(o-i)/u:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(d)},n)},Gh=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Xh=e=>(...t)=>D.asap(()=>e(...t)),Hj=lt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,lt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(lt.origin),lt.navigator&&/(msie|trident)/i.test(lt.navigator.userAgent)):()=>!0,Jj=lt.hasStandardBrowserEnv?{write(e,t,n,s,l,a,i){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];D.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),D.isString(s)&&o.push(`path=${s}`),D.isString(l)&&o.push(`domain=${l}`),a===!0&&o.push("secure"),D.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Gj(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Xj(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Mx(e,t,n){let s=!Gj(t);return e&&(s||n==!1)?Xj(e,t):t}const Yh=e=>e instanceof wt?{...e}:e;function Ks(e,t){t=t||{};const n={};function s(u,h,d,g){return D.isPlainObject(u)&&D.isPlainObject(h)?D.merge.call({caseless:g},u,h):D.isPlainObject(h)?D.merge({},h):D.isArray(h)?h.slice():h}function l(u,h,d,g){if(D.isUndefined(h)){if(!D.isUndefined(u))return s(void 0,u,d,g)}else return s(u,h,d,g)}function a(u,h){if(!D.isUndefined(h))return s(void 0,h)}function i(u,h){if(D.isUndefined(h)){if(!D.isUndefined(u))return s(void 0,u)}else return s(void 0,h)}function o(u,h,d){if(d in t)return s(u,h);if(d in e)return s(void 0,u)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(u,h,d)=>l(Yh(u),Yh(h),d,!0)};return D.forEach(Object.keys({...e,...t}),function(h){const d=c[h]||l,g=d(e[h],t[h],h);D.isUndefined(g)&&d!==o||(n[h]=g)}),n}const Fx=e=>{const t=Ks({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:l,xsrfCookieName:a,headers:i,auth:o}=t;if(t.headers=i=wt.from(i),t.url=Lx(Mx(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),D.isFormData(n)){if(lt.hasStandardBrowserEnv||lt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(D.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([h,d])=>{u.includes(h.toLowerCase())&&i.set(h,d)})}}if(lt.hasStandardBrowserEnv&&(s&&D.isFunction(s)&&(s=s(t)),s||s!==!1&&Hj(t.url))){const c=l&&a&&Jj.read(a);c&&i.set(l,c)}return t},Yj=typeof XMLHttpRequest<"u",Zj=Yj&&function(e){return new Promise(function(n,s){const l=Fx(e);let a=l.data;const i=wt.from(l.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=l,h,d,g,j,m;function y(){j&&j(),m&&m(),l.cancelToken&&l.cancelToken.unsubscribe(h),l.signal&&l.signal.removeEventListener("abort",h)}let v=new XMLHttpRequest;v.open(l.method.toUpperCase(),l.url,!0),v.timeout=l.timeout;function f(){if(!v)return;const x=wt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),R={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:x,config:e,request:v};Ix(function(S){n(S),y()},function(S){s(S),y()},R),v=null}"onloadend"in v?v.onloadend=f:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(f)},v.onabort=function(){v&&(s(new te("Request aborted",te.ECONNABORTED,e,v)),v=null)},v.onerror=function(b){const R=b&&b.message?b.message:"Network Error",I=new te(R,te.ERR_NETWORK,e,v);I.event=b||null,s(I),v=null},v.ontimeout=function(){let b=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const R=l.transitional||Tx;l.timeoutErrorMessage&&(b=l.timeoutErrorMessage),s(new te(b,R.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,e,v)),v=null},a===void 0&&i.setContentType(null),"setRequestHeader"in v&&D.forEach(i.toJSON(),function(b,R){v.setRequestHeader(R,b)}),D.isUndefined(l.withCredentials)||(v.withCredentials=!!l.withCredentials),o&&o!=="json"&&(v.responseType=l.responseType),u&&([g,m]=Si(u,!0),v.addEventListener("progress",g)),c&&v.upload&&([d,j]=Si(c),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",j)),(l.cancelToken||l.signal)&&(h=x=>{v&&(s(!x||x.type?new oa(null,e,v):x),v.abort(),v=null)},l.cancelToken&&l.cancelToken.subscribe(h),l.signal&&(l.signal.aborted?h():l.signal.addEventListener("abort",h)));const p=Wj(l.url);if(p&&lt.protocols.indexOf(p)===-1){s(new te("Unsupported protocol "+p+":",te.ERR_BAD_REQUEST,e));return}v.send(a||null)})},eN=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,l;const a=function(u){if(!l){l=!0,o();const h=u instanceof Error?u:this.reason;s.abort(h instanceof te?h:new oa(h instanceof Error?h.message:h))}};let i=t&&setTimeout(()=>{i=null,a(new te(`timeout of ${t}ms exceeded`,te.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=s;return c.unsubscribe=()=>D.asap(o),c}},tN=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,l;for(;s<n;)l=s+t,yield e.slice(s,l),s=l},nN=async function*(e,t){for await(const n of sN(e))yield*tN(n,t)},sN=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},Zh=(e,t,n,s)=>{const l=nN(e,t);let a=0,i,o=c=>{i||(i=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await l.next();if(u){o(),c.close();return}let d=h.byteLength;if(n){let g=a+=d;n(g)}c.enqueue(new Uint8Array(h))}catch(u){throw o(u),u}},cancel(c){return o(c),l.return()}},{highWaterMark:2})},ef=64*1024,{isFunction:Ta}=D,rN=(({Request:e,Response:t})=>({Request:e,Response:t}))(D.global),{ReadableStream:tf,TextEncoder:nf}=D.global,sf=(e,...t)=>{try{return!!e(...t)}catch{return!1}},lN=e=>{e=D.merge.call({skipUndefined:!0},rN,e);const{fetch:t,Request:n,Response:s}=e,l=t?Ta(t):typeof fetch=="function",a=Ta(n),i=Ta(s);if(!l)return!1;const o=l&&Ta(tf),c=l&&(typeof nf=="function"?(m=>y=>m.encode(y))(new nf):async m=>new Uint8Array(await new n(m).arrayBuffer())),u=a&&o&&sf(()=>{let m=!1;const y=new n(lt.origin,{body:new tf,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),h=i&&o&&sf(()=>D.isReadableStream(new s("").body)),d={stream:h&&(m=>m.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!d[m]&&(d[m]=(y,v)=>{let f=y&&y[m];if(f)return f.call(y);throw new te(`Response type '${m}' is not supported`,te.ERR_NOT_SUPPORT,v)})});const g=async m=>{if(m==null)return 0;if(D.isBlob(m))return m.size;if(D.isSpecCompliantForm(m))return(await new n(lt.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(D.isArrayBufferView(m)||D.isArrayBuffer(m))return m.byteLength;if(D.isURLSearchParams(m)&&(m=m+""),D.isString(m))return(await c(m)).byteLength},j=async(m,y)=>{const v=D.toFiniteNumber(m.getContentLength());return v??g(y)};return async m=>{let{url:y,method:v,data:f,signal:p,cancelToken:x,timeout:b,onDownloadProgress:R,onUploadProgress:I,responseType:S,headers:P,withCredentials:_="same-origin",fetchOptions:O}=Fx(m),M=t||fetch;S=S?(S+"").toLowerCase():"text";let Q=eN([p,x&&x.toAbortSignal()],b),J=null;const X=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let k;try{if(I&&u&&v!=="get"&&v!=="head"&&(k=await j(P,f))!==0){let Z=new n(y,{method:"POST",body:f,duplex:"half"}),le;if(D.isFormData(f)&&(le=Z.headers.get("content-type"))&&P.setContentType(le),Z.body){const[pe,Se]=Gh(k,Si(Xh(I)));f=Zh(Z.body,ef,pe,Se)}}D.isString(_)||(_=_?"include":"omit");const T=a&&"credentials"in n.prototype,q={...O,signal:Q,method:v.toUpperCase(),headers:P.normalize().toJSON(),body:f,duplex:"half",credentials:T?_:void 0};J=a&&new n(y,q);let E=await(a?M(J,O):M(y,q));const A=h&&(S==="stream"||S==="response");if(h&&(R||A&&X)){const Z={};["status","statusText","headers"].forEach($e=>{Z[$e]=E[$e]});const le=D.toFiniteNumber(E.headers.get("content-length")),[pe,Se]=R&&Gh(le,Si(Xh(R),!0))||[];E=new s(Zh(E.body,ef,pe,()=>{Se&&Se(),X&&X()}),Z)}S=S||"text";let B=await d[D.findKey(d,S)||"text"](E,m);return!A&&X&&X(),await new Promise((Z,le)=>{Ix(Z,le,{data:B,headers:wt.from(E.headers),status:E.status,statusText:E.statusText,config:m,request:J})})}catch(T){throw X&&X(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new te("Network Error",te.ERR_NETWORK,m,J),{cause:T.cause||T}):te.from(T,T&&T.code,m,J)}}},aN=new Map,Ox=e=>{let t=e&&e.env||{};const{fetch:n,Request:s,Response:l}=t,a=[s,l,n];let i=a.length,o=i,c,u,h=aN;for(;o--;)c=a[o],u=h.get(c),u===void 0&&h.set(c,u=o?new Map:lN(t)),h=u;return u};Ox();const od={http:wj,xhr:Zj,fetch:{get:Ox}};D.forEach(od,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const rf=e=>`- ${e}`,iN=e=>D.isFunction(e)||e===null||e===!1;function oN(e,t){e=D.isArray(e)?e:[e];const{length:n}=e;let s,l;const a={};for(let i=0;i<n;i++){s=e[i];let o;if(l=s,!iN(s)&&(l=od[(o=String(s)).toLowerCase()],l===void 0))throw new te(`Unknown adapter '${o}'`);if(l&&(D.isFunction(l)||(l=l.get(t))))break;a[o||"#"+i]=l}if(!l){const i=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?i.length>1?`since :
`+i.map(rf).join(`
`):" "+rf(i[0]):"as no adapter specified";throw new te("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return l}const Ax={getAdapter:oN,adapters:od};function Do(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new oa(null,e)}function lf(e){return Do(e),e.headers=wt.from(e.headers),e.data=Ro.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ax.getAdapter(e.adapter||ia.adapter,e)(e).then(function(s){return Do(e),s.data=Ro.call(e,e.transformResponse,s),s.headers=wt.from(s.headers),s},function(s){return Dx(s)||(Do(e),s&&s.response&&(s.response.data=Ro.call(e,e.transformResponse,s.response),s.response.headers=wt.from(s.response.headers))),Promise.reject(s)})}const _x="1.13.4",Gi={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Gi[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const af={};Gi.transitional=function(t,n,s){function l(a,i){return"[Axios v"+_x+"] Transitional option '"+a+"'"+i+(s?". "+s:"")}return(a,i,o)=>{if(t===!1)throw new te(l(i," has been removed"+(n?" in "+n:"")),te.ERR_DEPRECATED);return n&&!af[i]&&(af[i]=!0,console.warn(l(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,i,o):!0}};Gi.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function cN(e,t,n){if(typeof e!="object")throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let l=s.length;for(;l-- >0;){const a=s[l],i=t[a];if(i){const o=e[a],c=o===void 0||i(o,a,e);if(c!==!0)throw new te("option "+a+" must be "+c,te.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new te("Unknown option "+a,te.ERR_BAD_OPTION)}}const Ha={assertOptions:cN,validators:Gi},sn=Ha.validators;let _s=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Hh,response:new Hh}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const a=l.stack?l.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ks(this.defaults,n);const{transitional:s,paramsSerializer:l,headers:a}=n;s!==void 0&&Ha.assertOptions(s,{silentJSONParsing:sn.transitional(sn.boolean),forcedJSONParsing:sn.transitional(sn.boolean),clarifyTimeoutError:sn.transitional(sn.boolean)},!1),l!=null&&(D.isFunction(l)?n.paramsSerializer={serialize:l}:Ha.assertOptions(l,{encode:sn.function,serialize:sn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ha.assertOptions(n,{baseUrl:sn.spelling("baseURL"),withXsrfToken:sn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=a&&D.merge(a.common,a[n.method]);a&&D.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),n.headers=wt.concat(i,a);const o=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let h,d=0,g;if(!c){const m=[lf.bind(this),void 0];for(m.unshift(...o),m.push(...u),g=m.length,h=Promise.resolve(n);d<g;)h=h.then(m[d++],m[d++]);return h}g=o.length;let j=n;for(;d<g;){const m=o[d++],y=o[d++];try{j=m(j)}catch(v){y.call(this,v);break}}try{h=lf.call(this,j)}catch(m){return Promise.reject(m)}for(d=0,g=u.length;d<g;)h=h.then(u[d++],u[d++]);return h}getUri(t){t=Ks(this.defaults,t);const n=Mx(t.baseURL,t.url,t.allowAbsoluteUrls);return Lx(n,t.params,t.paramsSerializer)}};D.forEach(["delete","get","head","options"],function(t){_s.prototype[t]=function(n,s){return this.request(Ks(s||{},{method:t,url:n,data:(s||{}).data}))}});D.forEach(["post","put","patch"],function(t){function n(s){return function(a,i,o){return this.request(Ks(o||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}_s.prototype[t]=n(),_s.prototype[t+"Form"]=n(!0)});let uN=class Ux{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(l=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](l);s._listeners=null}),this.promise.then=l=>{let a;const i=new Promise(o=>{s.subscribe(o),a=o}).then(l);return i.cancel=function(){s.unsubscribe(a)},i},t(function(a,i,o){s.reason||(s.reason=new oa(a,i,o),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Ux(function(l){t=l}),cancel:t}}};function dN(e){return function(n){return e.apply(null,n)}}function hN(e){return D.isObject(e)&&e.isAxiosError===!0}const eu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(eu).forEach(([e,t])=>{eu[t]=e});function zx(e){const t=new _s(e),n=yx(_s.prototype.request,t);return D.extend(n,_s.prototype,t,{allOwnKeys:!0}),D.extend(n,t,null,{allOwnKeys:!0}),n.create=function(l){return zx(Ks(e,l))},n}const Oe=zx(ia);Oe.Axios=_s;Oe.CanceledError=oa;Oe.CancelToken=uN;Oe.isCancel=Dx;Oe.VERSION=_x;Oe.toFormData=Ji;Oe.AxiosError=te;Oe.Cancel=Oe.CanceledError;Oe.all=function(t){return Promise.all(t)};Oe.spread=dN;Oe.isAxiosError=hN;Oe.mergeConfig=Ks;Oe.AxiosHeaders=wt;Oe.formToJSON=e=>Rx(D.isHTMLForm(e)?new FormData(e):e);Oe.getAdapter=Ax.getAdapter;Oe.HttpStatusCode=eu;Oe.default=Oe;const{Axios:sw,AxiosError:rw,CanceledError:lw,isCancel:aw,CancelToken:iw,VERSION:ow,all:cw,Cancel:uw,isAxiosError:dw,spread:hw,toFormData:fw,AxiosHeaders:pw,HttpStatusCode:mw,formToJSON:xw,getAdapter:gw,mergeConfig:yw}=Oe,G=Oe.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});G.interceptors.response.use(e=>e.data,e=>{var n,s;const t=((s=(n=e.response)==null?void 0:n.data)==null?void 0:s.error)||e.message||"An error occurred";return Promise.reject(new Error(t))});const Xs={getAll:e=>G.get("/subouts",{params:e}),getGrouped:e=>G.get("/subouts/grouped",{params:e}),getById:e=>G.get(`/subouts/${e}`),create:e=>G.post("/subouts",e),update:(e,t)=>G.put(`/subouts/${e}`,t),delete:e=>G.delete(`/subouts/${e}`),updateStatus:(e,t)=>G.patch(`/subouts/${e}/status`,{status:t}),incrementLoadsOut:e=>G.patch(`/subouts/${e}/loads-out`),incrementLoadsIn:e=>G.patch(`/subouts/${e}/loads-in`)},cd={getBySubOut:e=>G.get(`/subouts/${e}/items`),add:(e,t)=>G.post(`/subouts/${e}/items`,t),bulkAdd:(e,t)=>G.post(`/subouts/${e}/items/bulk`,{items:t}),update:(e,t,n)=>G.put(`/subouts/${e}/items/${t}`,n),delete:(e,t)=>G.delete(`/subouts/${e}/items/${t}`)},Xi={getAll:e=>G.get("/vendors",{params:e}),getById:e=>G.get(`/vendors/${e}`),create:e=>G.post("/vendors",e),update:(e,t)=>G.put(`/vendors/${e}`,t),delete:e=>G.delete(`/vendors/${e}`)},ud={getAll:()=>G.get("/jobs"),getByCode:e=>G.get(`/jobs/${e}`),getSubOuts:e=>G.get(`/jobs/${e}/subouts`)},Yi={getPackages:e=>G.get(`/cutlists/packages/${e}`),getLongShapes:(e,t)=>G.get(`/cutlists/longshapes/${e}`,{params:{package:t}}),getParts:(e,t)=>G.get(`/cutlists/parts/${e}`,{params:{package:t}}),getPullList:(e,t)=>G.get(`/cutlists/pulllist/${e}`,{params:{package:t}}),getAvailable:(e,t)=>G.get(`/cutlists/available/${e}`,{params:{package:t}}),updatePullListSource:(e,t)=>G.put(`/cutlists/pulllist/${e}`,t),bulkUpdatePullListStatus:(e,t)=>G.patch("/cutlists/pulllist/bulk-status",{pullListIds:e,pullStatus:t})},fN={getPullStatuses:()=>G.get("/config/pull-statuses")},pN={getStats:()=>G.get("/dashboard/stats"),getActionItems:()=>G.get("/dashboard/action-items"),getByVendor:()=>G.get("/dashboard/by-vendor"),getRecent:e=>G.get("/dashboard/recent",{params:{limit:e}})},gs={getBySubOut:e=>G.get(`/subouts/${e}/pallets`),getById:(e,t)=>G.get(`/subouts/${e}/pallets/${t}`),create:(e,t)=>G.post(`/subouts/${e}/pallets`,t),update:(e,t,n)=>G.put(`/subouts/${e}/pallets/${t}`,n),delete:(e,t)=>G.delete(`/subouts/${e}/pallets/${t}`),updateStatus:(e,t,n)=>G.patch(`/subouts/${e}/pallets/${t}/status`,{status:n}),assignItems:(e,t,n)=>G.post(`/subouts/${e}/pallets/${t}/items`,{itemIds:n}),removeItem:(e,t,n)=>G.delete(`/subouts/${e}/pallets/${t}/items/${n}`),assignToLoad:(e,t,n)=>G.patch(`/subouts/${e}/pallets/${t}/assign-load`,{loadId:n})},Tn={getBySubOut:(e,t)=>G.get(`/subouts/${e}/loads`,{params:{direction:t}}),getById:(e,t)=>G.get(`/subouts/${e}/loads/${t}`),create:(e,t)=>G.post(`/subouts/${e}/loads`,t),update:(e,t,n)=>G.put(`/subouts/${e}/loads/${t}`,n),delete:(e,t)=>G.delete(`/subouts/${e}/loads/${t}`),updateStatus:(e,t,n)=>G.patch(`/subouts/${e}/loads/${t}/status`,{status:n}),assignItems:(e,t,n)=>G.post(`/subouts/${e}/loads/${t}/items`,{itemIds:n}),removeItem:(e,t,n)=>G.delete(`/subouts/${e}/loads/${t}/items/${n}`),assignPallets:(e,t,n)=>G.post(`/subouts/${e}/loads/${t}/pallets`,{palletIds:n}),removePallet:(e,t,n)=>G.delete(`/subouts/${e}/loads/${t}/pallets/${n}`)},mN={getMatchingInventory:e=>G.get("/tekla/inventory/match",{params:{shapes:JSON.stringify(e)}})},ca={getAll:e=>G.get("/communications",{params:e}),getFollowUps:()=>G.get("/communications/follow-ups"),getById:e=>G.get(`/communications/${e}`),create:e=>G.post("/communications",e),update:(e,t)=>G.put(`/communications/${e}`,t),completeFollowUp:e=>G.patch(`/communications/${e}/complete-followup`),delete:e=>G.delete(`/communications/${e}`)};function Bx(e={}){return pt({queryKey:["subouts",e],queryFn:()=>Xs.getAll(e)})}function xN(e={}){return pt({queryKey:["subouts","grouped",e],queryFn:()=>Xs.getGrouped(e)})}function $x(e){return pt({queryKey:["subouts",e],queryFn:()=>Xs.getById(e),enabled:!!e})}function gN(){const e=ue();return xe({mutationFn:t=>Xs.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:["subouts"]})}})}function yN(){const e=ue();return xe({mutationFn:({id:t,data:n})=>Xs.update(t,n),onSuccess:(t,{id:n})=>{e.invalidateQueries({queryKey:["subouts"]}),e.invalidateQueries({queryKey:["subouts",n]}),e.invalidateQueries({queryKey:["dashboard"]})}})}function vN(){const e=ue();return xe({mutationFn:t=>Xs.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["subouts"]})}})}function Qx(){const e=ue();return xe({mutationFn:({id:t,status:n})=>Xs.updateStatus(t,n),onSuccess:(t,{id:n})=>{e.invalidateQueries({queryKey:["subouts"]}),e.invalidateQueries({queryKey:["subouts",n]}),e.invalidateQueries({queryKey:["dashboard"]})}})}function bN(){return pt({queryKey:["dashboard","stats"],queryFn:()=>pN.getStats()})}function ua(e={}){return pt({queryKey:["vendors",e],queryFn:()=>Xi.getAll(e)})}function jN(){const e=ue();return xe({mutationFn:t=>Xi.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:["vendors"]})}})}function NN(){const e=ue();return xe({mutationFn:({id:t,data:n})=>Xi.update(t,n),onSuccess:(t,{id:n})=>{e.invalidateQueries({queryKey:["vendors"]}),e.invalidateQueries({queryKey:["vendors",n]})}})}function wN(){const e=ue();return xe({mutationFn:t=>Xi.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["vendors"]})}})}const of={Pending:{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-300"},Ready:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-300"},Sent:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-300"},InProcess:{bg:"bg-orange-100",text:"text-orange-800",border:"border-orange-300"},Shipped:{bg:"bg-purple-100",text:"text-purple-800",border:"border-purple-300"},Received:{bg:"bg-teal-100",text:"text-teal-800",border:"border-teal-300"},QCd:{bg:"bg-green-100",text:"text-green-800",border:"border-green-300"},Complete:{bg:"bg-green-200",text:"text-green-900",border:"border-green-400"}},vs={overdueSend:"bg-red-500",overdueReceive:"bg-orange-500",missingSteel:"bg-pink-500",readyToShip:"bg-blue-500",inProgress:"bg-yellow-400",complete:"bg-green-500",default:"bg-gray-300"},Ra={missingSteel:"bg-pink-50",complete:"bg-green-50",partial:"bg-yellow-50",default:"bg-white"};function SN(e){return of[e]||of.Pending}function CN(e){const t=new Date,n=e.DateToLeaveMFC?new Date(e.DateToLeaveMFC):null,s=e.DateToShipFromSub?new Date(e.DateToShipFromSub):null,l=e.OutboundDeliveredCount??e.LoadsShippedFromMFC,a=e.OutboundLoadCount??e.LoadsToShipFromMFC,i=e.InboundDeliveredCount??e.LoadsShippedFromSub,o=e.InboundLoadCount??e.LoadsToShipFromSub;return n&&n<t&&l<a?vs.overdueSend:s&&s<t&&i<o?vs.overdueReceive:e.MissingSteel?vs.missingSteel:e.Status==="Complete"?vs.complete:["Sent","InProcess","Shipped"].includes(e.Status)?vs.inProgress:e.Status==="Ready"?vs.readyToShip:vs.default}function kN(e){if(e.MissingSteel)return Ra.missingSteel;const t=e.InboundDeliveredCount??e.LoadsShippedFromSub,n=e.InboundLoadCount??e.LoadsToShipFromSub,s=e.OutboundDeliveredCount??e.LoadsShippedFromMFC;return e.Status==="Complete"||t>=n&&n>0?Ra.complete:s>0||t>0?Ra.partial:Ra.default}const dd=["Pending","Ready","Sent","InProcess","Shipped","Received","QCd","Complete"],cf={Open:{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-300"},Closed:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-300"},Loaded:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-300"},Shipped:{bg:"bg-purple-100",text:"text-purple-800",border:"border-purple-300"},Received:{bg:"bg-green-100",text:"text-green-800",border:"border-green-300"}},PN=["Open","Closed","Loaded","Shipped","Received"];function EN(e){return cf[e]||cf.Open}const uf={Planned:{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-300"},Loading:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-300"},InTransit:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-300"},Delivered:{bg:"bg-green-100",text:"text-green-800",border:"border-green-300"}},LN=["Planned","Loading","InTransit","Delivered"];function TN(e){return uf[e]||uf.Planned}const df={Raw:{bg:"bg-gray-100",text:"text-gray-700",border:"border-gray-300"},CutToLength:{bg:"bg-blue-100",text:"text-blue-700",border:"border-blue-300"},PartsOnPallets:{bg:"bg-purple-100",text:"text-purple-700",border:"border-purple-300"}},Ja=["Raw","CutToLength","PartsOnPallets"];function RN(e){return df[e]||df.Raw}function Xn({status:e,className:t}){const n=SN(e);return r.jsx("span",{className:z("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",n.bg,n.text,t),children:e})}function ds(e){return e?new Date(e).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"2-digit"}):"-"}function Ci(e){return e?new Date(e).toISOString().split("T")[0]:""}function fn(e){if(!e&&e!==0)return"-";const t=parseFloat(e);return t>=2e3?`${(t/2e3).toFixed(1)}T`:`${t.toLocaleString()} lbs`}function rt(e){return!e&&e!==0?"-":`${parseFloat(e).toLocaleString()} lbs`}function hf(e){return!e&&e!==0?"-":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function ff(e,t){return`${e||0} of ${t||0}`}function pf(e,t=50){return e?e.length<=t?e:e.substring(0,t)+"...":""}function DN(e,t,n){return!e&&!t&&!n?"-":`${e||0}" x ${t||0}" x ${n||0}"`}const IN={Raw:"Raw",CutToLength:"Cut to Length",PartsOnPallets:"Parts on Pallets"};function Nl(e){return IN[e]||e||"Raw"}const MN={Planned:"Planned",Loading:"Loading",InTransit:"In Transit",Delivered:"Delivered"};function mf(e){return MN[e]||e||"Planned"}function qx({subOut:e}){const t=Gs(),n=CN(e),s=()=>{t(`/subouts/${e.SubOutID}`)},l=new Date,a=e.DateToLeaveMFC?new Date(e.DateToLeaveMFC):null,i=e.DateToShipFromSub?new Date(e.DateToShipFromSub):null,o=e.OutboundDeliveredCount??e.LoadsShippedFromMFC??0,c=e.OutboundLoadCount??e.LoadsToShipFromMFC??0,u=e.InboundDeliveredCount??e.LoadsShippedFromSub??0,h=e.InboundLoadCount??e.LoadsToShipFromSub??0,d=a&&a<l&&o<c,g=i&&i<l&&u<h,j=c-o,m=h-u,y=c>0?Math.round((o+j*.5)/c*100):0,v=h>0?Math.round((u+m*.5)/h*100):0,f=c>0&&o>=c,p=h>0&&u>=h;return r.jsxs("div",{className:"rounded-lg bg-white shadow-sm hover:shadow-md transition-all duration-200 hover:-translate-y-0.5 cursor-pointer overflow-hidden border border-gray-200",onClick:s,children:[r.jsx("div",{className:z("h-1",n)}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-1",children:[r.jsx("h3",{className:"font-bold text-gray-900 text-base leading-tight",children:e.Lot}),r.jsx(Xn,{status:e.Status})]}),r.jsx("p",{className:"text-sm text-gray-500 mb-3 leading-snug",children:e.Description||"No description"}),r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(ql,{className:"w-3.5 h-3.5 text-gray-400 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-gray-700 truncate",children:e.SubFabricator||"No vendor"}),e.Zone&&r.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded font-medium",children:["Z",e.Zone]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-400 mb-0.5",children:"Leave MFC"}),r.jsxs("div",{className:z("text-sm font-medium flex items-center gap-1",d?"text-red-600":"text-gray-700"),children:[d&&r.jsx(Wa,{className:"w-3 h-3"}),ds(e.DateToLeaveMFC)]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-400 mb-0.5",children:"Due Back"}),r.jsxs("div",{className:z("text-sm font-medium flex items-center gap-1",g?"text-orange-600":"text-gray-700"),children:[g&&r.jsx(Wa,{className:"w-3 h-3"}),ds(e.DateToShipFromSub)]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Out"}),r.jsxs("span",{className:"text-xs text-gray-600 flex items-center gap-1",children:[c>0?`${o}/${c}`:"none",j>0&&!f&&r.jsxs("span",{className:"text-blue-500",children:["(",j," active)"]}),f&&r.jsx($h,{className:"w-3 h-3 text-green-500"})]})]}),r.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5",children:r.jsx("div",{className:z("h-1.5 rounded-full transition-all",f?"bg-green-500":d?"bg-red-400":"bg-blue-400"),style:{width:`${Math.min(y,100)}%`}})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"In"}),r.jsxs("span",{className:"text-xs text-gray-600 flex items-center gap-1",children:[h>0?`${u}/${h}`:"none",m>0&&!p&&r.jsxs("span",{className:"text-blue-500",children:["(",m," active)"]}),p&&r.jsx($h,{className:"w-3 h-3 text-green-500"})]})]}),r.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5",children:r.jsx("div",{className:z("h-1.5 rounded-full transition-all",p?"bg-green-500":g?"bg-orange-400":"bg-blue-400"),style:{width:`${Math.min(v,100)}%`}})})]})]}),r.jsxs("div",{className:"flex items-center gap-3 pt-2 border-t border-gray-100 text-xs text-gray-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Lb,{className:"w-3 h-3"}),fn(e.Weight)]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Gn,{className:"w-3 h-3"}),e.MajorPieces||0," pcs"]}),e.PONumber&&r.jsxs("span",{className:"flex items-center gap-1 ml-auto",children:[r.jsx(mb,{className:"w-3 h-3"}),e.PONumber]})]}),e.MissingSteel&&r.jsxs("div",{className:"mt-3 flex items-center gap-2 text-pink-700 bg-pink-50 px-2.5 py-1.5 rounded-md text-xs font-medium",children:[r.jsx(Wa,{className:"w-3.5 h-3.5 flex-shrink-0"}),r.jsxs("span",{children:["Missing: ",pf(e.MissingSteel,40)]})]}),e.Notes&&!e.MissingSteel&&r.jsx("p",{className:"mt-2 text-xs text-gray-400 italic leading-snug",children:pf(e.Notes,50)})]})]})}function FN({job:e}){var s,l;const[t,n]=w.useState(!0);return r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3 cursor-pointer",onClick:()=>n(!t),children:[t?r.jsx(us,{className:"w-5 h-5 text-gray-400"}):r.jsx(Vs,{className:"w-5 h-5 text-gray-400"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e.JobDescription||`Job ${e.JobCode}`}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",((s=e.subOuts)==null?void 0:s.length)||0," subs)"]}),e.ProjectManager&&r.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:["PM: ",e.ProjectManager]})]}),r.jsx("div",{className:z("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4","transition-all duration-300",!t&&"hidden"),children:(l=e.subOuts)==null?void 0:l.map(a=>r.jsx(qx,{subOut:a},a.SubOutID))})]})}function ne({children:e,className:t,onClick:n,...s}){return r.jsx("div",{className:z("bg-white rounded-lg shadow-sm border border-gray-200",n&&"cursor-pointer hover:shadow-md transition-shadow",t),onClick:n,...s,children:e})}ne.Header=function({children:t,className:n}){return r.jsx("div",{className:z("px-4 py-3 border-b border-gray-200",n),children:t})};ne.Body=function({children:t,className:n}){return r.jsx("div",{className:z("p-4",n),children:t})};ne.Footer=function({children:t,className:n}){return r.jsx("div",{className:z("px-4 py-3 border-t border-gray-200 bg-gray-50 rounded-b-lg",n),children:t})};const Zt=w.forwardRef(function({label:t,error:n,className:s,options:l=[],placeholder:a,...i},o){return r.jsxs("div",{className:"w-full",children:[t&&r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),r.jsxs("select",{ref:o,className:z("block w-full rounded-md border-gray-300 shadow-sm","focus:border-blue-500 focus:ring-blue-500","disabled:bg-gray-100 disabled:cursor-not-allowed",n&&"border-red-500 focus:border-red-500 focus:ring-red-500","px-3 py-2 border bg-white",s),...i,children:[a&&r.jsx("option",{value:"",children:a}),l.map(c=>r.jsx("option",{value:c.value,children:c.label},c.value))]}),n&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:n})]})});function ys({size:e="md",className:t,message:n}){const s={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return r.jsxs("div",{className:z("flex flex-col items-center justify-center gap-3",t),children:[r.jsxs("svg",{className:z("animate-spin text-blue-600",s[e]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n&&r.jsx("p",{className:"text-sm text-gray-500",children:n})]})}function ON(){const{viewMode:e,setViewMode:t}=sa(),[n,s]=w.useState({jobCode:"",vendorId:"",status:"",actionItemsOnly:!1,showArchived:!1}),{data:l,isLoading:a,error:i}=xN(n.showArchived?{includeArchived:!0}:{}),{data:o}=bN(),{data:c}=ua(),u=(o==null?void 0:o.data)||{},h=(c==null?void 0:c.data)||[],d=(l==null?void 0:l.data)||[],g=d.map(v=>{let f=v.subOuts||[];if(n.vendorId&&(f=f.filter(p=>p.VendorID===parseInt(n.vendorId))),n.status&&(f=f.filter(p=>p.Status===n.status)),n.actionItemsOnly){const p=new Date;f=f.filter(x=>{const b=x.DateToLeaveMFC?new Date(x.DateToLeaveMFC):null,R=x.DateToShipFromSub?new Date(x.DateToShipFromSub):null,I=x.OutboundDeliveredCount??x.LoadsShippedFromMFC,S=x.OutboundLoadCount??x.LoadsToShipFromMFC,P=x.InboundDeliveredCount??x.LoadsShippedFromSub,_=x.InboundLoadCount??x.LoadsToShipFromSub,O=b&&b<p&&I<S,M=R&&R<p&&P<_,Q=x.MissingSteel;return O||M||Q})}return{...v,subOuts:f}}).filter(v=>n.jobCode&&v.JobCode!==parseInt(n.jobCode)?!1:v.subOuts.length>0),j=h.map(v=>({value:v.VendorID,label:v.VendorName})),m=dd.map(v=>({value:v,label:v})),y=d.map(v=>({value:v.JobCode,label:v.JobDescription||`Job ${v.JobCode}`}));return a?r.jsx(ys,{className:"py-20",size:"lg"}):i?r.jsx("div",{className:"text-center py-20",children:r.jsxs("p",{className:"text-red-600",children:["Error loading data: ",i.message]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[r.jsxs(ne,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.TotalActive||0}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Active"})]}),r.jsxs(ne,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u.PendingShipment||0}),r.jsx("div",{className:"text-sm text-gray-500",children:"Pending Shipment"})]}),r.jsxs(ne,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:u.InProgress||0}),r.jsx("div",{className:"text-sm text-gray-500",children:"In Progress"})]}),r.jsxs(ne,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:u.ActionRequired||0}),r.jsx("div",{className:"text-sm text-gray-500",children:"Action Required"})]}),r.jsxs(ne,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.Archived||0}),r.jsx("div",{className:"text-sm text-gray-500",children:"Archived"})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsx("div",{className:"w-48",children:r.jsx(Zt,{value:n.jobCode,onChange:v=>s(f=>({...f,jobCode:v.target.value})),options:y,placeholder:"All Jobs"})}),r.jsx("div",{className:"w-48",children:r.jsx(Zt,{value:n.vendorId,onChange:v=>s(f=>({...f,vendorId:v.target.value})),options:j,placeholder:"All Vendors"})}),r.jsx("div",{className:"w-40",children:r.jsx(Zt,{value:n.status,onChange:v=>s(f=>({...f,status:v.target.value})),options:m,placeholder:"All Status"})}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:n.actionItemsOnly,onChange:v=>s(f=>({...f,actionItemsOnly:v.target.checked})),className:"rounded border-gray-300 text-blue-600"}),r.jsxs("span",{className:"text-sm text-gray-700",children:[r.jsx(px,{className:"inline w-4 h-4 mr-1 text-orange-500"}),"Action Items Only"]})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:n.showArchived,onChange:v=>s(f=>({...f,showArchived:v.target.checked})),className:"rounded border-gray-300 text-blue-600"}),r.jsxs("span",{className:"text-sm text-gray-700",children:[r.jsx(Ql,{className:"inline w-4 h-4 mr-1 text-gray-500"}),"Show Archived"]})]}),r.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"View:"}),r.jsx("button",{onClick:()=>t("cards"),className:z("p-2 rounded",e==="cards"?"bg-blue-100 text-blue-700":"text-gray-400 hover:text-gray-600"),children:r.jsx(yb,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>t("table"),className:z("p-2 rounded",e==="table"?"bg-blue-100 text-blue-700":"text-gray-400 hover:text-gray-600"),children:r.jsx(vb,{className:"w-5 h-5"})})]})]})}),g.length===0?r.jsx("div",{className:"text-center py-20 text-gray-500",children:r.jsx("p",{children:"No sub outs found matching the filters."})}):r.jsx("div",{children:g.map(v=>r.jsx(FN,{job:v},v.JobCode))})]})}function AN(){const[e]=ob(),[t,n]=w.useState({status:e.get("status")||"",vendorId:e.get("vendorId")||"",includeArchived:!1}),{includeArchived:s,...l}=t,{data:a,isLoading:i,error:o}=Bx({...l,...s?{includeArchived:!0}:{}}),{data:c}=ua(),u=(a==null?void 0:a.data)||[],d=((c==null?void 0:c.data)||[]).map(j=>({value:j.VendorID,label:j.VendorName})),g=dd.map(j=>({value:j,label:j}));return i?r.jsx(ys,{className:"py-20",size:"lg"}):r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"All SubOuts"}),r.jsx(Je,{to:"/subouts/new",children:r.jsxs(ce,{children:[r.jsx(nt,{className:"w-4 h-4 mr-1"}),"New SubOut"]})})]}),r.jsx(ne,{className:"p-4 mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(jl,{className:"w-5 h-5 text-gray-400"}),r.jsx("div",{className:"w-48",children:r.jsx(Zt,{value:t.vendorId,onChange:j=>n(m=>({...m,vendorId:j.target.value})),options:d,placeholder:"All Vendors"})}),r.jsx("div",{className:"w-40",children:r.jsx(Zt,{value:t.status,onChange:j=>n(m=>({...m,status:j.target.value})),options:g,placeholder:"All Status"})}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:t.includeArchived,onChange:j=>n(m=>({...m,includeArchived:j.target.checked})),className:"rounded border-gray-300 text-blue-600"}),r.jsxs("span",{className:"text-sm text-gray-700",children:[r.jsx(Ql,{className:"inline w-4 h-4 mr-1 text-gray-500"}),"Show Archived"]})]}),r.jsxs("span",{className:"text-sm text-gray-500 ml-auto",children:[u.length," results"]})]})}),o?r.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",o.message]}):u.length===0?r.jsxs("div",{className:"text-center py-20 text-gray-500",children:[r.jsx("p",{children:"No sub outs found."}),r.jsx(Je,{to:"/subouts/new",className:"text-blue-600 hover:underline",children:"Create the first one"})]}):r.jsx(ne,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Job"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Lot"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Vendor"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Leave MFC"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Loads Out"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ship From Sub"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Loads In"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Weight"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Pieces"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map(j=>r.jsxs("tr",{className:z("hover:bg-gray-50 cursor-pointer",kN(j)),children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:r.jsx(Je,{to:`/subouts/${j.SubOutID}`,className:"text-blue-600 hover:underline",children:j.JobDescription||`Job ${j.JobCode}`})}),r.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:r.jsx(Je,{to:`/subouts/${j.SubOutID}`,className:"text-blue-600 hover:underline",children:j.Lot})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:j.Description||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:j.SubFabricator||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ds(j.DateToLeaveMFC)}),r.jsx("td",{className:"px-4 py-3 text-sm text-center",children:ff(j.OutboundDeliveredCount??j.LoadsShippedFromMFC,j.OutboundLoadCount??j.LoadsToShipFromMFC)}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ds(j.DateToShipFromSub)}),r.jsx("td",{className:"px-4 py-3 text-sm text-center",children:ff(j.InboundDeliveredCount??j.LoadsShippedFromSub,j.InboundLoadCount??j.LoadsToShipFromSub)}),r.jsx("td",{className:"px-4 py-3 text-sm text-right",children:fn(j.Weight)}),r.jsx("td",{className:"px-4 py-3 text-sm text-center",children:j.MajorPieces||"-"}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(Xn,{status:j.Status})})]},j.SubOutID))})]})})})]})}function _N(){const e=ue();return xe({mutationFn:({subOutId:t,items:n})=>cd.bulkAdd(t,n),onSuccess:(t,{subOutId:n})=>{e.invalidateQueries({queryKey:["subouts",n,"items"]}),e.invalidateQueries({queryKey:["subouts",n]}),e.invalidateQueries({queryKey:["cutlists"]})}})}function UN(){const e=ue();return xe({mutationFn:({subOutId:t,itemId:n,data:s})=>cd.update(t,n,s),onSuccess:(t,{subOutId:n})=>{e.invalidateQueries({queryKey:["subouts",n,"items"]}),e.invalidateQueries({queryKey:["subouts",n]})}})}function zN(){const e=ue();return xe({mutationFn:({subOutId:t,itemId:n})=>cd.delete(t,n),onSuccess:(t,{subOutId:n})=>{e.invalidateQueries({queryKey:["subouts",n,"items"]}),e.invalidateQueries({queryKey:["subouts",n]}),e.invalidateQueries({queryKey:["cutlists"]})}})}function BN(e){return pt({queryKey:["cutlists","packages",e],queryFn:()=>Yi.getPackages(e),enabled:!!e})}function $N(e,t){return pt({queryKey:["cutlists","available",e,t],queryFn:()=>Yi.getAvailable(e,t),enabled:!!e&&!!t})}function QN(){const e=ue();return xe({mutationFn:({pullListId:t,data:n})=>Yi.updatePullListSource(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["subouts"]}),e.invalidateQueries({queryKey:["cutlists"]})}})}function qN(){const e=ue();return xe({mutationFn:({pullListIds:t,pullStatus:n})=>Yi.bulkUpdatePullListStatus(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["subouts"]}),e.invalidateQueries({queryKey:["cutlists"]})}})}function WN(){return pt({queryKey:["config","pullStatuses"],queryFn:()=>fN.getPullStatuses(),staleTime:30*60*1e3})}function VN(e){return pt({queryKey:["subouts",e,"pallets"],queryFn:()=>gs.getBySubOut(e),enabled:!!e})}function KN(){const e=ue();return xe({mutationFn:({subOutId:t,data:n})=>gs.create(t,n),onSuccess:(t,{subOutId:n})=>{e.invalidateQueries({queryKey:["subouts",n,"pallets"]}),e.invalidateQueries({queryKey:["subouts",n]})}})}function HN(){const e=ue();return xe({mutationFn:({subOutId:t,palletId:n,data:s})=>gs.update(t,n,s),onSuccess:(t,{subOutId:n})=>{e.invalidateQueries({queryKey:["subouts",n,"pallets"]}),e.invalidateQueries({queryKey:["subouts",n]})}})}function JN(){const e=ue();return xe({mutationFn:({subOutId:t,palletId:n})=>gs.delete(t,n),onSuccess:(t,{subOutId:n})=>{e.invalidateQueries({queryKey:["subouts",n,"pallets"]}),e.invalidateQueries({queryKey:["subouts",n]}),e.invalidateQueries({queryKey:["subouts",n,"items"]})}})}function GN(){const e=ue();return xe({mutationFn:({subOutId:t,palletId:n,status:s})=>gs.updateStatus(t,n,s),onSuccess:(t,{subOutId:n})=>{e.invalidateQueries({queryKey:["subouts",n,"pallets"]}),e.invalidateQueries({queryKey:["subouts",n]})}})}function XN(){const e=ue();return xe({mutationFn:({subOutId:t,palletId:n,itemIds:s})=>gs.assignItems(t,n,s),onSuccess:(t,{subOutId:n})=>{e.invalidateQueries({queryKey:["subouts",n,"pallets"]}),e.invalidateQueries({queryKey:["subouts",n,"items"]}),e.invalidateQueries({queryKey:["subouts",n]})}})}function YN(){const e=ue();return xe({mutationFn:({subOutId:t,palletId:n,itemId:s})=>gs.removeItem(t,n,s),onSuccess:(t,{subOutId:n})=>{e.invalidateQueries({queryKey:["subouts",n,"pallets"]}),e.invalidateQueries({queryKey:["subouts",n,"items"]}),e.invalidateQueries({queryKey:["subouts",n]})}})}function ZN(){const e=ue();return xe({mutationFn:({subOutId:t,palletId:n,loadId:s})=>gs.assignToLoad(t,n,s),onSuccess:(t,{subOutId:n})=>{e.invalidateQueries({queryKey:["subouts",n,"pallets"]}),e.invalidateQueries({queryKey:["subouts",n,"loads"]}),e.invalidateQueries({queryKey:["subouts",n,"items"]}),e.invalidateQueries({queryKey:["subouts",n]})}})}function e1(e,t){return pt({queryKey:["subouts",e,"loads",{direction:t}],queryFn:()=>Tn.getBySubOut(e,t),enabled:!!e})}function t1(){const e=ue();return xe({mutationFn:({subOutId:t,data:n})=>Tn.create(t,n),onSuccess:(t,{subOutId:n})=>{e.invalidateQueries({queryKey:["subouts",n,"loads"]}),e.invalidateQueries({queryKey:["subouts",n]}),e.invalidateQueries({queryKey:["subouts"]})}})}function n1(){const e=ue();return xe({mutationFn:({subOutId:t,loadId:n,data:s})=>Tn.update(t,n,s),onSuccess:(t,{subOutId:n})=>{e.invalidateQueries({queryKey:["subouts",n,"loads"]}),e.invalidateQueries({queryKey:["subouts",n]})}})}function s1(){const e=ue();return xe({mutationFn:({subOutId:t,loadId:n})=>Tn.delete(t,n),onSuccess:(t,{subOutId:n})=>{e.invalidateQueries({queryKey:["subouts",n,"loads"]}),e.invalidateQueries({queryKey:["subouts",n,"items"]}),e.invalidateQueries({queryKey:["subouts",n,"pallets"]}),e.invalidateQueries({queryKey:["subouts",n]}),e.invalidateQueries({queryKey:["subouts"]})}})}function r1(){const e=ue();return xe({mutationFn:({subOutId:t,loadId:n,status:s})=>Tn.updateStatus(t,n,s),onSuccess:(t,{subOutId:n})=>{e.invalidateQueries({queryKey:["subouts",n,"loads"]}),e.invalidateQueries({queryKey:["subouts",n]}),e.invalidateQueries({queryKey:["subouts"]})}})}function l1(){const e=ue();return xe({mutationFn:({subOutId:t,loadId:n,itemIds:s})=>Tn.assignItems(t,n,s),onSuccess:(t,{subOutId:n})=>{e.invalidateQueries({queryKey:["subouts",n,"loads"]}),e.invalidateQueries({queryKey:["subouts",n,"items"]}),e.invalidateQueries({queryKey:["subouts",n]})}})}function a1(){const e=ue();return xe({mutationFn:({subOutId:t,loadId:n,itemId:s})=>Tn.removeItem(t,n,s),onSuccess:(t,{subOutId:n})=>{e.invalidateQueries({queryKey:["subouts",n,"loads"]}),e.invalidateQueries({queryKey:["subouts",n,"items"]}),e.invalidateQueries({queryKey:["subouts",n]})}})}function i1(){const e=ue();return xe({mutationFn:({subOutId:t,loadId:n,palletIds:s})=>Tn.assignPallets(t,n,s),onSuccess:(t,{subOutId:n})=>{e.invalidateQueries({queryKey:["subouts",n,"loads"]}),e.invalidateQueries({queryKey:["subouts",n,"pallets"]}),e.invalidateQueries({queryKey:["subouts",n,"items"]}),e.invalidateQueries({queryKey:["subouts",n]})}})}function o1(){const e=ue();return xe({mutationFn:({subOutId:t,loadId:n,palletId:s})=>Tn.removePallet(t,n,s),onSuccess:(t,{subOutId:n})=>{e.invalidateQueries({queryKey:["subouts",n,"loads"]}),e.invalidateQueries({queryKey:["subouts",n,"pallets"]}),e.invalidateQueries({queryKey:["subouts",n]})}})}function c1({subOut:e,onDelete:t,onReopen:n,children:s}){return e?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.JobDescription||`Job ${e.JobCode}`}),r.jsxs("p",{className:"text-lg text-gray-600",children:[e.Lot," - ",e.Description||"No description"]}),e.ProjectManager&&r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["PM: ",e.ProjectManager]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[e.Status==="Complete"&&n&&r.jsxs(ce,{variant:"secondary",size:"sm",onClick:n,children:[r.jsx(Jc,{className:"w-4 h-4 mr-1"}),"Reopen"]}),r.jsx(Je,{to:`/subouts/${e.SubOutID}/edit`,children:r.jsxs(ce,{variant:"secondary",size:"sm",children:[r.jsx(Et,{className:"w-4 h-4 mr-1"}),"Edit"]})}),r.jsxs(ce,{variant:"danger",size:"sm",onClick:t,children:[r.jsx(ut,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]}),r.jsxs(ne,{children:[r.jsx(ne.Header,{children:r.jsx("h2",{className:"font-semibold",children:"Details"})}),r.jsx(ne.Body,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Vendor"}),r.jsx("p",{className:"font-medium",children:e.SubFabricator||"-"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Zone"}),r.jsx("p",{className:"font-medium",children:e.Zone||"-"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Weight"}),r.jsx("p",{className:"font-medium",children:rt(e.Weight)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Major Pieces"}),r.jsx("p",{className:"font-medium",children:e.MajorPieces||"-"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-500",children:"PO Number"}),r.jsx("p",{className:"font-medium",children:e.PONumber||"-"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Status"}),r.jsx("div",{className:"mt-0.5",children:r.jsx(Xn,{status:e.Status})})]}),e.EstimatedCost&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Estimated Cost"}),r.jsx("p",{className:"font-medium",children:hf(e.EstimatedCost)})]}),e.ActualCost&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Actual Cost"}),r.jsx("p",{className:"font-medium",children:hf(e.ActualCost)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Leave MFC"}),r.jsx("p",{className:"font-medium",children:ds(e.DateToLeaveMFC)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Due from Sub"}),r.jsx("p",{className:"font-medium",children:ds(e.DateToShipFromSub)})]})]})})]}),s,e.MissingSteel&&r.jsxs(ne,{children:[r.jsx(ne.Header,{children:r.jsx("h2",{className:"font-semibold",children:"Missing Steel"})}),r.jsx(ne.Body,{children:r.jsx("p",{className:"text-pink-600 bg-pink-50 p-3 rounded",children:e.MissingSteel})})]}),e.Notes&&r.jsxs(ne,{children:[r.jsx(ne.Header,{children:r.jsx("h2",{className:"font-semibold",children:"Notes"})}),r.jsx(ne.Body,{children:r.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:e.Notes})})]})]}):null}function Pe({isOpen:e,onClose:t,title:n,children:s,size:l="md",showCloseButton:a=!0}){if(w.useEffect(()=>{function o(c){c.key==="Escape"&&t()}return e&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow="unset"}},[e,t]),!e)return null;const i={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-6xl"};return r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),r.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:r.jsxs("div",{className:z("relative w-full bg-white rounded-lg shadow-xl transform transition-all",i[l]),onClick:o=>o.stopPropagation(),children:[(n||a)&&r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[n&&r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n}),a&&r.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",children:r.jsx(Wl,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"px-6 py-4",children:s})]})})]})}Pe.Footer=function({children:t,className:n}){return r.jsx("div",{className:z("flex justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 -mx-6 -mb-4 mt-4 rounded-b-lg",n),children:t})};const he=w.forwardRef(function({label:t,error:n,className:s,type:l="text",...a},i){return r.jsxs("div",{className:"w-full",children:[t&&r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),r.jsx("input",{ref:i,type:l,className:z("block w-full rounded-md border-gray-300 shadow-sm","focus:border-blue-500 focus:ring-blue-500","disabled:bg-gray-100 disabled:cursor-not-allowed",n&&"border-red-500 focus:border-red-500 focus:ring-red-500","px-3 py-2 border",s),...a}),n&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:n})]})});function u1({isOpen:e,onClose:t,onSubmit:n,initialData:s,defaultDirection:l,isLoading:a}){const[i,o]=w.useState({direction:"Outbound",scheduledDate:"",actualDate:"",truckCompany:"",trailerNumber:"",driverName:"",bolNumber:"",weight:"",pieceCount:"",notes:""});w.useEffect(()=>{o(s?{direction:s.Direction||"Outbound",scheduledDate:Ci(s.ScheduledDate),actualDate:Ci(s.ActualDate),truckCompany:s.TruckCompany||"",trailerNumber:s.TrailerNumber||"",driverName:s.DriverName||"",bolNumber:s.BOLNumber||"",weight:s.Weight||"",pieceCount:s.PieceCount||"",notes:s.Notes||""}:{direction:l||"Outbound",scheduledDate:"",actualDate:"",truckCompany:"",trailerNumber:"",driverName:"",bolNumber:"",weight:"",pieceCount:"",notes:""})},[s,l,e]);const c=h=>{const{name:d,value:g}=h.target;o(j=>({...j,[d]:g}))},u=h=>{h.preventDefault(),n(i)};return r.jsx(Pe,{isOpen:e,onClose:t,title:s?"Edit Load":"New Load",size:"md",children:r.jsxs("form",{onSubmit:u,children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(Zt,{label:"Direction",name:"direction",value:i.direction,onChange:c,disabled:!!s,options:[{value:"Outbound",label:"Outbound (MFC  Sub)"},{value:"Inbound",label:"Inbound (Sub  MFC)"}]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Scheduled Date",name:"scheduledDate",type:"date",value:i.scheduledDate,onChange:c}),r.jsx(he,{label:"Actual Date",name:"actualDate",type:"date",value:i.actualDate,onChange:c})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Truck Company",name:"truckCompany",value:i.truckCompany,onChange:c}),r.jsx(he,{label:"Trailer Number",name:"trailerNumber",value:i.trailerNumber,onChange:c})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Driver Name",name:"driverName",value:i.driverName,onChange:c}),r.jsx(he,{label:"BOL Number",name:"bolNumber",value:i.bolNumber,onChange:c,placeholder:"Bill of Lading"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Weight (lbs)",name:"weight",type:"number",value:i.weight,onChange:c}),r.jsx(he,{label:"Piece Count",name:"pieceCount",type:"number",value:i.pieceCount,onChange:c})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{name:"notes",value:i.notes,onChange:c,rows:2,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs(Pe.Footer,{children:[r.jsx(ce,{variant:"secondary",onClick:t,children:"Cancel"}),r.jsx(ce,{type:"submit",loading:a,children:s?"Update Load":"Create Load"})]})]})})}function Wx({sendType:e,className:t=""}){const n=RN(e);return r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${n.bg} ${n.text} ${t}`,children:Nl(e)})}const ll=48e3,d1=[{key:"LongShapes",label:"LongShapes"},{key:"Parts",label:"Parts"},{key:"PullList",label:"PullList/Raw"}];function Io(e){return e.TeklaWeight!=null?e.TeklaWeight:e.Weight}function h1({isOpen:e,onClose:t,items:n,pallets:s,loadId:l,loadNumber:a,onAssignItems:i,onAssignPallets:o,isAssigning:c}){const[u,h]=w.useState("LongShapes"),[d,g]=w.useState([]),[j,m]=w.useState([]),y=w.useMemo(()=>{const k=(n||[]).filter(T=>!T.PalletID&&(!T.LoadID||T.LoadID===l));return{LongShapes:k.filter(T=>T.SourceTable==="LongShapes"),Parts:k.filter(T=>T.SourceTable==="Parts"),PullList:k.filter(T=>T.SourceTable==="PullList"||T.SourceTable==="TeklaInventory")}},[n,l]),v=w.useMemo(()=>(n||[]).filter(k=>k.LoadID===l).reduce((k,T)=>k+(parseFloat(Io(T))||0)*(T.Quantity||1),0),[n,l]),f=w.useMemo(()=>(s||[]).filter(k=>!k.LoadID||k.LoadID===l),[s,l]),p=y[u]||[],x=k=>{g(T=>T.includes(k)?T.filter(q=>q!==k):[...T,k])},b=k=>{m(T=>T.includes(k)?T.filter(q=>q!==k):[...T,k])},R=()=>{const k=p.filter(T=>!T.LoadID).map(T=>T.SubOutItemID);g(T=>{const q=new Set(T);return k.forEach(E=>q.add(E)),Array.from(q)})},I=()=>{m(f.filter(k=>!k.LoadID).map(k=>k.PalletID))},S=()=>{d.length>0&&i(d),j.length>0&&o(j),g([]),m([]),t()},P=()=>{g([]),m([]),t()},_=w.useMemo(()=>{const T=[...y.LongShapes||[],...y.Parts||[],...y.PullList||[]].filter(q=>d.includes(q.SubOutItemID));return{count:T.length,weight:T.reduce((q,E)=>q+(parseFloat(Io(E))||0)*(E.Quantity||1),0)}},[d,y]),O=w.useMemo(()=>{const k=f.filter(T=>j.includes(T.PalletID));return{count:k.length,items:k.reduce((T,q)=>T+(q.ItemCount||0),0),weight:k.reduce((T,q)=>T+(parseFloat(q.Weight)||0),0)}},[j,f]),M=d.length>0||j.length>0,Q=k=>{const T=new Set((y[k]||[]).map(q=>q.SubOutItemID));return d.filter(q=>T.has(q)).length},J=()=>{if(p.length===0)return r.jsxs("div",{className:"text-center py-8 text-gray-500",children:["No unassigned ",u==="PullList"?"PullList/Raw":u," items available."]});const k=p.filter(B=>!B.LoadID).length,T=u==="LongShapes"||u==="Parts",q=u==="LongShapes"||u==="Parts",E=u==="PullList",A=u==="LongShapes"||u==="PullList";return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsxs("button",{onClick:R,className:"text-sm text-blue-600 hover:text-blue-800",children:["Select all unassigned (",k,")"]})}),r.jsx("div",{className:"max-h-80 overflow-y-auto border rounded-md",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:"w-10 px-3 py-2"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Type"}),T&&r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Main Mark"}),q&&r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Piece Mark"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Shape"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Size"}),E&&r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Grade"}),A&&r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Length"}),r.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500",children:"Qty"}),r.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500",children:"Weight"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:p.map(B=>{const Z=B.LoadID===l,le=d.includes(B.SubOutItemID);return r.jsxs("tr",{className:z("cursor-pointer",Z?"bg-green-50":"hover:bg-blue-50",le&&"bg-blue-100"),onClick:()=>!Z&&x(B.SubOutItemID),children:[r.jsx("td",{className:"px-3 py-2",onClick:pe=>pe.stopPropagation(),children:r.jsx("input",{type:"checkbox",checked:le||Z,onChange:()=>x(B.SubOutItemID),disabled:Z,className:"rounded border-gray-300"})}),r.jsx("td",{className:"px-3 py-2",children:r.jsx(Wx,{sendType:B.SendType})}),T&&r.jsx("td",{className:"px-3 py-2 text-sm",children:B.MainMark||"-"}),q&&r.jsx("td",{className:"px-3 py-2 text-sm",children:B.PieceMark||"-"}),r.jsx("td",{className:"px-3 py-2 text-sm",children:B.Shape||"-"}),r.jsx("td",{className:"px-3 py-2 text-sm",children:B.Dimension||"-"}),E&&r.jsx("td",{className:"px-3 py-2 text-sm",children:B.Grade||"-"}),A&&r.jsx("td",{className:"px-3 py-2 text-sm",children:B.Length||"-"}),r.jsx("td",{className:"px-3 py-2 text-sm text-center",children:B.Quantity||0}),r.jsx("td",{className:"px-3 py-2 text-sm text-right",children:r.jsx("span",{className:B.TeklaWeight!=null?"text-blue-600":"",children:fn(Io(B))})})]},B.SubOutItemID)})})]})})]})},X=()=>f.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No pallets available. Create pallets first."}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsxs("button",{onClick:I,className:"text-sm text-blue-600 hover:text-blue-800",children:["Select all unassigned (",f.filter(k=>!k.LoadID).length,")"]})}),r.jsx("div",{className:"max-h-80 overflow-y-auto border rounded-md",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:"w-10 px-3 py-2"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Pallet"}),r.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500",children:"Items"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Status"}),r.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500",children:"Weight"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:f.map(k=>r.jsxs("tr",{className:z("cursor-pointer",k.LoadID===l?"bg-green-50":"hover:bg-blue-50",j.includes(k.PalletID)&&"bg-blue-100"),onClick:()=>!k.LoadID&&b(k.PalletID),children:[r.jsx("td",{className:"px-3 py-2",onClick:T=>T.stopPropagation(),children:r.jsx("input",{type:"checkbox",checked:j.includes(k.PalletID)||k.LoadID===l,onChange:()=>b(k.PalletID),disabled:k.LoadID===l,className:"rounded border-gray-300"})}),r.jsx("td",{className:"px-3 py-2 text-sm font-medium text-purple-700",children:k.PalletNumber}),r.jsx("td",{className:"px-3 py-2 text-sm text-center",children:k.ItemCount||0}),r.jsx("td",{className:"px-3 py-2 text-sm",children:k.Status}),r.jsx("td",{className:"px-3 py-2 text-sm text-right",children:fn(k.Weight)})]},k.PalletID))})]})})]});return r.jsxs(Pe,{isOpen:e,onClose:P,title:`Assign to ${a}`,size:"lg",children:[r.jsx("div",{className:"border-b border-gray-200 mb-4",children:r.jsxs("nav",{className:"flex gap-2",children:[d1.map(k=>{const T=(y[k.key]||[]).length,q=Q(k.key);return r.jsxs("button",{onClick:()=>h(k.key),className:z("px-3 py-2 text-sm font-medium border-b-2 -mb-px",u===k.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[k.label," (",T,")",q>0&&r.jsx("span",{className:"ml-1 text-xs bg-blue-100 text-blue-700 rounded-full px-1.5",children:q})]},k.key)}),r.jsxs("button",{onClick:()=>h("pallets"),className:z("px-3 py-2 text-sm font-medium border-b-2 -mb-px",u==="pallets"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:["Pallets (",f.length,")",j.length>0&&r.jsx("span",{className:"ml-1 text-xs bg-blue-100 text-blue-700 rounded-full px-1.5",children:j.length})]})]})}),u==="pallets"?X():J(),(()=>{const k=_.weight+O.weight,T=v+k,q=ll-T,E=Math.min(T/ll*100,100),A=q<0?"bg-red-500":q<ll*.25?"bg-orange-400":"bg-green-500",B=q<0?"text-red-600":q<ll*.25?"text-orange-600":"text-green-600";return r.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-md text-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[r.jsxs("span",{className:"text-gray-600",children:["Load: ",rt(v),k>0&&r.jsxs(r.Fragment,{children:[" + ",r.jsx("span",{className:"font-medium text-blue-600",children:rt(k)})]})," ","/ ",rt(ll)]}),r.jsx("span",{className:z("font-medium",B),children:q<0?`${rt(Math.abs(q))} over`:`${rt(q)} avail`})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:z(A,"h-2 rounded-full transition-all"),style:{width:`${E}%`}})})]})})(),r.jsxs(Pe.Footer,{children:[r.jsx(ce,{variant:"secondary",onClick:P,children:"Cancel"}),r.jsx(ce,{onClick:S,disabled:!M,loading:c,children:"Assign to Load"})]})]})}const xf=48e3;function f1({loads:e,items:t,pallets:n,subOutId:s,dateToLeaveMFC:l,dateToShipFromSub:a,onCreateLoad:i,onUpdateLoad:o,onDeleteLoad:c,onUpdateLoadStatus:u,onAssignItemsToLoad:h,onAssignPalletsToLoad:d,onRemoveItemFromLoad:g,onRemovePalletFromLoad:j,isCreating:m,isUpdating:y}){const[v,f]=w.useState(!1),[p,x]=w.useState("Outbound"),[b,R]=w.useState(null),[I,S]=w.useState(null),[P,_]=w.useState(new Set),[O,M]=w.useState(new Set),Q=(e||[]).filter(W=>W.Direction==="Outbound"),J=(e||[]).filter(W=>W.Direction==="Inbound"),X=Q.filter(W=>W.Status==="Delivered").length,k=J.filter(W=>W.Status==="Delivered").length,T=W=>{_(be=>{const me=new Set(be);return me.has(W)?me.delete(W):me.add(W),me})},q=W=>{x(W),f(!0)},E=W=>{i({subOutId:s,data:W}),f(!1)},A=W=>{o({subOutId:s,loadId:b.LoadID,data:W}),R(null)},B=W=>{h({subOutId:s,loadId:I.LoadID,itemIds:W})},Z=W=>{d({subOutId:s,loadId:I.LoadID,palletIds:W})},le=W=>(t||[]).filter(be=>be.LoadID===W&&!be.PalletID),pe=W=>(n||[]).filter(be=>be.LoadID===W),Se=W=>(t||[]).filter(be=>be.PalletID===W),$e=W=>{M(be=>{const me=new Set(be);return me.has(W)?me.delete(W):me.add(W),me})},Ye=W=>{const be=P.has(W.LoadID),me=TN(W.Status),Me=le(W.LoadID),Ke=pe(W.LoadID),qt=(t||[]).filter(L=>L.LoadID===W.LoadID).reduce((L,K)=>L+((K.TeklaWeight!=null?K.TeklaWeight:K.Weight)||0)*(K.Quantity||1),0),Ct=xf-qt;return r.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gray-50 hover:bg-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-1 cursor-pointer",onClick:()=>T(W.LoadID),children:[be?r.jsx(us,{className:"w-4 h-4 text-gray-400"}):r.jsx(Vs,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"font-medium text-sm",children:W.LoadNumber}),r.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${me.bg} ${me.text}`,children:mf(W.Status)}),W.ScheduledDate&&r.jsx("span",{className:"text-xs text-gray-500",children:ds(W.ScheduledDate)}),(W.ItemCount>0||W.PalletCount>0)&&r.jsxs("span",{className:"text-xs text-gray-400",children:[W.ItemCount>0&&`${W.ItemCount} items`,W.ItemCount>0&&W.PalletCount>0&&", ",W.PalletCount>0&&`${W.PalletCount} pallets`,qt>0&&`  ${rt(qt)}`]}),qt>0&&r.jsxs("span",{className:z("text-xs font-medium",Ct<0?"text-red-600":Ct<xf*.25?"text-orange-500":"text-green-600"),children:["(",Ct<0?`${rt(Math.abs(Ct))} over`:`${rt(Ct)} avail`,")"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("select",{value:W.Status,onChange:L=>u({subOutId:s,loadId:W.LoadID,status:L.target.value}),className:"text-xs border border-gray-200 rounded px-1.5 py-1 bg-white",onClick:L=>L.stopPropagation(),children:LN.map(L=>r.jsx("option",{value:L,children:mf(L)},L))}),r.jsx("button",{onClick:L=>{L.stopPropagation(),S(W)},className:"p-1 text-gray-400 hover:text-blue-600",title:"Assign items/pallets",children:r.jsx(nt,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:L=>{L.stopPropagation(),R(W)},className:"p-1 text-gray-400 hover:text-blue-600",title:"Edit",children:r.jsx(Et,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:L=>{L.stopPropagation(),c({subOutId:s,loadId:W.LoadID})},className:"p-1 text-gray-400 hover:text-red-600",title:"Delete",children:r.jsx(ut,{className:"w-3.5 h-3.5"})})]})]}),be&&r.jsxs("div",{className:"border-t text-sm",children:[(W.TruckCompany||W.TrailerNumber||W.DriverName||W.BOLNumber)&&r.jsxs("div",{className:"px-3 py-2 bg-blue-50 text-xs text-gray-600 flex gap-4 flex-wrap",children:[W.TruckCompany&&r.jsxs("span",{children:["Truck: ",W.TruckCompany]}),W.TrailerNumber&&r.jsxs("span",{children:["Trailer: ",W.TrailerNumber]}),W.DriverName&&r.jsxs("span",{children:["Driver: ",W.DriverName]}),W.BOLNumber&&r.jsxs("span",{children:["BOL: ",W.BOLNumber]})]}),Ke.length>0&&r.jsxs("div",{className:"px-3 py-2 border-b",children:[r.jsxs("div",{className:"text-xs font-medium text-purple-700 mb-1 flex items-center gap-1",children:[r.jsx(Gn,{className:"w-3 h-3"})," Pallets"]}),Ke.map(L=>{const K=Se(L.PalletID),Qe=O.has(L.PalletID),kt=K.reduce((C,$)=>C+(($.TeklaWeight!=null?$.TeklaWeight:$.Weight)||0)*($.Quantity||1),0);return r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-1 cursor-pointer text-xs text-gray-600 hover:text-purple-700",onClick:()=>$e(L.PalletID),children:[Qe?r.jsx(us,{className:"w-3 h-3"}):r.jsx(Vs,{className:"w-3 h-3"}),r.jsx("span",{className:"font-medium text-purple-700",children:L.PalletNumber}),r.jsxs("span",{children:["- ",L.ItemCount||0," items",kt>0&&`, ${rt(kt)}`]})]}),j&&r.jsx("button",{onClick:C=>{C.stopPropagation(),j({subOutId:s,loadId:W.LoadID,palletId:L.PalletID})},className:"p-0.5 text-gray-400 hover:text-red-500 flex-shrink-0",title:"Remove pallet from load",children:r.jsx(Wl,{className:"w-3.5 h-3.5"})})]}),Qe&&K.length>0&&r.jsx("div",{className:"ml-5 mt-1 mb-1 border-l-2 border-purple-200 pl-2",children:K.map(C=>{const $=C.TeklaWeight!=null?C.TeklaWeight:C.Weight;return r.jsxs("div",{className:"text-xs text-gray-500",children:[C.PieceMark||C.MainMark||"-"," - ",C.Shape," ",C.Dimension||"",", Qty ",C.Quantity,$?`, ${rt($)}`:""]},C.SubOutItemID)})})]},L.PalletID)})]}),Me.length>0&&r.jsxs("div",{className:"px-3 py-2",children:[r.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Direct Items"}),Me.map(L=>{const K=L.TeklaWeight!=null?L.TeklaWeight:L.Weight;return r.jsxs("div",{className:"text-xs text-gray-600 ml-4 flex items-center justify-between group",children:[r.jsxs("span",{children:[L.SourceTable==="PullList"?`${L.Shape} ${L.Dimension||""} ${L.Grade||""} ${L.Length||""}`:`${L.PieceMark||L.MainMark||"-"} - ${L.Shape} ${L.Dimension||""}`,", Qty ",L.Quantity,K?`, ${rt(K)}`:""]}),g&&r.jsx("button",{onClick:Qe=>{Qe.stopPropagation(),g({subOutId:s,loadId:W.LoadID,itemId:L.SubOutItemID})},className:"p-0.5 text-gray-400 hover:text-red-500 flex-shrink-0",title:"Remove from load",children:r.jsx(Wl,{className:"w-3.5 h-3.5"})})]},L.SubOutItemID)})]}),Ke.length===0&&Me.length===0&&r.jsx("div",{className:"px-3 py-3 text-xs text-gray-500 text-center",children:"No items or pallets assigned. Click + to add."}),W.Notes&&r.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 border-t bg-gray-50",children:W.Notes})]})]},W.LoadID)},St=(W,be,me,Me,Ke)=>r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:W}),r.jsxs("p",{className:"text-xs text-gray-500",children:[me," of ",be.length," delivered",Ke&&` | Due: ${ds(Ke)}`]})]}),r.jsxs(ce,{size:"sm",onClick:()=>q(Me),children:[r.jsx(nt,{className:"w-3.5 h-3.5 mr-1"}),"Load"]})]}),be.length>0&&r.jsx("div",{className:"mb-3",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:`${be.length>0?me/be.length*100:0}%`}})})}),r.jsx("div",{className:"space-y-2",children:be.length===0?r.jsx("div",{className:"text-center py-4 text-sm text-gray-400",children:"No loads yet"}):be.map(Mt=>Ye(Mt))})]});return r.jsxs(ne,{children:[r.jsx(ne.Header,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rd,{className:"w-5 h-5 text-blue-600"}),r.jsxs("h2",{className:"font-semibold",children:["Loads (",(e||[]).length,")"]})]})}),r.jsx(ne.Body,{children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[St("Outbound (MFC  Sub)",Q,X,"Outbound",l),r.jsx("div",{className:"hidden lg:block border-l border-gray-200"}),St("Inbound (Sub  MFC)",J,k,"Inbound",a)]})}),r.jsx(u1,{isOpen:v||!!b,onClose:()=>{f(!1),R(null)},onSubmit:b?A:E,initialData:b,defaultDirection:p,isLoading:m||y}),I&&r.jsx(h1,{isOpen:!!I,onClose:()=>S(null),items:t,pallets:n,loadId:I.LoadID,loadNumber:I.LoadNumber,onAssignItems:B,onAssignPallets:Z,isAssigning:y})]})}function p1({isOpen:e,onClose:t,onSubmit:n,initialData:s,isLoading:l}){const[a,i]=w.useState({palletNumber:"",weight:"",length:"",width:"",height:"",photoURL:"",notes:""});w.useEffect(()=>{i(s?{palletNumber:s.PalletNumber||"",weight:s.Weight||"",length:s.Length||"",width:s.Width||"",height:s.Height||"",photoURL:s.PhotoURL||"",notes:s.Notes||""}:{palletNumber:"",weight:"",length:"",width:"",height:"",photoURL:"",notes:""})},[s,e]);const o=u=>{const{name:h,value:d}=u.target;i(g=>({...g,[h]:d}))},c=u=>{u.preventDefault(),n(a)};return r.jsx(Pe,{isOpen:e,onClose:t,title:s?"Edit Pallet":"New Pallet",size:"md",children:r.jsxs("form",{onSubmit:c,children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(he,{label:"Pallet Number",name:"palletNumber",value:a.palletNumber,onChange:o,placeholder:"Auto-generated if blank"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Weight (lbs)",name:"weight",type:"number",value:a.weight,onChange:o}),r.jsx("div",{})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dimensions (inches)"}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsx(he,{name:"length",type:"number",value:a.length,onChange:o,placeholder:"L"}),r.jsx(he,{name:"width",type:"number",value:a.width,onChange:o,placeholder:"W"}),r.jsx(he,{name:"height",type:"number",value:a.height,onChange:o,placeholder:"H"})]})]}),r.jsx(he,{label:"Photo URL",name:"photoURL",value:a.photoURL,onChange:o,placeholder:"https://..."}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{name:"notes",value:a.notes,onChange:o,rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs(Pe.Footer,{children:[r.jsx(ce,{variant:"secondary",onClick:t,children:"Cancel"}),r.jsx(ce,{type:"submit",loading:l,children:s?"Update Pallet":"Create Pallet"})]})]})})}function m1({isOpen:e,onClose:t,items:n,palletId:s,palletNumber:l,onAssign:a,isAssigning:i}){const[o,c]=w.useState([]),u=w.useMemo(()=>(n||[]).filter(y=>y.SendType==="PartsOnPallets"&&(!y.PalletID||y.PalletID===s)),[n,s]),h=y=>{c(v=>v.includes(y)?v.filter(f=>f!==y):[...v,y])},d=()=>{const y=u.filter(v=>!v.PalletID).map(v=>v.SubOutItemID);c(y)},g=()=>{a(o),c([])},j=()=>{c([]),t()},m=w.useMemo(()=>{const y=u.filter(v=>o.includes(v.SubOutItemID));return{count:y.length,weight:y.reduce((v,f)=>v+(parseFloat(f.Weight)||0),0)}},[o,u]);return r.jsxs(Pe,{isOpen:e,onClose:j,title:`Assign Items to ${l}`,size:"lg",children:[u.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:['No items with "Parts on Pallets" send type available.',r.jsx("br",{}),r.jsx("span",{className:"text-sm",children:'Change item send types to "Parts on Pallets" first.'})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex items-center justify-between mb-3",children:r.jsxs("button",{onClick:d,className:"text-sm text-blue-600 hover:text-blue-800",children:["Select all unassigned (",u.filter(y=>!y.PalletID).length,")"]})}),r.jsx("div",{className:"max-h-96 overflow-y-auto border rounded-md",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:"w-10 px-3 py-2"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Mark"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Shape"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Size"}),r.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Qty"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Pallet"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(y=>{const v=y.PalletID&&y.PalletID!==s;return r.jsxs("tr",{className:v?"bg-gray-50 text-gray-400":"hover:bg-blue-50 cursor-pointer",onClick:()=>!v&&h(y.SubOutItemID),children:[r.jsx("td",{className:"px-3 py-2",onClick:f=>f.stopPropagation(),children:r.jsx("input",{type:"checkbox",checked:o.includes(y.SubOutItemID),onChange:()=>h(y.SubOutItemID),disabled:v,className:"rounded border-gray-300"})}),r.jsx("td",{className:"px-3 py-2 text-sm",children:y.PieceMark||y.MainMark||"-"}),r.jsx("td",{className:"px-3 py-2 text-sm",children:y.Shape||"-"}),r.jsx("td",{className:"px-3 py-2 text-sm",children:y.Dimension||"-"}),r.jsx("td",{className:"px-3 py-2 text-sm text-center",children:y.Quantity||0}),r.jsx("td",{className:"px-3 py-2 text-sm",children:y.PalletID===s?r.jsx("span",{className:"text-green-600",children:"This pallet"}):y.PalletNumber?r.jsx("span",{className:"text-orange-600",children:y.PalletNumber}):"-"})]},y.SubOutItemID)})})]})}),r.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:r.jsxs("span",{className:"text-sm text-gray-600",children:["Selected: ",m.count," items (",fn(m.weight),")"]})})]}),r.jsxs(Pe.Footer,{children:[r.jsx(ce,{variant:"secondary",onClick:j,children:"Cancel"}),r.jsx(ce,{onClick:g,disabled:o.length===0,loading:i,children:"Assign to Pallet"})]})]})}function x1({pallets:e,items:t,loads:n,subOutId:s,onCreatePallet:l,onUpdatePallet:a,onDeletePallet:i,onUpdatePalletStatus:o,onAssignItems:c,onRemoveItem:u,onAssignPalletToLoad:h,isCreating:d,isUpdating:g}){const[j,m]=w.useState(!1),[y,v]=w.useState(null),[f,p]=w.useState(null),[x,b]=w.useState(new Set),R=M=>{b(Q=>{const J=new Set(Q);return J.has(M)?J.delete(M):J.add(M),J})},I=M=>{l({subOutId:s,data:M}),m(!1)},S=M=>{a({subOutId:s,palletId:y.PalletID,data:M}),v(null)},P=M=>{c({subOutId:s,palletId:f.PalletID,itemIds:M}),p(null)},_=M=>(t||[]).filter(Q=>Q.PalletID===M),O=(n||[]).filter(M=>M.Direction==="Outbound");return r.jsxs(ne,{children:[r.jsx(ne.Header,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"w-5 h-5 text-purple-600"}),r.jsxs("h2",{className:"font-semibold",children:["Pallets (",(e==null?void 0:e.length)||0,")"]})]}),r.jsxs(ce,{size:"sm",onClick:()=>m(!0),children:[r.jsx(nt,{className:"w-4 h-4 mr-1"}),"New Pallet"]})]})}),r.jsx(ne.Body,{children:!e||e.length===0?r.jsx("div",{className:"text-center py-6 text-gray-500",children:"No pallets yet. Create pallets to group parts for shipping."}):r.jsx("div",{className:"space-y-3",children:e.map(M=>{const Q=x.has(M.PalletID),J=_(M.PalletID),X=EN(M.Status),k=J.reduce((E,A)=>E+((A.TeklaWeight!=null?A.TeklaWeight:A.Weight)||0)*(A.Quantity||1),0),T={};J.forEach(E=>{const A=`${E.Shape||""}${E.Dimension?" "+E.Dimension:""}`;T[A]=(T[A]||0)+(E.Quantity||1)});const q=Object.entries(T).map(([E,A])=>`${A} ${E}`).join(", ");return r.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 cursor-pointer",onClick:()=>R(M.PalletID),children:[Q?r.jsx(us,{className:"w-4 h-4 text-gray-400"}):r.jsx(Vs,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"font-medium text-purple-700",children:M.PalletNumber}),r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${X.bg} ${X.text}`,children:M.Status}),r.jsxs("span",{className:"text-sm text-gray-500",children:[M.ItemCount||0," items",k>0&&`  ${rt(k)}`]}),q&&r.jsx("span",{className:"text-xs text-gray-400 truncate max-w-xs",title:q,children:q}),(M.Length||M.Width||M.Height)&&r.jsx("span",{className:"text-xs text-gray-400",children:DN(M.Length,M.Width,M.Height)}),M.LoadNumber&&r.jsxs("span",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-0.5 rounded",children:[r.jsx(rd,{className:"w-3 h-3 inline mr-1"}),M.LoadNumber]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("select",{value:M.Status,onChange:E=>o({subOutId:s,palletId:M.PalletID,status:E.target.value}),className:"text-xs border border-gray-200 rounded px-1.5 py-1 bg-white",onClick:E=>E.stopPropagation(),children:PN.map(E=>r.jsx("option",{value:E,children:E},E))}),O.length>0&&r.jsxs("select",{value:M.LoadID||"",onChange:E=>h({subOutId:s,palletId:M.PalletID,loadId:E.target.value?parseInt(E.target.value):null}),className:"text-xs border border-gray-200 rounded px-1.5 py-1 bg-white",onClick:E=>E.stopPropagation(),children:[r.jsx("option",{value:"",children:"No Load"}),O.map(E=>r.jsx("option",{value:E.LoadID,children:E.LoadNumber},E.LoadID))]}),r.jsx("button",{onClick:E=>{E.stopPropagation(),p(M)},className:"p-1 text-gray-400 hover:text-purple-600",title:"Add items",children:r.jsx(nt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:E=>{E.stopPropagation(),v(M)},className:"p-1 text-gray-400 hover:text-blue-600",title:"Edit",children:r.jsx(Et,{className:"w-4 h-4"})}),r.jsx("button",{onClick:E=>{E.stopPropagation(),i({subOutId:s,palletId:M.PalletID})},className:"p-1 text-gray-400 hover:text-red-600",title:"Delete",children:r.jsx(ut,{className:"w-4 h-4"})})]})]}),Q&&r.jsxs("div",{className:"border-t",children:[J.length===0?r.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No items assigned. Click + to add items."}):r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Mark"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Shape"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Size"}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500",children:"Qty"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500",children:"Weight"}),r.jsx("th",{className:"px-4 py-2 w-10"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:J.map(E=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-2 text-sm",children:E.PieceMark||E.MainMark||"-"}),r.jsx("td",{className:"px-4 py-2 text-sm",children:E.Shape||"-"}),r.jsx("td",{className:"px-4 py-2 text-sm",children:E.Dimension||"-"}),r.jsx("td",{className:"px-4 py-2 text-sm text-center",children:E.Quantity||0}),r.jsx("td",{className:"px-4 py-2 text-sm text-right",children:r.jsx("span",{className:E.TeklaWeight!=null?"text-blue-600":"",children:rt(E.TeklaWeight!=null?E.TeklaWeight:E.Weight)})}),r.jsx("td",{className:"px-4 py-2 text-right",children:r.jsx("button",{onClick:()=>u({subOutId:s,palletId:M.PalletID,itemId:E.SubOutItemID}),className:"p-1 text-gray-400 hover:text-red-600",title:"Remove from pallet",children:r.jsx(ut,{className:"w-3 h-3"})})})]},E.SubOutItemID))})]}),M.Notes&&r.jsx("div",{className:"px-4 py-2 text-sm text-gray-500 border-t bg-gray-50",children:M.Notes})]})]},M.PalletID)})})}),r.jsx(p1,{isOpen:j||!!y,onClose:()=>{m(!1),v(null)},onSubmit:y?S:I,initialData:y,isLoading:d||g}),f&&r.jsx(m1,{isOpen:!!f,onClose:()=>p(null),items:t,palletId:f.PalletID,palletNumber:f.PalletNumber,onAssign:P,isAssigning:g})]})}function g1({items:e,onDelete:t,onEdit:n,onUpdateSendType:s,onUpdatePullListSource:l,onBulkUpdatePullListStatus:a,pullStatuses:i,isDeleting:o}){const[c,u]=w.useState("LongShapes"),[h,d]=w.useState(new Set),[g,j]=w.useState(""),[m,y]=w.useState({}),[v,f]=w.useState(new Set),[p,x]=w.useState(new Set),[b,R]=w.useState({key:null,direction:"asc"}),[I,S]=w.useState(""),P=[{key:"LongShapes",label:"LongShapes"},{key:"Parts",label:"Parts"},{key:"PullList",label:"PullList/Raw"},{key:"Combined",label:"Combined"}],_=C=>{R($=>$.key===C?$.direction==="asc"?{key:C,direction:"desc"}:{key:null,direction:"asc"}:{key:C,direction:"asc"})},O=(C,$)=>{if(!b.key)return 0;let F=C[b.key],ee=$[b.key];F==null&&(F=""),ee==null&&(ee="");const ve=Number(F),Ae=Number(ee);if(!isNaN(ve)&&!isNaN(Ae)&&F!==""&&ee!=="")return b.direction==="asc"?ve-Ae:Ae-ve;const de=String(F).toLowerCase(),Te=String(ee).toLowerCase();return de<Te?b.direction==="asc"?-1:1:de>Te?b.direction==="asc"?1:-1:0},M=(C,$,F={})=>{const{center:ee=!1,px:ve="px-4"}=F,Ae=b.key===$;return r.jsx("th",{className:z(ve,"py-3 text-xs font-medium text-gray-500 uppercase cursor-pointer hover:text-gray-700 select-none group",ee?"text-center":"text-left"),onClick:()=>_($),children:r.jsxs("div",{className:z("flex items-center gap-1",ee&&"justify-center"),children:[C,r.jsx("span",{className:z("text-[10px]",Ae?"text-blue-500":"text-gray-300 opacity-0 group-hover:opacity-100"),children:Ae?b.direction==="asc"?"":"":""})]})})},Q=w.useMemo(()=>{let C=e||[];if(g&&(C=C.filter($=>$.SendType===g)),I){const $=I.toLowerCase();C=C.filter(F=>{const ee=[F.MainMark,F.PieceMark,F.Shape,F.Dimension,F.Grade,F.Barcode,F.RMNumber,F.PalletNumber,F.LoadNumber,F.Status,F.SendType];return F.Length!=null&&ee.push(String(F.Length)),F.Weight!=null&&ee.push(String(F.Weight)),ee.some(ve=>ve&&String(ve).toLowerCase().includes($))})}return C},[e,g,I]),J=(C,$)=>$==="PullList"?C.SourceTable==="PullList"||C.SourceTable==="TeklaInventory":$==="Combined"?C.SourceTable==="PullList"||C.SourceTable==="LongShapes":C.SourceTable===$,X=w.useMemo(()=>{const C=Q.filter($=>J($,c));return b.key?[...C].sort(O):C},[Q,c,b]),k=C=>{if(C==="Combined"){const $=Q.filter(ee=>ee.SourceTable==="PullList"),F=Q.filter(ee=>ee.SourceTable==="LongShapes");return $.length+F.length}return Q.filter($=>J($,C)).length},T=w.useMemo(()=>{if(!Q.length)return{hierarchy:[],orphanLongShapes:[]};const C=Q.filter(de=>de.SourceTable==="PullList"),$=Q.filter(de=>de.SourceTable==="LongShapes"),F={};$.forEach(de=>{de.Barcode&&(F[de.Barcode]||(F[de.Barcode]=[]),F[de.Barcode].push(de))});let ee=C.map(de=>({...de,children:de.Barcode?F[de.Barcode]||[]:[]}));const ve=new Set(C.map(de=>de.Barcode).filter(Boolean));let Ae=$.filter(de=>!de.Barcode||!ve.has(de.Barcode));return b.key&&(ee=[...ee].sort(O),Ae=[...Ae].sort(O),ee=ee.map(de=>({...de,children:de.children.length>1?[...de.children].sort(O):de.children}))),{hierarchy:ee,orphanLongShapes:Ae}},[Q,b]),q=C=>{d($=>{const F=new Set($);return F.has(C)?F.delete(C):F.add(C),F})},E=()=>{const C=T.hierarchy.filter($=>$.children.length>0).map($=>$.Barcode);d(new Set(C))},A=()=>{d(new Set)},B=C=>{const $=C.TeklaWeight!=null,F=$?C.TeklaWeight:C.Weight;return r.jsx("span",{className:$?"text-blue-600":"text-gray-600",title:$?"From Tekla inventory":"",children:fn(F)})},Z=C=>s?r.jsx("select",{value:C.SendType||"Raw",onChange:$=>s(C.SubOutItemID,$.target.value),className:"text-xs border border-gray-200 rounded px-1.5 py-0.5 bg-white hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500",children:Ja.map($=>r.jsx("option",{value:$,children:Nl($)},$))}):r.jsx(Wx,{sendType:C.SendType}),le=C=>{if(C.SourceTable!=="PullList")return null;if(!l||!(i!=null&&i.length)){const $=i==null?void 0:i.find(F=>F.ConfigValue===C.PullStatus);return r.jsx("span",{className:"text-xs text-gray-600",children:($==null?void 0:$.ConfigDesc)||(C.PullStatus??"-")})}return r.jsxs("select",{value:C.PullStatus??"",onChange:$=>l(C.SourceID,{pullStatus:$.target.value===""?null:parseInt($.target.value)}),className:"text-xs border border-gray-200 rounded px-1.5 py-0.5 bg-white hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"-"}),i.map($=>r.jsx("option",{value:$.ConfigValue,children:$.ConfigDesc},$.ConfigValue))]})},pe=C=>{if(C.SourceTable!=="PullList")return null;if(!l)return r.jsx("span",{className:"text-xs text-gray-600",children:C.RMNumber||"-"});const $=m[C.SourceID]!==void 0,F=m[C.SourceID];return $?r.jsx("input",{type:"text",value:F,onChange:ee=>y(ve=>({...ve,[C.SourceID]:ee.target.value})),onBlur:()=>{F!==(C.RMNumber||"")&&l(C.SourceID,{rmNumber:F||null}),y(ee=>{const ve={...ee};return delete ve[C.SourceID],ve})},onKeyDown:ee=>{ee.key==="Enter"&&ee.target.blur(),ee.key==="Escape"&&y(ve=>{const Ae={...ve};return delete Ae[C.SourceID],Ae})},autoFocus:!0,className:"text-xs border border-blue-300 rounded px-1.5 py-0.5 w-24 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500"}):r.jsx("span",{onClick:()=>y(ee=>({...ee,[C.SourceID]:C.RMNumber||""})),className:"text-xs text-gray-600 cursor-pointer hover:text-blue-600 hover:underline min-w-[2rem] inline-block",title:"Click to edit",children:C.RMNumber||"-"})},Se=C=>r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-3 py-3 text-xs text-gray-500",children:C.PalletNumber||(C.PalletID?`#${C.PalletID}`:"-")}),r.jsx("td",{className:"px-3 py-3 text-xs text-gray-500",children:C.LoadNumber||(C.LoadID?`#${C.LoadID}`:"-")})]}),$e=Q.filter(C=>C.SourceTable==="PullList"),Ye=$e.length>0&&$e.every(C=>v.has(C.SourceID)),St=C=>{f($=>{const F=new Set($);return F.has(C)?F.delete(C):F.add(C),F})},W=()=>{f(Ye?new Set:new Set($e.map(C=>C.SourceID)))},be=C=>{v.size===0||!a||(a(Array.from(v),C===""?null:parseInt(C)),f(new Set))},me=()=>v.size===0||!a?null:r.jsxs("div",{className:"flex items-center gap-3 mb-3 px-3 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("span",{className:"text-sm font-medium text-blue-800",children:[v.size," selected"]}),r.jsx("span",{className:"text-gray-300",children:"|"}),r.jsx("label",{className:"text-sm text-gray-600",children:"Set Pull Status:"}),r.jsxs("select",{onChange:C=>be(C.target.value),defaultValue:"",className:"text-sm border border-gray-300 rounded px-2 py-1 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500",children:[r.jsx("option",{value:"",disabled:!0,children:"Choose..."}),(i||[]).map(C=>r.jsx("option",{value:C.ConfigValue,children:C.ConfigDesc},C.ConfigValue))]}),r.jsx("button",{onClick:()=>f(new Set),className:"text-sm text-gray-500 hover:text-gray-700 ml-auto",children:"Clear selection"})]}),Me=X,Ke=Me.length>0&&Me.every(C=>p.has(C.SubOutItemID)),Mt=C=>{x($=>{const F=new Set($);return F.has(C)?F.delete(C):F.add(C),F})},qt=()=>{x(Ke?new Set:new Set(Me.map(C=>C.SubOutItemID)))},Ct=C=>{p.size===0||!s||(p.forEach($=>s($,C)),x(new Set))},L=()=>p.size===0||!s?null:r.jsxs("div",{className:"flex items-center gap-3 mb-3 px-3 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("span",{className:"text-sm font-medium text-blue-800",children:[p.size," selected"]}),r.jsx("span",{className:"text-gray-300",children:"|"}),r.jsx("label",{className:"text-sm text-gray-600",children:"Set Send Type:"}),r.jsxs("select",{onChange:C=>Ct(C.target.value),defaultValue:"",className:"text-sm border border-gray-300 rounded px-2 py-1 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500",children:[r.jsx("option",{value:"",disabled:!0,children:"Choose..."}),Ja.map(C=>r.jsx("option",{value:C,children:Nl(C)},C))]}),r.jsx("button",{onClick:()=>x(new Set),className:"text-sm text-gray-500 hover:text-gray-700 ml-auto",children:"Clear selection"})]}),K=()=>r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"w-10 px-2 py-3",children:r.jsx("input",{type:"checkbox",checked:c==="PullList"?Ye:Ke,onChange:c==="PullList"?W:qt,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),M("Type","SendType",{px:"px-3"}),c==="PullList"&&r.jsxs(r.Fragment,{children:[M("Pull Status","PullStatus",{px:"px-3"}),M("RM#","RMNumber",{px:"px-3"})]}),c!=="PullList"&&r.jsxs(r.Fragment,{children:[M("Main Mark","MainMark"),M("Piece Mark","PieceMark")]}),M("Shape","Shape"),M("Size","Dimension"),M("Grade","Grade"),M("Length","Length"),M("Weight","Weight"),M("Qty","Quantity",{center:!0}),M("Pallet","PalletNumber",{px:"px-3"}),M("Load","LoadNumber",{px:"px-3"}),M("Status","Status"),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:X.map(C=>{const $=!!(C.PalletID||C.LoadID),F=$?"line-through text-gray-400":"";return r.jsxs("tr",{className:z("hover:bg-gray-50",$&&"bg-gray-50/50",c==="PullList"?v.has(C.SourceID)&&"bg-blue-50":p.has(C.SubOutItemID)&&"bg-blue-50"),children:[r.jsx("td",{className:"w-10 px-2 py-3",children:r.jsx("input",{type:"checkbox",checked:c==="PullList"?v.has(C.SourceID):p.has(C.SubOutItemID),onChange:()=>c==="PullList"?St(C.SourceID):Mt(C.SubOutItemID),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),r.jsx("td",{className:"px-3 py-3",children:Z(C)}),c==="PullList"&&r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-3 py-3",children:le(C)}),r.jsx("td",{className:"px-3 py-3",children:pe(C)})]}),c!=="PullList"&&r.jsxs(r.Fragment,{children:[r.jsx("td",{className:z("px-4 py-3 text-sm",F||"text-gray-900"),children:C.MainMark||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",F||"text-gray-900"),children:C.PieceMark||"-"})]}),r.jsx("td",{className:z("px-4 py-3 text-sm",F||"text-gray-900"),children:C.Shape||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",F||"text-gray-900"),children:C.Dimension||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",F||"text-gray-900"),children:C.Grade||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",F||"text-gray-900"),children:C.Length||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",$&&"line-through"),children:B(C)}),r.jsxs("td",{className:z("px-4 py-3 text-sm text-center",$&&"line-through text-gray-400"),children:[r.jsx("span",{className:"font-medium",children:C.Quantity||0}),r.jsxs("span",{className:"text-gray-400",children:["/",C.QuantitySent||0,"/",C.QuantityReceived||0]})]}),Se(C),r.jsx("td",{className:"px-4 py-3",children:r.jsx(Xn,{status:C.Status})}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[c!=="PullList"&&r.jsx("button",{onClick:()=>n(C),className:"p-1 text-gray-400 hover:text-blue-600",title:"Edit",children:r.jsx(Et,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>t(C.SubOutItemID),disabled:o,className:"p-1 text-gray-400 hover:text-red-600 disabled:opacity-50",title:"Remove",children:r.jsx(ut,{className:"w-4 h-4"})})]})})]},C.SubOutItemID)})})]})}),Qe=()=>{const{hierarchy:C,orphanLongShapes:$}=T;return C.length===0&&$.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No PullList or LongShapes items to combine"}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx("button",{onClick:E,className:"text-sm text-blue-600 hover:text-blue-800",children:"Expand All"}),r.jsx("span",{className:"text-gray-300",children:"|"}),r.jsx("button",{onClick:A,className:"text-sm text-blue-600 hover:text-blue-800",children:"Collapse All"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"w-10 px-2 py-3"}),M("Type","SendType",{px:"px-3"}),M("Pull Status","PullStatus",{px:"px-3"}),M("RM#","RMNumber",{px:"px-3"}),M("Barcode","Barcode"),M("Main Mark","MainMark"),M("Piece Mark","PieceMark"),M("Shape","Shape"),M("Size","Dimension"),M("Grade","Grade"),M("Length","Length"),M("Weight","Weight"),M("Qty","Quantity",{center:!0}),M("Pallet","PalletNumber",{px:"px-3"}),M("Load","LoadNumber",{px:"px-3"}),M("Status","Status"),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[C.map(F=>{const ee=h.has(F.Barcode),ve=F.children.length>0,Ae=!!(F.PalletID||F.LoadID),de=Ae?"line-through text-gray-400":"";return r.jsxs(w.Fragment,{children:[r.jsxs("tr",{className:z("hover:bg-blue-100",Ae?"bg-gray-50/50":"bg-blue-50"),children:[r.jsx("td",{className:"px-2 py-3",children:ve&&r.jsx("button",{onClick:()=>q(F.Barcode),className:"p-1 text-gray-500 hover:text-gray-700",children:ee?r.jsx(us,{className:"w-4 h-4"}):r.jsx(Vs,{className:"w-4 h-4"})})}),r.jsx("td",{className:"px-3 py-3",children:Z(F)}),r.jsx("td",{className:"px-3 py-3",children:le(F)}),r.jsx("td",{className:"px-3 py-3",children:pe(F)}),r.jsxs("td",{className:z("px-4 py-3 text-sm font-medium",Ae?"line-through text-gray-400":"text-blue-800"),children:[F.Barcode||"-",ve&&r.jsxs("span",{className:z("ml-2 text-xs",Ae?"text-gray-400":"text-blue-600"),children:["(",F.children.length," shapes)"]})]}),r.jsx("td",{className:z("px-4 py-3 text-sm",de||"text-gray-500"),children:"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",de||"text-gray-500"),children:"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm font-medium",de||"text-gray-900"),children:F.Shape||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",de||"text-gray-900"),children:F.Dimension||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",de||"text-gray-900"),children:F.Grade||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",de||"text-gray-900"),children:F.Length||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",Ae&&"line-through"),children:B(F)}),r.jsxs("td",{className:z("px-4 py-3 text-sm text-center",Ae&&"line-through text-gray-400"),children:[r.jsx("span",{className:"font-medium",children:F.Quantity||0}),r.jsxs("span",{className:"text-gray-400",children:["/",F.QuantitySent||0,"/",F.QuantityReceived||0]})]}),Se(F),r.jsx("td",{className:"px-4 py-3",children:r.jsx(Xn,{status:F.Status})}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsx("div",{className:"flex justify-end gap-2",children:r.jsx("button",{onClick:()=>t(F.SubOutItemID),disabled:o,className:"p-1 text-gray-400 hover:text-red-600 disabled:opacity-50",title:"Remove",children:r.jsx(ut,{className:"w-4 h-4"})})})})]}),ee&&F.children.map(Te=>{const Hr=!!(Te.PalletID||Te.LoadID),Ys=Hr?"line-through text-gray-400":"";return r.jsxs("tr",{className:z("hover:bg-gray-100",Hr?"bg-gray-100/50":"bg-gray-50"),children:[r.jsx("td",{className:"px-2 py-3"}),r.jsx("td",{className:"px-3 py-3",children:Z(Te)}),r.jsx("td",{className:"px-3 py-3"}),r.jsx("td",{className:"px-3 py-3"}),r.jsxs("td",{className:z("px-4 py-3 text-sm pl-8",Hr?"line-through text-gray-400":"text-gray-400"),children:[r.jsx("span",{className:"text-gray-300",children:""})," ",Te.Barcode||"-"]}),r.jsx("td",{className:z("px-4 py-3 text-sm",Ys||"text-gray-900"),children:Te.MainMark||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",Ys||"text-gray-900"),children:Te.PieceMark||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",Ys||"text-gray-900"),children:Te.Shape||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",Ys||"text-gray-900"),children:Te.Dimension||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",Ys||"text-gray-900"),children:Te.Grade||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",Ys||"text-gray-900"),children:Te.Length||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",Hr&&"line-through"),children:B(Te)}),r.jsxs("td",{className:z("px-4 py-3 text-sm text-center",Hr&&"line-through text-gray-400"),children:[r.jsx("span",{className:"font-medium",children:Te.Quantity||0}),r.jsxs("span",{className:"text-gray-400",children:["/",Te.QuantitySent||0,"/",Te.QuantityReceived||0]})]}),Se(Te),r.jsx("td",{className:"px-4 py-3",children:r.jsx(Xn,{status:Te.Status})}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>n(Te),className:"p-1 text-gray-400 hover:text-blue-600",title:"Edit",children:r.jsx(Et,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>t(Te.SubOutItemID),disabled:o,className:"p-1 text-gray-400 hover:text-red-600 disabled:opacity-50",title:"Remove",children:r.jsx(ut,{className:"w-4 h-4"})})]})})]},Te.SubOutItemID)})]},F.SubOutItemID)}),$.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("tr",{className:"bg-yellow-50",children:r.jsxs("td",{colSpan:"17",className:"px-4 py-2 text-sm font-medium text-yellow-800",children:["Unmatched LongShapes (",$.length,")"]})}),$.map(F=>{const ee=!!(F.PalletID||F.LoadID),ve=ee?"line-through text-gray-400":"";return r.jsxs("tr",{className:z("hover:bg-gray-50",ee&&"bg-gray-50/50"),children:[r.jsx("td",{className:"px-2 py-3"}),r.jsx("td",{className:"px-3 py-3",children:Z(F)}),r.jsx("td",{className:"px-3 py-3"}),r.jsx("td",{className:"px-3 py-3"}),r.jsx("td",{className:z("px-4 py-3 text-sm",ve||"text-gray-400"),children:F.Barcode||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",ve||"text-gray-900"),children:F.MainMark||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",ve||"text-gray-900"),children:F.PieceMark||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",ve||"text-gray-900"),children:F.Shape||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",ve||"text-gray-900"),children:F.Dimension||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",ve||"text-gray-900"),children:F.Grade||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",ve||"text-gray-900"),children:F.Length||"-"}),r.jsx("td",{className:z("px-4 py-3 text-sm",ee&&"line-through"),children:B(F)}),r.jsxs("td",{className:z("px-4 py-3 text-sm text-center",ee&&"line-through text-gray-400"),children:[r.jsx("span",{className:"font-medium",children:F.Quantity||0}),r.jsxs("span",{className:"text-gray-400",children:["/",F.QuantitySent||0,"/",F.QuantityReceived||0]})]}),Se(F),r.jsx("td",{className:"px-4 py-3",children:r.jsx(Xn,{status:F.Status})}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>n(F),className:"p-1 text-gray-400 hover:text-blue-600",title:"Edit",children:r.jsx(Et,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>t(F.SubOutItemID),disabled:o,className:"p-1 text-gray-400 hover:text-red-600 disabled:opacity-50",title:"Remove",children:r.jsx(ut,{className:"w-4 h-4"})})]})})]},F.SubOutItemID)})]})]})]})})]})},kt=C=>{u(C),f(new Set),x(new Set),R({key:null,direction:"asc"})};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"border-b border-gray-200 flex-1",children:r.jsx("nav",{className:"flex gap-4",children:P.map(C=>r.jsxs("button",{onClick:()=>kt(C.key),className:z("px-4 py-2 text-sm font-medium border-b-2 -mb-px transition-colors",c===C.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[C.label," (",k(C.key),")"]},C.key))})}),r.jsxs("div",{className:"ml-4 flex-shrink-0 flex items-center gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:I,onChange:C=>S(C.target.value),placeholder:"Search items...",className:"text-sm border border-gray-300 rounded-md pl-2 pr-7 py-1.5 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 w-44"}),I&&r.jsx("button",{onClick:()=>S(""),className:"absolute right-1.5 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r.jsx("span",{className:"text-xs font-bold",children:""})})]}),r.jsxs("select",{value:g,onChange:C=>j(C.target.value),className:"text-sm border border-gray-300 rounded-md px-2 py-1.5 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Send Types"}),Ja.map(C=>r.jsx("option",{value:C,children:Nl(C)},C))]})]})]}),c==="PullList"&&me(),(c==="LongShapes"||c==="Parts")&&L(),c==="Combined"?Qe():X.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:["No ",c," items ",I?"match your search":"added yet"]}):K(),e&&e.length>0&&r.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:["Total: ",Q.length,g||I?` (filtered from ${e.length})`:""," items |",(()=>{const $=(c==="Combined"?Q.filter(F=>F.SourceTable==="PullList"||F.SourceTable==="LongShapes"):Q.filter(F=>F.SourceTable===c)).reduce((F,ee)=>F+((ee.TeklaWeight!=null?ee.TeklaWeight:ee.Weight)||0)*(ee.Quantity||1),0);return $>0?r.jsxs(r.Fragment,{children:[" ","Weight: ",r.jsx("span",{className:"font-medium",children:fn($)})," |"]}):null})()," ","Qty columns: Total / Sent / Received",b.key&&r.jsxs(r.Fragment,{children:[" | ","Sorted by: ",r.jsx("span",{className:"font-medium",children:b.key})," ",b.direction==="asc"?"":"",r.jsx("button",{onClick:()=>R({key:null,direction:"asc"}),className:"ml-1 text-blue-500 hover:text-blue-700",children:"clear"})]})]})]})}const y1={longShapes:"CutToLength",parts:"PartsOnPallets",pullList:"Raw"};function v1({isOpen:e,onClose:t,jobCode:n,onAdd:s,isAdding:l}){const[a,i]=w.useState(""),{data:o,isLoading:c}=BN(n),{data:u,isLoading:h}=$N(n,a),[d,g]=w.useState("longShapes"),[j,m]=w.useState(""),[y,v]=w.useState([]),[f,p]=w.useState("CutToLength"),b=((o==null?void 0:o.data)||[]).map(k=>({value:k,label:k})),R=[{key:"longShapes",label:"LongShapes"},{key:"parts",label:"Parts"},{key:"pullList",label:"PullList/Raw"}],I={longShapes:"LongShapes",parts:"Parts",pullList:"PullList"},S=w.useMemo(()=>{if(!(u!=null&&u.data))return[];const k=u.data[d]||[];if(!j)return k;const T=j.toLowerCase();return k.filter(q=>(q.MainMark||"").toLowerCase().includes(T)||(q.PieceMark||"").toLowerCase().includes(T)||(q.Shape||"").toLowerCase().includes(T))},[u,d,j]),P=S.filter(k=>!k.AssignedToSubOutID),_=k=>{v(T=>{const q=`${I[d]}-${k.ID}`;return T.find(A=>`${A.sourceTable}-${A.sourceId}`===q)?T.filter(A=>`${A.sourceTable}-${A.sourceId}`!==q):[...T,{sourceTable:I[d],sourceId:k.ID,mainMark:k.MainMark,pieceMark:k.PieceMark,shape:k.Shape,dimension:k.Dimension,grade:k.Grade,length:k.Length,quantity:k.Quantity,weight:k.Weight,heatNumber:k.HeatNumber,certNumber:k.CertNumber,barcode:k.Barcode,sendType:f}]})},O=k=>{const T=`${I[d]}-${k.ID}`;return y.some(q=>`${q.sourceTable}-${q.sourceId}`===T)},M=()=>{const k=P.map(T=>({sourceTable:I[d],sourceId:T.ID,mainMark:T.MainMark,pieceMark:T.PieceMark,shape:T.Shape,dimension:T.Dimension,grade:T.Grade,length:T.Length,quantity:T.Quantity,weight:T.Weight,heatNumber:T.HeatNumber,certNumber:T.CertNumber,barcode:T.Barcode,sendType:f}));v(T=>{const q=new Set(T.map(A=>`${A.sourceTable}-${A.sourceId}`)),E=k.filter(A=>!q.has(`${A.sourceTable}-${A.sourceId}`));return[...T,...E]})},Q=()=>{s(y),v([])},J=()=>{v([]),m(""),i(""),t()},X=w.useMemo(()=>{const k=y.reduce((q,E)=>q+(E.quantity||0),0),T=y.reduce((q,E)=>q+(parseFloat(E.weight)||0),0);return{count:y.length,qty:k,weight:T}},[y]);return r.jsxs(Pe,{isOpen:e,onClose:J,title:"Add Items",size:"xl",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Package"}),r.jsx(Zt,{value:a,onChange:k=>{i(k.target.value),v([])},options:b,placeholder:c?"Loading packages...":"Select a package...",disabled:c})]}),a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-b border-gray-200 mb-4",children:r.jsx("nav",{className:"flex gap-4",children:R.map(k=>{var T,q;return r.jsxs("button",{onClick:()=>{g(k.key),p(y1[k.key])},className:z("px-4 py-2 text-sm font-medium border-b-2 -mb-px transition-colors",d===k.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[k.label," (",((q=(T=u==null?void 0:u.data)==null?void 0:T[k.key])==null?void 0:q.length)||0,")"]},k.key)})})}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(sd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search marks, shapes...",value:j,onChange:k=>m(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("button",{onClick:M,className:"text-sm text-blue-600 hover:text-blue-800",children:["Select all available (",P.length,")"]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[S.length-P.length," already assigned"]})]}),h?r.jsx(ys,{className:"py-8"}):r.jsx("div",{className:"max-h-96 overflow-y-auto border rounded-md",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:"w-10 px-3 py-2"}),d!=="pullList"&&r.jsxs(r.Fragment,{children:[r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Main Mark"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Piece Mark"})]}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Shape"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Size"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Weight"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Qty"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(k=>{const T=k.AssignedToSubOutID;return r.jsxs("tr",{className:z("cursor-pointer",T?"bg-gray-50 text-gray-400":"hover:bg-blue-50",O(k)&&"bg-blue-100"),onClick:()=>!T&&_(k),children:[r.jsx("td",{className:"px-3 py-2",children:r.jsx("input",{type:"checkbox",checked:O(k),onChange:()=>_(k),disabled:T,className:"rounded border-gray-300"})}),d!=="pullList"&&r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-3 py-2 text-sm",children:k.MainMark||"-"}),r.jsx("td",{className:"px-3 py-2 text-sm",children:k.PieceMark||"-"})]}),r.jsx("td",{className:"px-3 py-2 text-sm",children:k.Shape||"-"}),r.jsx("td",{className:"px-3 py-2 text-sm",children:k.Dimension||"-"}),r.jsx("td",{className:z("px-3 py-2 text-sm",k.TeklaWeight!=null?"text-blue-600":"text-gray-600"),title:k.TeklaWeight!=null?"From Tekla inventory":"",children:fn(k.TeklaWeight!=null?k.TeklaWeight:k.Weight)}),r.jsx("td",{className:"px-3 py-2 text-sm",children:k.Quantity||"-"}),r.jsx("td",{className:"px-3 py-2 text-sm",children:T?r.jsx("span",{className:"text-orange-600",children:k.AssignedToLot}):"-"})]},k.ID)})})]})}),r.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-md flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Selected: ",X.count," items (",X.qty," pieces, ",fn(X.weight),")"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Send Type:"}),r.jsx("select",{value:f,onChange:k=>p(k.target.value),className:"text-sm border border-gray-300 rounded-md px-2 py-1 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500",children:Ja.map(k=>r.jsx("option",{value:k,children:Nl(k)},k))})]})]})]}):r.jsx("div",{className:"text-center py-12 text-gray-500",children:"Please select a package to view available items"}),r.jsxs(Pe.Footer,{children:[r.jsx(ce,{variant:"secondary",onClick:J,children:"Cancel"}),r.jsx(ce,{onClick:Q,disabled:y.length===0,loading:l,children:"Add Selected Items"})]})]})}function b1(e,t=!0){return pt({queryKey:["tekla","matching",e],queryFn:()=>mN.getMatchingInventory(e),enabled:t&&Array.isArray(e)&&e.length>0,staleTime:30*60*1e3})}function j1(e){if(e==null)return null;const t=String(e).trim(),n=parseFloat(t);if(!isNaN(n)&&!t.includes("'"))return n;const s=t.match(/(\d+)'\s*(\d+(?:\.\d+)?)?/);if(s){const l=parseInt(s[1])||0,a=parseFloat(s[2])||0;return l*12+a}return n||null}function Mo(e){if(!e)return"-";const t=Math.floor(e/12),n=Math.round(e%12);return n>0?`${t}' ${n}"`:`${t}' 0"`}function N1({isOpen:e,onClose:t,items:n,subOutId:s,onAddItems:l,isAdding:a}){const[i,o]=w.useState({}),[c,u]=w.useState(new Set),h=w.useMemo(()=>{if(!n||n.length===0)return[];const S={};for(const P of n){if(!P.Shape||!P.Length)continue;const _=`${(P.Shape||"").trim()}|${(P.Grade||"").trim()}`;S[_]||(S[_]={shape:(P.Shape||"").trim(),grade:(P.Grade||"").trim(),pieces:[]});const O=j1(P.Length);O&&S[_].pieces.push({lengthInches:O,lengthDisplay:Mo(O),quantity:P.Quantity||1,mark:P.PieceMark||P.MainMark||"-",dimension:P.Dimension||""})}return Object.values(S).filter(P=>P.pieces.length>0)},[n]),d=w.useMemo(()=>h.map(S=>({shape:S.shape,grade:S.grade})),[h]),{data:g,isLoading:j}=b1(d,e&&d.length>0),m=(g==null?void 0:g.data)||[],y=w.useMemo(()=>h.map(S=>{const P=S.shape.toLowerCase(),_=S.grade.toLowerCase(),O=m.find(X=>X.shape.toLowerCase()===P&&X.grade.toLowerCase()===_)||m.find(X=>`${X.shape} ${X.dimension}`.toLowerCase().trim()===P&&X.grade.toLowerCase()===_),M=S.pieces.reduce((X,k)=>X+k.quantity,0),Q=S.pieces.reduce((X,k)=>X+k.lengthInches*k.quantity,0),J=((O==null?void 0:O.sticks)||[]).map(X=>{const k=[];let T=X.lengthInches;const q=[...S.pieces].sort((A,B)=>B.lengthInches-A.lengthInches);for(const A of q){const B=Math.floor(T/A.lengthInches);B>0&&(k.push({mark:A.mark,lengthDisplay:A.lengthDisplay,lengthInches:A.lengthInches,fits:B,maxNeeded:A.quantity}),T-=B*A.lengthInches)}const E=k.reduce((A,B)=>A+B.fits,0);return{...X,yields:k,totalFits:E,waste:T,wasteDisplay:Mo(T),wastePct:Math.round(T/X.lengthInches*100)}});return{...S,totalPieces:M,totalLength:Q,totalLengthDisplay:Mo(Q),sticks:J,hasInventory:J.length>0}}),[h,m]),v=S=>{u(P=>{const _=new Set(P);return _.has(S)?_.delete(S):_.add(S),_})},f=(S,P)=>`${S}-${P}`,p=(S,P)=>{const _=f(S,P);o(O=>{const M={...O};return M[_]?delete M[_]:M[_]=1,M})},x=(S,P,_)=>{const O=f(S,P);o(M=>{if(_<=0){const Q={...M};return delete Q[O],Q}return{...M,[O]:_}})},b=w.useMemo(()=>{var Q,J,X;let S=0,P=0;const _=[],O=Date.now()%2e9;let M=0;for(const[k,T]of Object.entries(i)){const[q,E]=k.split("-").map(Number),A=y[q],B=(Q=A==null?void 0:A.sticks)==null?void 0:Q[E];if(!(!A||!B)){S+=T,P+=(B.weightLbs||0)*T;for(let Z=0;Z<T;Z++)_.push({sourceTable:"TeklaInventory",sourceId:O+ ++M,shape:A.shape,dimension:B.dimension||((X=(J=A.pieces)==null?void 0:J[0])==null?void 0:X.dimension)||"",grade:A.grade,length:B.lengthDisplay,quantity:1,weight:B.weightLbs||0,sendType:"Raw"})}}return{totalSticks:S,totalWeight:P,itemsToAdd:_}},[i,y]),R=()=>{b.itemsToAdd.length!==0&&l(b.itemsToAdd)},I=()=>{o({}),u(new Set),t()};return e?r.jsxs(Pe,{isOpen:e,onClose:I,title:"Match Raw Material from Inventory",size:"xl",children:[h.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No parts with shape and length data found on this SubOut."}):j?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"Searching Tekla inventory for matching material..."}):r.jsx("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:y.map((S,P)=>{var M;const _=c.has(P),O=Object.keys(i).some(Q=>Q.startsWith(`${P}-`));return r.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[r.jsxs("div",{className:z("flex items-center justify-between px-4 py-3 cursor-pointer",S.hasInventory?"bg-blue-50 hover:bg-blue-100":"bg-gray-50"),onClick:()=>v(P),children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[S.shape," ",((M=S.pieces[0])==null?void 0:M.dimension)||""]}),S.grade&&r.jsx("span",{className:"text-xs bg-gray-200 text-gray-700 px-1.5 py-0.5 rounded",children:S.grade}),r.jsxs("span",{className:"text-xs text-gray-500",children:[S.totalPieces," pcs needed  ",S.totalLengthDisplay," total"]}),O&&r.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-1.5 py-0.5 rounded font-medium",children:"Selected"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[S.hasInventory?r.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:[S.sticks.length," stock length",S.sticks.length!==1?"s":""," available"]}):r.jsx("span",{className:"text-xs text-red-500 font-medium",children:"No matching inventory"}),r.jsx("span",{className:"text-gray-400",children:_?"":""})]})]}),_&&r.jsxs("div",{className:"border-t",children:[r.jsxs("div",{className:"px-4 py-2 bg-gray-50 border-b",children:[r.jsx("div",{className:"text-xs font-medium text-gray-600 mb-1",children:"Pieces needed:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:S.pieces.map((Q,J)=>r.jsxs("span",{className:"text-xs bg-white border rounded px-2 py-0.5",children:[Q.quantity," ",Q.mark," @ ",Q.lengthDisplay]},J))})]}),S.sticks.length>0?r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"w-10 px-3 py-2"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Stock Length"}),r.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500",children:"Weight"}),r.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500",children:"In Stock"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Yield"}),r.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500",children:"Waste"}),r.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500",children:"Qty to Add"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:S.sticks.map((Q,J)=>{const X=f(P,J),k=!!i[X],T=i[X]||0;return r.jsxs("tr",{className:z("cursor-pointer",k?"bg-blue-50":"hover:bg-gray-50"),onClick:()=>p(P,J),children:[r.jsx("td",{className:"px-3 py-2",onClick:q=>q.stopPropagation(),children:r.jsx("input",{type:"checkbox",checked:k,onChange:()=>p(P,J),className:"rounded border-gray-300 text-blue-600"})}),r.jsx("td",{className:"px-3 py-2 text-sm font-medium",children:Q.lengthDisplay}),r.jsx("td",{className:"px-3 py-2 text-sm text-right text-gray-600",children:Q.weightLbs>0?rt(Q.weightLbs):"-"}),r.jsx("td",{className:"px-3 py-2 text-sm text-center font-medium",children:Q.count}),r.jsx("td",{className:"px-3 py-2",children:Q.yields.length>0?r.jsx("div",{className:"flex flex-wrap gap-1",children:Q.yields.map((q,E)=>r.jsxs("span",{className:"text-xs bg-green-50 text-green-700 border border-green-200 rounded px-1.5 py-0.5",children:[q.fits," ",q.lengthDisplay]},E))}):r.jsx("span",{className:"text-xs text-gray-400",children:"No pieces fit"})}),r.jsx("td",{className:"px-3 py-2 text-sm text-right",children:r.jsxs("span",{className:z(Q.wastePct>30?"text-orange-600":Q.wastePct>15?"text-yellow-600":"text-green-600"),children:[Q.wasteDisplay," (",Q.wastePct,"%)"]})}),r.jsx("td",{className:"px-3 py-2 text-center",onClick:q=>q.stopPropagation(),children:k&&r.jsxs("div",{className:"flex items-center justify-center gap-1",children:[r.jsx("button",{onClick:()=>x(P,J,T-1),className:"w-6 h-6 rounded border text-gray-600 hover:bg-gray-100 text-sm",children:"-"}),r.jsx("span",{className:"w-8 text-center text-sm font-medium",children:T}),r.jsx("button",{onClick:()=>x(P,J,Math.min(T+1,Q.count)),className:"w-6 h-6 rounded border text-gray-600 hover:bg-gray-100 text-sm",children:"+"})]})})]},J)})})]}):r.jsxs("div",{className:"px-4 py-4 text-sm text-gray-500 text-center",children:["No matching inventory found for ",S.shape," ",S.grade]})]})]},P)})}),b.totalSticks>0&&r.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md text-sm",children:[r.jsxs("span",{className:"font-medium text-blue-800",children:[b.totalSticks," stick",b.totalSticks!==1?"s":""," selected"]}),b.totalWeight>0&&r.jsxs("span",{className:"text-blue-600 ml-2",children:[" ",rt(b.totalWeight)]})]}),r.jsxs(Pe.Footer,{children:[r.jsx(ce,{variant:"secondary",onClick:I,children:"Cancel"}),r.jsxs(ce,{onClick:R,disabled:b.totalSticks===0,loading:a,children:["Add ",b.totalSticks>0?`${b.totalSticks} Stick${b.totalSticks!==1?"s":""}`:"Selected"," as Raw Material"]})]})]}):null}function w1(){var Ct;const{id:e}=nd(),t=Gs(),[n,s]=w.useState(!1),[l,a]=w.useState(!1),[i,o]=w.useState(!1),[c,u]=w.useState(!1),{data:h,isLoading:d,error:g}=$x(e),{data:j}=VN(e),{data:m}=e1(e),y=vN(),v=Qx(),f=zN(),p=_N(),x=UN(),{data:b}=WN(),R=(b==null?void 0:b.data)||[],I=QN(),S=qN(),P=KN(),_=HN(),O=JN(),M=GN(),Q=XN(),J=YN(),X=ZN(),k=t1(),T=n1(),q=s1(),E=r1(),A=l1(),B=i1(),Z=a1(),le=o1(),pe=h==null?void 0:h.data,Se=(j==null?void 0:j.data)||[],$e=(m==null?void 0:m.data)||[],Ye=async()=>{try{await y.mutateAsync(e),t("/")}catch(L){alert("Failed to delete: "+L.message)}},St=async()=>{try{await v.mutateAsync({id:e,status:"Received"}),u(!1)}catch(L){alert("Failed to reopen: "+L.message)}},W=L=>{confirm("Remove this item from the sub out?")&&f.mutate({subOutId:e,itemId:L})},be=L=>{console.log("Edit item:",L)},me=async L=>{try{await p.mutateAsync({subOutId:e,items:L}),s(!1)}catch(K){alert("Failed to add items: "+K.message)}},Me=async L=>{try{await p.mutateAsync({subOutId:e,items:L}),a(!1)}catch(K){alert("Failed to add raw material: "+K.message)}},Ke=(L,K)=>{x.mutate({subOutId:e,itemId:L,data:{sendType:K}})},Mt=(L,K)=>{I.mutate({pullListId:L,data:K})},qt=(L,K)=>{S.mutate({pullListIds:L,pullStatus:K})};return d?r.jsx(ys,{className:"py-20",size:"lg",message:"Fetching inventory from Tekla..."}):g?r.jsxs("div",{className:"text-center py-20",children:[r.jsxs("p",{className:"text-red-600",children:["Error: ",g.message]}),r.jsx(Je,{to:"/",className:"text-blue-600 hover:underline",children:"Back to Dashboard"})]}):pe?r.jsxs("div",{children:[r.jsxs(Je,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx(Wi,{className:"w-4 h-4 mr-1"}),"Back to Dashboard"]}),r.jsxs(c1,{subOut:pe,onDelete:()=>o(!0),onReopen:()=>u(!0),children:[r.jsx(f1,{loads:$e,items:pe.items,pallets:Se,subOutId:e,dateToLeaveMFC:pe.DateToLeaveMFC,dateToShipFromSub:pe.DateToShipFromSub,onCreateLoad:k.mutate,onUpdateLoad:T.mutate,onDeleteLoad:q.mutate,onUpdateLoadStatus:E.mutate,onAssignItemsToLoad:A.mutate,onAssignPalletsToLoad:B.mutate,onRemoveItemFromLoad:Z.mutate,onRemovePalletFromLoad:le.mutate,isCreating:k.isPending,isUpdating:T.isPending||E.isPending||A.isPending||B.isPending}),r.jsx(x1,{pallets:Se,items:pe.items,loads:$e,subOutId:e,onCreatePallet:P.mutate,onUpdatePallet:_.mutate,onDeletePallet:O.mutate,onUpdatePalletStatus:M.mutate,onAssignItems:Q.mutate,onRemoveItem:J.mutate,onAssignPalletToLoad:X.mutate,isCreating:P.isPending,isUpdating:_.isPending||M.isPending||Q.isPending||J.isPending||X.isPending}),r.jsxs(ne,{children:[r.jsxs(ne.Header,{className:"flex items-center justify-between",children:[r.jsxs("h2",{className:"font-semibold",children:["Items (",((Ct=pe.items)==null?void 0:Ct.length)||0," total)"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>a(!0),children:[r.jsx(gb,{className:"w-4 h-4 mr-1"}),"Add Raw Material"]}),r.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>s(!0),children:[r.jsx(nt,{className:"w-4 h-4 mr-1"}),"Add Items"]})]})]}),r.jsx(ne.Body,{children:r.jsx(g1,{items:pe.items,onDelete:W,onEdit:be,onUpdateSendType:Ke,onUpdatePullListSource:Mt,onBulkUpdatePullListStatus:qt,pullStatuses:R,isDeleting:f.isPending})})]})]}),r.jsx(v1,{isOpen:n,onClose:()=>s(!1),jobCode:pe.JobCode,onAdd:me,isAdding:p.isPending}),r.jsx(N1,{isOpen:l,onClose:()=>a(!1),items:pe.items,subOutId:e,onAddItems:Me,isAdding:p.isPending}),r.jsxs(Pe,{isOpen:i,onClose:()=>o(!1),title:"Delete SubOut",size:"sm",children:[r.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to delete ",r.jsx("strong",{children:pe.Lot}),"? This will also remove all associated items, pallets, and loads."]}),r.jsxs(Pe.Footer,{children:[r.jsx(ce,{variant:"secondary",onClick:()=>o(!1),children:"Cancel"}),r.jsx(ce,{variant:"danger",onClick:Ye,loading:y.isPending,children:"Delete"})]})]}),r.jsxs(Pe,{isOpen:c,onClose:()=>u(!1),title:"Reopen SubOut",size:"sm",children:[r.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to reopen ",r.jsx("strong",{children:pe.Lot}),'? Its status will be set to "Received" and it will appear in active views.']}),r.jsxs(Pe.Footer,{children:[r.jsx(ce,{variant:"secondary",onClick:()=>u(!1),children:"Cancel"}),r.jsx(ce,{onClick:St,loading:v.isPending,children:"Reopen"})]})]})]}):r.jsxs("div",{className:"text-center py-20",children:[r.jsx("p",{className:"text-gray-500",children:"SubOut not found"}),r.jsx(Je,{to:"/",className:"text-blue-600 hover:underline",children:"Back to Dashboard"})]})}const gf=w.forwardRef(function({label:t,error:n,className:s,...l},a){return r.jsxs("div",{className:"w-full",children:[t&&r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),r.jsx("input",{ref:a,type:"date",className:z("block w-full rounded-md border-gray-300 shadow-sm","focus:border-blue-500 focus:ring-blue-500","disabled:bg-gray-100 disabled:cursor-not-allowed",n&&"border-red-500 focus:border-red-500 focus:ring-red-500","px-3 py-2 border",s),...l}),n&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:n})]})});function S1(){return pt({queryKey:["jobs"],queryFn:()=>ud.getAll()})}function C1(e){return pt({queryKey:["jobs",e],queryFn:()=>ud.getByCode(e),enabled:!!e})}function k1(e){return pt({queryKey:["jobs",e,"subouts"],queryFn:()=>ud.getSubOuts(e),enabled:!!e})}function Vx({initialData:e,onSubmit:t,onCancel:n,isLoading:s}){const{data:l}=ua(),{data:a}=S1(),[i,o]=w.useState({jobCode:"",lot:"",description:"",vendorId:"",dateToLeaveMFC:"",loadsToShipFromMFC:1,dateToShipFromSub:"",loadsToShipFromSub:1,zone:"",weight:"",majorPieces:"",missingSteel:"",status:"Pending",poNumber:"",estimatedCost:"",actualCost:"",notes:""});w.useEffect(()=>{e&&o({jobCode:e.JobCode||"",lot:e.Lot||"",description:e.Description||"",vendorId:e.VendorID||"",dateToLeaveMFC:Ci(e.DateToLeaveMFC),loadsToShipFromMFC:e.LoadsToShipFromMFC||1,dateToShipFromSub:Ci(e.DateToShipFromSub),loadsToShipFromSub:e.LoadsToShipFromSub||1,zone:e.Zone||"",weight:e.Weight||"",majorPieces:e.MajorPieces||"",missingSteel:e.MissingSteel||"",status:e.Status||"Pending",poNumber:e.PONumber||"",estimatedCost:e.EstimatedCost||"",actualCost:e.ActualCost||"",notes:e.Notes||""})},[e]);const c=y=>v=>{o(f=>({...f,[y]:v.target.value}))},u=y=>{y.preventDefault(),t(i)},h=(l==null?void 0:l.data)||[],d=(a==null?void 0:a.data)||[],g=h.map(y=>({value:y.VendorID,label:y.VendorName})),j=d.map(y=>({value:y.JobCode,label:y.JobDescription||`Job ${y.JobCode}`})),m=dd.map(y=>({value:y,label:y}));return r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Zt,{label:"Job",value:i.jobCode,onChange:c("jobCode"),options:j,placeholder:"Select job...",required:!0,disabled:!!e}),r.jsx(he,{label:"Lot Number",value:i.lot,onChange:c("lot"),placeholder:"SUB#001",required:!0,disabled:!!e}),r.jsx(he,{label:"Description",value:i.description,onChange:c("description"),placeholder:"Columns, Beams, etc."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Zt,{label:"Vendor",value:i.vendorId,onChange:c("vendorId"),options:g,placeholder:"Select vendor..."}),r.jsx(Zt,{label:"Status",value:i.status,onChange:c("status"),options:m}),r.jsx(he,{label:"Zone",value:i.zone,onChange:c("zone"),placeholder:"e.g., 2, 3"})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Shipping"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(gf,{label:"Date to Leave MFC",value:i.dateToLeaveMFC,onChange:c("dateToLeaveMFC")}),r.jsx(gf,{label:"Date to Ship from Sub",value:i.dateToShipFromSub,onChange:c("dateToShipFromSub")}),r.jsx(he,{label:"Planned Outbound Loads",type:"number",min:"1",value:i.loadsToShipFromMFC,onChange:c("loadsToShipFromMFC")}),r.jsx(he,{label:"Planned Inbound Loads",type:"number",min:"1",value:i.loadsToShipFromSub,onChange:c("loadsToShipFromSub")})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Detailed load tracking (truck info, status, items) is available on the detail page."})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(he,{label:"Weight (lbs)",type:"number",value:i.weight,onChange:c("weight")}),r.jsx(he,{label:"Major Pieces",type:"number",value:i.majorPieces,onChange:c("majorPieces")}),r.jsx(he,{label:"PO Number",value:i.poNumber,onChange:c("poNumber")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[r.jsx(he,{label:"Estimated Cost",type:"number",step:"0.01",value:i.estimatedCost,onChange:c("estimatedCost")}),r.jsx(he,{label:"Actual Cost",type:"number",step:"0.01",value:i.actualCost,onChange:c("actualCost")})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Missing Steel"}),r.jsx("textarea",{value:i.missingSteel,onChange:c("missingSteel"),rows:2,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"List any missing steel..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{value:i.notes,onChange:c("notes"),rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Additional notes..."})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:n,children:"Cancel"}),r.jsx(ce,{type:"submit",loading:s,children:e?"Update SubOut":"Create SubOut"})]})]})}function P1(){const e=Gs(),t=gN(),n=async s=>{try{const l=await t.mutateAsync(s);e(`/subouts/${l.data.SubOutID}`)}catch(l){alert("Failed to create SubOut: "+l.message)}};return r.jsxs("div",{children:[r.jsxs(Je,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx(Wi,{className:"w-4 h-4 mr-1"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Create New SubOut"}),r.jsx(ne,{children:r.jsx(ne.Body,{children:r.jsx(Vx,{onSubmit:n,onCancel:()=>e("/"),isLoading:t.isPending})})})]})}function E1(){const{id:e}=nd(),t=Gs(),{data:n,isLoading:s,error:l}=$x(e),a=yN(),i=n==null?void 0:n.data,o=async c=>{try{await a.mutateAsync({id:e,data:c}),t(`/subouts/${e}`)}catch(u){alert("Failed to update SubOut: "+u.message)}};return s?r.jsx(ys,{className:"py-20",size:"lg"}):l||!i?r.jsxs("div",{className:"text-center py-20",children:[r.jsx("p",{className:"text-red-600",children:"Error loading SubOut"}),r.jsx(Je,{to:"/",className:"text-blue-600 hover:underline",children:"Back to Dashboard"})]}):r.jsxs("div",{children:[r.jsxs(Je,{to:`/subouts/${e}`,className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx(Wi,{className:"w-4 h-4 mr-1"}),"Back to Detail"]}),r.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Edit ",i.Lot]}),r.jsx(ne,{children:r.jsx(ne.Body,{children:r.jsx(Vx,{initialData:i,onSubmit:o,onCancel:()=>t(`/subouts/${e}`),isLoading:a.isPending})})})]})}function L1(e){return pt({queryKey:["communications",{vendorId:e}],queryFn:()=>ca.getAll({vendorId:e}),enabled:!!e})}function T1(){const e=ue();return xe({mutationFn:t=>ca.create(t),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["communications"]}),e.invalidateQueries({queryKey:["vendors"]})}})}function R1(){const e=ue();return xe({mutationFn:({id:t,data:n})=>ca.update(t,n),onSuccess:(t,{id:n})=>{e.invalidateQueries({queryKey:["communications"]}),e.invalidateQueries({queryKey:["communications",n]}),e.invalidateQueries({queryKey:["vendors"]})}})}function D1(){const e=ue();return xe({mutationFn:t=>ca.completeFollowUp(t),onSuccess:()=>{e.invalidateQueries({queryKey:["communications"]})}})}function I1(){const e=ue();return xe({mutationFn:t=>ca.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["communications"]})}})}const yf=["Small","Medium","Large","Large - many shops","Mega","Mega - many shops"],M1={Small:"bg-gray-100 text-gray-700",Medium:"bg-blue-100 text-blue-700",Large:"bg-green-100 text-green-700","Large - many shops":"bg-green-200 text-green-800",Mega:"bg-purple-100 text-purple-700","Mega - many shops":"bg-purple-200 text-purple-800"},vf=["Doug","Todd","Blake","Evan","Ken","Joe L.","Joe S.","Conrad"],F1=["Phone","Email","Meeting","Site Visit","Other"],O1=["Call","Email","Meeting","Quote","Other"];function A1(){const{data:e,isLoading:t,error:n}=ua({includeInactive:!0}),s=jN(),l=NN(),a=wN(),i=T1(),o=R1(),c=I1(),u=D1(),[h,d]=w.useState(!1),[g,j]=w.useState(!1),[m,y]=w.useState(null),[v,f]=w.useState(null),[p,x]=w.useState(null),[b,R]=w.useState(""),[I,S]=w.useState(""),[P,_]=w.useState(""),[O,M]=w.useState("VendorName"),[Q,J]=w.useState("asc"),[X,k]=w.useState(null),[T,q]=w.useState({vendorName:"",city:"",state:"",size:"",contactName:"",aiscBoard:!1,mfcOutreach:"",email:"",phone:"",lastContactDate:"",notes:""}),[E,A]=w.useState({contactType:"Phone",contactPerson:"",mfcEmployee:"",summary:"",details:"",followUpRequired:!1,followUpDate:"",followUpType:"",followUpNotes:""}),B=(e==null?void 0:e.data)||[],Z=w.useMemo(()=>{const L=new Set(B.map(K=>K.State).filter(Boolean));return Array.from(L).sort()},[B]),le=w.useMemo(()=>{let L=B.filter(K=>K.IsActive!==!1);if(b){const K=b.toLowerCase();L=L.filter(Qe=>{var kt,C,$,F,ee;return((kt=Qe.VendorName)==null?void 0:kt.toLowerCase().includes(K))||((C=Qe.ContactName)==null?void 0:C.toLowerCase().includes(K))||(($=Qe.City)==null?void 0:$.toLowerCase().includes(K))||((F=Qe.State)==null?void 0:F.toLowerCase().includes(K))||((ee=Qe.Notes)==null?void 0:ee.toLowerCase().includes(K))})}return I&&(L=L.filter(K=>K.Size===I)),P&&(L=L.filter(K=>K.State===P)),L.sort((K,Qe)=>{const kt=K[O]||"",C=Qe[O]||"",$=kt.toString().localeCompare(C.toString());return Q==="asc"?$:-$}),L},[B,b,I,P,O,Q]),pe=()=>{y(null),q({vendorName:"",city:"",state:"",size:"",contactName:"",aiscBoard:!1,mfcOutreach:"",email:"",phone:"",lastContactDate:"",notes:""}),d(!0)},Se=L=>{y(L),q({vendorName:L.VendorName||"",city:L.City||"",state:L.State||"",size:L.Size||"",contactName:L.ContactName||"",aiscBoard:L.AISCBoard||!1,mfcOutreach:L.MFCOutreach||"",email:L.Email||"",phone:L.Phone||"",lastContactDate:L.LastContactDate?L.LastContactDate.split("T")[0]:"",notes:L.Notes||""}),d(!0)},$e=(L,K=null)=>{f(L),x(K),A(K?{contactType:K.ContactType||"Phone",contactPerson:K.ContactPerson||"",mfcEmployee:K.MFCEmployee||"",summary:K.Summary||"",details:K.Details||"",followUpRequired:K.FollowUpRequired||!1,followUpDate:K.FollowUpDate?K.FollowUpDate.split("T")[0]:"",followUpType:K.FollowUpType||"",followUpNotes:K.FollowUpNotes||""}:{contactType:"Phone",contactPerson:L.ContactName||"",mfcEmployee:L.MFCOutreach||"",summary:"",details:"",followUpRequired:!1,followUpDate:"",followUpType:"",followUpNotes:""}),j(!0)},Ye=async L=>{L.preventDefault();try{m?await l.mutateAsync({id:m.VendorID,data:T}):await s.mutateAsync(T),d(!1)}catch(K){alert("Error: "+K.message)}},St=async L=>{L.preventDefault();try{p?await o.mutateAsync({id:p.LogID,data:E}):await i.mutateAsync({vendorId:v.VendorID,...E,source:"Manual"}),j(!1),x(null)}catch(K){alert("Error: "+K.message)}},W=async L=>{if(confirm(`Delete this communication entry from ${new Date(L.ContactDate).toLocaleDateString()}?`))try{await c.mutateAsync(L.LogID)}catch(K){alert("Error: "+K.message)}},be=async L=>{if(confirm(`Deactivate "${L.VendorName}"?`))try{await a.mutateAsync(L.VendorID)}catch(K){alert("Error: "+K.message)}},me=L=>K=>{const Qe=K.target.type==="checkbox"?K.target.checked:K.target.value;q(kt=>({...kt,[L]:Qe}))},Me=L=>K=>{const Qe=K.target.type==="checkbox"?K.target.checked:K.target.value;A(kt=>({...kt,[L]:Qe}))},Ke=L=>{O===L?J(Q==="asc"?"desc":"asc"):(M(L),J("asc"))},Mt=({field:L})=>O!==L?null:Q==="asc"?r.jsx(fb,{className:"w-4 h-4"}):r.jsx(us,{className:"w-4 h-4"}),qt=()=>{R(""),S(""),_("")},Ct=b||I||P;return t?r.jsx(ys,{className:"py-20",size:"lg"}):r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sub Fabricators"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[le.length," of ",B.filter(L=>L.IsActive!==!1).length," fabricators"]})]}),r.jsxs(ce,{onClick:pe,children:[r.jsx(nt,{className:"w-4 h-4 mr-1"}),"Add Fabricator"]})]}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-4",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsxs("div",{className:"relative",children:[r.jsx(sd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search fabricators...",value:b,onChange:L=>R(L.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(jl,{className:"w-4 h-4 text-gray-400"}),r.jsxs("select",{value:I,onChange:L=>S(L.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"All Sizes"}),yf.map(L=>r.jsx("option",{value:L,children:L},L))]}),r.jsxs("select",{value:P,onChange:L=>_(L.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"All States"}),Z.map(L=>r.jsx("option",{value:L,children:L},L))]}),Ct&&r.jsxs("button",{onClick:qt,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:[r.jsx(Wl,{className:"w-4 h-4"}),"Clear"]})]})]})}),n?r.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",n.message]}):le.length===0?r.jsxs("div",{className:"text-center py-20 text-gray-500 bg-white rounded-lg border border-gray-200",children:[r.jsx(ql,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),Ct?r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"No fabricators match your filters."}),r.jsx("button",{onClick:qt,className:"text-primary-600 hover:underline mt-2",children:"Clear filters"})]}):r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"No sub fabricators yet."}),r.jsx("button",{onClick:pe,className:"text-primary-600 hover:underline mt-2",children:"Add the first fabricator"})]})]}):r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[r.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Ke("VendorName"),children:r.jsxs("div",{className:"flex items-center gap-1",children:["Fabricator ",r.jsx(Mt,{field:"VendorName"})]})}),r.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Ke("City"),children:r.jsxs("div",{className:"flex items-center gap-1",children:["Location ",r.jsx(Mt,{field:"City"})]})}),r.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Ke("Size"),children:r.jsxs("div",{className:"flex items-center gap-1",children:["Size ",r.jsx(Mt,{field:"Size"})]})}),r.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Ke("MFCOutreach"),children:r.jsxs("div",{className:"flex items-center gap-1",children:["MFC Rep ",r.jsx(Mt,{field:"MFCOutreach"})]})}),r.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Ke("LastContactDate"),children:r.jsxs("div",{className:"flex items-center gap-1",children:["Last Contact ",r.jsx(Mt,{field:"LastContactDate"})]})}),r.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:le.map(L=>r.jsx(_1,{vendor:L,expanded:X===L.VendorID,onToggle:()=>k(X===L.VendorID?null:L.VendorID),onEdit:()=>Se(L),onDelete:()=>be(L),onAddComm:()=>$e(L),onEditComm:K=>$e(L,K),onDeleteComm:W,onCompleteFollowUp:K=>u.mutate(K)},L.VendorID))})]})})}),r.jsx(Pe,{isOpen:h,onClose:()=>d(!1),title:m?"Edit Sub Fabricator":"Add Sub Fabricator",size:"lg",children:r.jsxs("form",{onSubmit:Ye,className:"space-y-4",children:[r.jsx(he,{label:"Fabricator Name",value:T.vendorName,onChange:me("vendorName"),required:!0}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsx(he,{label:"City",value:T.city,onChange:me("city")}),r.jsx(he,{label:"State",value:T.state,onChange:me("state"),placeholder:"e.g., WA"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Size"}),r.jsxs("select",{value:T.size,onChange:me("size"),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"Select size..."}),yf.map(L=>r.jsx("option",{value:L,children:L},L))]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Contact Name",value:T.contactName,onChange:me("contactName")}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"MFC Outreach Rep"}),r.jsxs("select",{value:T.mfcOutreach,onChange:me("mfcOutreach"),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"Select rep..."}),vf.map(L=>r.jsx("option",{value:L,children:L},L))]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Phone",value:T.phone,onChange:me("phone")}),r.jsx(he,{label:"Email",type:"email",value:T.email,onChange:me("email")})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Last Contact Date",type:"date",value:T.lastContactDate,onChange:me("lastContactDate")}),r.jsx("div",{className:"flex items-center pt-7",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:T.aiscBoard,onChange:me("aiscBoard"),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"AISC Board Member"})]})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{value:T.notes,onChange:me("notes"),rows:4,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Contact history, work status, etc."})]}),r.jsxs(Pe.Footer,{children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>d(!1),children:"Cancel"}),r.jsx(ce,{type:"submit",loading:s.isPending||l.isPending,children:m?"Update":"Create"})]})]})}),r.jsx(Pe,{isOpen:g,onClose:()=>{j(!1),x(null)},title:p?`Edit Communication - ${(v==null?void 0:v.VendorName)||""}`:`Log Communication - ${(v==null?void 0:v.VendorName)||""}`,size:"lg",children:r.jsxs("form",{onSubmit:St,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Type"}),r.jsx("select",{value:E.contactType,onChange:Me("contactType"),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:F1.map(L=>r.jsx("option",{value:L,children:L},L))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"MFC Employee"}),r.jsxs("select",{value:E.mfcEmployee,onChange:Me("mfcEmployee"),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"Select..."}),vf.map(L=>r.jsx("option",{value:L,children:L},L))]})]})]}),r.jsx(he,{label:"Contact Person (at fabricator)",value:E.contactPerson,onChange:Me("contactPerson"),placeholder:"Who did you talk to?"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Summary *"}),r.jsx("input",{type:"text",value:E.summary,onChange:Me("summary"),required:!0,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Brief summary of the conversation..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Details"}),r.jsx("textarea",{value:E.details,onChange:Me("details"),rows:4,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Full details of the conversation..."})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-4",children:[r.jsx("input",{type:"checkbox",checked:E.followUpRequired,onChange:Me("followUpRequired"),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Follow-up Required"})]}),E.followUpRequired&&r.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-6",children:[r.jsx(he,{label:"Follow-up Date",type:"date",value:E.followUpDate,onChange:Me("followUpDate")}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Follow-up Type"}),r.jsxs("select",{value:E.followUpType,onChange:Me("followUpType"),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"Select..."}),O1.map(L=>r.jsx("option",{value:L,children:L},L))]})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Follow-up Notes"}),r.jsx("input",{type:"text",value:E.followUpNotes,onChange:Me("followUpNotes"),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"What needs to be done?"})]})]})]}),r.jsxs(Pe.Footer,{children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{j(!1),x(null)},children:"Cancel"}),r.jsx(ce,{type:"submit",loading:i.isPending||o.isPending,children:p?"Update":"Log Communication"})]})]})})]})}function _1({vendor:e,expanded:t,onToggle:n,onEdit:s,onDelete:l,onAddComm:a,onEditComm:i,onDeleteComm:o,onCompleteFollowUp:c}){const{data:u}=L1(t?e.VendorID:null),h=(u==null?void 0:u.data)||[];return r.jsxs(r.Fragment,{children:[r.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:n,children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-gray-900",children:e.VendorName}),e.AISCBoard&&r.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-1.5 py-0.5 rounded font-medium",children:"AISC"})]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.City&&e.State?`${e.City}, ${e.State}`:e.State||e.City||""}),r.jsx("td",{className:"px-4 py-3",children:e.Size?r.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${M1[e.Size]||"bg-gray-100 text-gray-700"}`,children:e.Size}):r.jsx("span",{className:"text-gray-400",children:""})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.ContactName||""}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.MFCOutreach||""}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.LastContactDate?new Date(e.LastContactDate).toLocaleDateString():""}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsxs("div",{className:"flex justify-end gap-1",onClick:d=>d.stopPropagation(),children:[r.jsx("button",{onClick:a,className:"p-1.5 text-gray-400 hover:text-green-600 rounded hover:bg-gray-100",title:"Log Communication",children:r.jsx(Qh,{className:"w-4 h-4"})}),r.jsx("button",{onClick:s,className:"p-1.5 text-gray-400 hover:text-primary-600 rounded hover:bg-gray-100",title:"Edit",children:r.jsx(Et,{className:"w-4 h-4"})}),r.jsx("button",{onClick:l,className:"p-1.5 text-gray-400 hover:text-red-600 rounded hover:bg-gray-100",title:"Delete",children:r.jsx(ut,{className:"w-4 h-4"})})]})})]}),t&&r.jsx("tr",{className:"bg-gray-50",children:r.jsxs("td",{colSpan:7,className:"px-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-4",children:[e.Phone&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kb,{className:"w-4 h-4 text-gray-400"}),r.jsx("a",{href:`tel:${e.Phone}`,className:"text-primary-600 hover:underline",children:e.Phone})]}),e.Email&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(jb,{className:"w-4 h-4 text-gray-400"}),r.jsx("a",{href:`mailto:${e.Email}`,className:"text-primary-600 hover:underline truncate",children:e.Email})]}),e.Address&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Nb,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-600",children:e.Address})]})]}),e.Notes&&r.jsxs("div",{className:"mb-4 p-3 bg-white rounded border border-gray-200",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"Notes"}),r.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:e.Notes})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[r.jsx(Qh,{className:"w-4 h-4"}),"Communication Log"]}),r.jsxs("button",{onClick:d=>{d.stopPropagation(),a()},className:"text-xs text-primary-600 hover:underline flex items-center gap-1",children:[r.jsx(nt,{className:"w-3 h-3"}),"Add Entry"]})]}),h.length===0?r.jsx("p",{className:"text-sm text-gray-400 italic",children:"No communication history yet."}):r.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:h.map(d=>r.jsxs("div",{className:"bg-white rounded border border-gray-200 p-3 text-sm",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${d.ContactType==="Phone"?"bg-blue-100 text-blue-700":d.ContactType==="Email"?"bg-green-100 text-green-700":d.ContactType==="Meeting"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:d.ContactType}),r.jsx("span",{className:"text-gray-500",children:new Date(d.ContactDate).toLocaleDateString()}),d.MFCEmployee&&r.jsxs("span",{className:"text-gray-400",children:["by ",d.MFCEmployee]}),d.Source==="MFCCortex"&&r.jsx("span",{className:"text-xs bg-primary-100 text-primary-700 px-1.5 py-0.5 rounded",children:"AI"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[d.FollowUpRequired&&!d.FollowUpCompleted&&r.jsxs("button",{onClick:g=>{g.stopPropagation(),c(d.LogID)},className:"flex items-center gap-1 text-xs text-amber-600 hover:text-amber-700",title:"Mark follow-up complete",children:[r.jsx(Wa,{className:"w-3 h-3"}),"Follow-up ",d.FollowUpDate?new Date(d.FollowUpDate).toLocaleDateString():""]}),d.FollowUpCompleted&&r.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[r.jsx(Fn,{className:"w-3 h-3"}),"Done"]}),r.jsx("button",{onClick:g=>{g.stopPropagation(),i(d)},className:"p-1 text-gray-400 hover:text-primary-600 rounded hover:bg-gray-100",title:"Edit",children:r.jsx(Et,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:g=>{g.stopPropagation(),o(d)},className:"p-1 text-gray-400 hover:text-red-600 rounded hover:bg-gray-100",title:"Delete",children:r.jsx(ut,{className:"w-3.5 h-3.5"})})]})]}),d.ContactPerson&&r.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Spoke with: ",d.ContactPerson]}),r.jsx("p",{className:"text-gray-800 mt-1 font-medium",children:d.Summary}),d.Details&&r.jsx("p",{className:"text-gray-600 mt-1",children:d.Details}),d.FollowUpNotes&&r.jsxs("p",{className:"text-amber-600 text-xs mt-1 flex items-center gap-1",children:[r.jsx(pb,{className:"w-3 h-3"}),d.FollowUpNotes]})]},d.LogID))})]})]})})]})}function U1(){const{jobCode:e}=nd(),{data:t,isLoading:n}=C1(e),{data:s,isLoading:l}=k1(e),a=t==null?void 0:t.data,i=(s==null?void 0:s.data)||[];return n||l?r.jsx(ys,{className:"py-20",size:"lg"}):r.jsxs("div",{children:[r.jsxs(Je,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx(Wi,{className:"w-4 h-4 mr-1"}),"Back to Dashboard"]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[e," - ",(a==null?void 0:a.JobDescription)||"Unknown Job"]}),(a==null?void 0:a.ProjectManager)&&r.jsxs("p",{className:"text-gray-500",children:["PM: ",a.ProjectManager]})]}),i.length===0?r.jsxs(ne,{className:"p-8 text-center",children:[r.jsx("p",{className:"text-gray-500",children:"No sub outs for this job yet."}),r.jsx(Je,{to:"/subouts/new",className:"text-blue-600 hover:underline mt-2 block",children:"Create one"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:i.map(o=>r.jsx(qx,{subOut:o},o.SubOutID))})]})}function z1(){const{data:e,isLoading:t,error:n}=Bx({archivedOnly:!0}),{data:s}=ua(),l=Qx(),[a,i]=w.useState(""),[o,c]=w.useState(null),u=(e==null?void 0:e.data)||[],h=(s==null?void 0:s.data)||[],d=a?u.filter(m=>m.VendorID===parseInt(a)):u,g=h.map(m=>({value:m.VendorID,label:m.VendorName})),j=async()=>{if(o)try{await l.mutateAsync({id:o.SubOutID,status:"Received"}),c(null)}catch(m){alert("Failed to reopen: "+m.message)}};return t?r.jsx(ys,{className:"py-20",size:"lg"}):r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ql,{className:"w-6 h-6 text-gray-500"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Archived SubOuts"})]})}),r.jsx(ne,{className:"p-4 mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-48",children:r.jsx(Zt,{value:a,onChange:m=>i(m.target.value),options:g,placeholder:"All Vendors"})}),r.jsxs("span",{className:"text-sm text-gray-500 ml-auto",children:[d.length," archived"]})]})}),n?r.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",n.message]}):d.length===0?r.jsxs("div",{className:"text-center py-20 text-gray-500",children:[r.jsx(Ql,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{children:"No archived sub outs."})]}):r.jsx(ne,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Job"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Lot"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Vendor"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Weight"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Pieces"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Action"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:d.map(m=>r.jsxs("tr",{className:"bg-green-50 hover:bg-green-100",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:r.jsx(Je,{to:`/subouts/${m.SubOutID}`,className:"text-blue-600 hover:underline",children:m.JobDescription||`Job ${m.JobCode}`})}),r.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:r.jsx(Je,{to:`/subouts/${m.SubOutID}`,className:"text-blue-600 hover:underline",children:m.Lot})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:m.Description||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:m.SubFabricator||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-right",children:fn(m.Weight)}),r.jsx("td",{className:"px-4 py-3 text-sm text-center",children:m.MajorPieces||"-"}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(Xn,{status:m.Status})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsxs("button",{onClick:()=>c(m),className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-blue-700 bg-blue-50 rounded hover:bg-blue-100 transition-colors",children:[r.jsx(Jc,{className:"w-3 h-3"}),"Reopen"]})})]},m.SubOutID))})]})})}),r.jsxs(Pe,{isOpen:!!o,onClose:()=>c(null),title:"Reopen SubOut",size:"sm",children:[r.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to reopen ",r.jsx("strong",{children:o==null?void 0:o.Lot}),'? Its status will be set to "Received" and it will appear in active views.']}),r.jsxs(Pe.Footer,{children:[r.jsx(ce,{variant:"secondary",onClick:()=>c(null),children:"Cancel"}),r.jsxs(ce,{onClick:j,loading:l.isPending,children:[r.jsx(Jc,{className:"w-4 h-4 mr-1"}),"Reopen"]})]})]})]})}function Ft({icon:e,title:t,color:n,children:s,defaultOpen:l=!1}){const[a,i]=w.useState(l),o={blue:{bg:"bg-blue-50",border:"border-blue-200",iconBg:"bg-blue-100",iconText:"text-blue-600",headerText:"text-blue-900"},green:{bg:"bg-green-50",border:"border-green-200",iconBg:"bg-green-100",iconText:"text-green-600",headerText:"text-green-900"},purple:{bg:"bg-purple-50",border:"border-purple-200",iconBg:"bg-purple-100",iconText:"text-purple-600",headerText:"text-purple-900"},orange:{bg:"bg-orange-50",border:"border-orange-200",iconBg:"bg-orange-100",iconText:"text-orange-600",headerText:"text-orange-900"},teal:{bg:"bg-teal-50",border:"border-teal-200",iconBg:"bg-teal-100",iconText:"text-teal-600",headerText:"text-teal-900"},rose:{bg:"bg-rose-50",border:"border-rose-200",iconBg:"bg-rose-100",iconText:"text-rose-600",headerText:"text-rose-900"},amber:{bg:"bg-amber-50",border:"border-amber-200",iconBg:"bg-amber-100",iconText:"text-amber-600",headerText:"text-amber-900"},indigo:{bg:"bg-indigo-50",border:"border-indigo-200",iconBg:"bg-indigo-100",iconText:"text-indigo-600",headerText:"text-indigo-900"}},c=o[n]||o.blue;return r.jsxs("div",{className:z("rounded-xl border-2 overflow-hidden transition-all",c.border,a?c.bg:"bg-white"),children:[r.jsxs("button",{onClick:()=>i(!a),className:z("w-full flex items-center gap-3 px-5 py-4 text-left transition-colors hover:bg-opacity-80",a?c.bg:"hover:bg-gray-50"),children:[r.jsx("div",{className:z("w-9 h-9 rounded-lg flex items-center justify-center flex-shrink-0",c.iconBg),children:r.jsx(e,{className:z("w-5 h-5",c.iconText)})}),r.jsx("span",{className:z("text-lg font-semibold flex-1",c.headerText),children:t}),a?r.jsx(us,{className:"w-5 h-5 text-gray-400"}):r.jsx(Vs,{className:"w-5 h-5 text-gray-400"})]}),a&&r.jsx("div",{className:"px-5 pb-5",children:s})]})}function ae({number:e,children:t}){return r.jsxs("div",{className:"flex gap-3 items-start",children:[r.jsx("span",{className:"flex-shrink-0 w-7 h-7 rounded-full bg-blue-600 text-white text-sm font-bold flex items-center justify-center mt-0.5",children:e}),r.jsx("div",{className:"text-sm text-gray-700 leading-relaxed",children:t})]})}function er({children:e}){return r.jsxs("div",{className:"flex gap-2 items-start bg-amber-50 border border-amber-200 rounded-lg px-3 py-2 mt-3",children:[r.jsx(xb,{className:"w-4 h-4 text-amber-500 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-amber-800",children:e})]})}function bf({children:e}){return r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-gray-200 text-gray-700 text-xs font-mono font-semibold",children:e})}function tr({children:e,required:t}){return r.jsxs("span",{className:"font-semibold text-gray-900",children:[e,t&&r.jsx("span",{className:"text-red-500 ml-0.5",children:"*"})]})}function B1(){const[e,t]=w.useState("settings");return r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Settings"}),r.jsxs("div",{className:"flex gap-1 bg-gray-100 rounded-lg p-1 mb-6 w-fit",children:[r.jsxs("button",{onClick:()=>t("settings"),className:z("flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors",e==="settings"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),children:[r.jsx(Gc,{className:"w-4 h-4"}),"Settings"]}),r.jsxs("button",{onClick:()=>t("guide"),className:z("flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors",e==="guide"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),children:[r.jsx(Bh,{className:"w-4 h-4"}),"How-To Guide"]})]}),e==="settings"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(ne,{children:[r.jsx(ne.Header,{children:r.jsx("h2",{className:"font-semibold",children:"Application Info"})}),r.jsxs(ne.Body,{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Version"}),r.jsx("span",{className:"font-medium",children:"1.0.0"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Environment"}),r.jsx("span",{className:"font-medium",children:"production"})]})]})]}),r.jsxs(ne,{children:[r.jsx(ne.Header,{children:r.jsx("h2",{className:"font-semibold",children:"Database"})}),r.jsxs(ne.Body,{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Server"}),r.jsx("span",{className:"font-medium",children:"Voltron"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Database"}),r.jsx("span",{className:"font-medium",children:"FabTracker"})]})]})]}),r.jsxs(ne,{children:[r.jsx(ne.Header,{children:r.jsx("h2",{className:"font-semibold",children:"Status Legend"})}),r.jsx(ne.Body,{children:r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-24 px-2 py-1 text-center rounded bg-gray-100 text-gray-800",children:"Pending"}),r.jsx("span",{className:"text-gray-600",children:"Initial state, awaiting action"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-24 px-2 py-1 text-center rounded bg-blue-100 text-blue-800",children:"Ready"}),r.jsx("span",{className:"text-gray-600",children:"Ready to ship from MFC"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-24 px-2 py-1 text-center rounded bg-yellow-100 text-yellow-800",children:"Sent"}),r.jsx("span",{className:"text-gray-600",children:"Shipped from MFC to sub"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-24 px-2 py-1 text-center rounded bg-orange-100 text-orange-800",children:"InProcess"}),r.jsx("span",{className:"text-gray-600",children:"Being fabricated at sub"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-24 px-2 py-1 text-center rounded bg-purple-100 text-purple-800",children:"Shipped"}),r.jsx("span",{className:"text-gray-600",children:"Shipped from sub back to MFC"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-24 px-2 py-1 text-center rounded bg-teal-100 text-teal-800",children:"Received"}),r.jsx("span",{className:"text-gray-600",children:"Received at MFC"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-24 px-2 py-1 text-center rounded bg-green-100 text-green-800",children:"QCd"}),r.jsx("span",{className:"text-gray-600",children:"Quality checked"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-24 px-2 py-1 text-center rounded bg-green-200 text-green-900",children:"Complete"}),r.jsx("span",{className:"text-gray-600",children:"Fully complete"})]})]})})]}),r.jsxs(ne,{children:[r.jsx(ne.Header,{children:r.jsx("h2",{className:"font-semibold",children:"Card Border Colors"})}),r.jsx(ne.Body,{children:r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-4 h-4 bg-red-500 rounded"}),r.jsx("span",{className:"text-gray-600",children:"Overdue - past leave date, not fully shipped"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-4 h-4 bg-orange-500 rounded"}),r.jsx("span",{className:"text-gray-600",children:"Overdue receive - past ship date, not received"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-4 h-4 bg-pink-500 rounded"}),r.jsx("span",{className:"text-gray-600",children:"Missing steel"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-4 h-4 bg-blue-500 rounded"}),r.jsx("span",{className:"text-gray-600",children:"Ready to ship"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-4 h-4 bg-yellow-500 rounded"}),r.jsx("span",{className:"text-gray-600",children:"In progress"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-4 h-4 bg-green-500 rounded"}),r.jsx("span",{className:"text-gray-600",children:"Complete"})]})]})})]})]}),e==="guide"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 rounded-xl p-6 text-white mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Bh,{className:"w-8 h-8"}),r.jsx("h2",{className:"text-2xl font-bold",children:"SubOuts Tracker Guide"})]}),r.jsx("p",{className:"text-blue-100 max-w-2xl",children:"Everything you need to know about using the MFC Sub Fabrication Tracker. Click any section below to expand it."})]}),r.jsx(Ft,{icon:sl,title:"Quick Start Overview",color:"indigo",defaultOpen:!0,children:r.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-700",children:"SubOuts tracks fabrication work sent to outside sub-fabricators. The typical workflow is:"}),r.jsx("div",{className:"flex flex-wrap gap-2 items-center justify-center py-3",children:[{label:"Create SubOut",color:"bg-blue-100 text-blue-800 border-blue-300"},{label:"Add Items",color:"bg-purple-100 text-purple-800 border-purple-300"},{label:"Ship to Sub",color:"bg-yellow-100 text-yellow-800 border-yellow-300"},{label:"Track Progress",color:"bg-orange-100 text-orange-800 border-orange-300"},{label:"Receive Back",color:"bg-teal-100 text-teal-800 border-teal-300"},{label:"QC & Complete",color:"bg-green-100 text-green-800 border-green-300"}].map((n,s)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:z("px-3 py-1.5 rounded-full text-xs font-semibold border",n.color),children:n.label}),s<5&&r.jsx(sl,{className:"w-4 h-4 text-gray-300"})]},s))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mt-2",children:[r.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 text-center border border-blue-200",children:[r.jsx(Hc,{className:"w-6 h-6 text-blue-600 mx-auto mb-1"}),r.jsx("div",{className:"text-xs font-semibold text-blue-900",children:"Dashboard"}),r.jsx("div",{className:"text-xs text-blue-600",children:"Main overview"})]}),r.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 text-center border border-purple-200",children:[r.jsx(Gn,{className:"w-6 h-6 text-purple-600 mx-auto mb-1"}),r.jsx("div",{className:"text-xs font-semibold text-purple-900",children:"All SubOuts"}),r.jsx("div",{className:"text-xs text-purple-600",children:"Full list view"})]}),r.jsxs("div",{className:"bg-orange-50 rounded-lg p-3 text-center border border-orange-200",children:[r.jsx(ql,{className:"w-6 h-6 text-orange-600 mx-auto mb-1"}),r.jsx("div",{className:"text-xs font-semibold text-orange-900",children:"Vendors"}),r.jsx("div",{className:"text-xs text-orange-600",children:"Manage contacts"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center border border-gray-200",children:[r.jsx(Gc,{className:"w-6 h-6 text-gray-600 mx-auto mb-1"}),r.jsx("div",{className:"text-xs font-semibold text-gray-900",children:"Settings"}),r.jsx("div",{className:"text-xs text-gray-600",children:"Info & this guide"})]})]})]})}),r.jsx(Ft,{icon:Hc,title:"Using the Dashboard",color:"blue",children:r.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-700",children:"The Dashboard is your primary working screen. It groups all active sub outs by job and provides at-a-glance status information."}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Stats Bar"]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Five summary cards across the top of the dashboard:"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 text-center border",children:[r.jsx("div",{className:"text-lg font-bold text-gray-900",children:"--"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Total Active"})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-2 text-center border border-blue-200",children:[r.jsx("div",{className:"text-lg font-bold text-blue-600",children:"--"}),r.jsx("div",{className:"text-xs text-blue-600",children:"Pending Shipment"})]}),r.jsxs("div",{className:"bg-yellow-50 rounded-lg p-2 text-center border border-yellow-200",children:[r.jsx("div",{className:"text-lg font-bold text-yellow-600",children:"--"}),r.jsx("div",{className:"text-xs text-yellow-600",children:"In Progress"})]}),r.jsxs("div",{className:"bg-red-50 rounded-lg p-2 text-center border border-red-200",children:[r.jsx("div",{className:"text-lg font-bold text-red-600",children:"--"}),r.jsx("div",{className:"text-xs text-red-600",children:"Action Required"})]}),r.jsxs("div",{className:"bg-green-50 rounded-lg p-2 text-center border border-green-200",children:[r.jsx("div",{className:"text-lg font-bold text-green-600",children:"--"}),r.jsx("div",{className:"text-xs text-green-600",children:"Complete This Month"})]})]})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Filtering"]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Use the filter bar to narrow down what you see:"}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 ml-4",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(jl,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Job"})," - Show only sub outs for a specific job"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(jl,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Vendor"})," - Filter by sub-fabricator"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(jl,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Status"})," - Show only a specific status"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(px,{className:"w-4 h-4 text-orange-500 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Action Items Only"})," - Show only overdue or missing-steel items"]})]})]})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),"View Modes"]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Toggle between two views using the icons in the filter bar:"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Lo,{className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-semibold text-blue-900",children:"Card View"})]}),r.jsx("p",{className:"text-xs text-blue-700",children:"Sub outs displayed as visual cards grouped under each job. Best for quick scanning."})]}),r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Eo,{className:"w-4 h-4 text-purple-600"}),r.jsx("span",{className:"text-sm font-semibold text-purple-900",children:"Table View"})]}),r.jsx("p",{className:"text-xs text-purple-700",children:"Sub outs in rows with all details visible. Best for comparing data."})]})]})]})]})}),r.jsx(Ft,{icon:Lo,title:"Understanding Colors & Indicators",color:"rose",children:r.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-700",children:"Cards and table rows use color coding so you can spot issues at a glance."}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Card Left Border Colors"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-3 border-l-4 border-l-red-500 bg-red-50 rounded-r-lg px-3 py-2",children:[r.jsx("span",{className:"text-sm font-semibold text-red-800 w-36",children:"Red - Overdue Send"}),r.jsx("span",{className:"text-sm text-red-700",children:'Past the "Leave MFC" date and not all loads shipped out yet'})]}),r.jsxs("div",{className:"flex items-center gap-3 border-l-4 border-l-orange-500 bg-orange-50 rounded-r-lg px-3 py-2",children:[r.jsx("span",{className:"text-sm font-semibold text-orange-800 w-36",children:"Orange - Overdue Return"}),r.jsx("span",{className:"text-sm text-orange-700",children:'Past the "Ship from Sub" date and not all loads returned'})]}),r.jsxs("div",{className:"flex items-center gap-3 border-l-4 border-l-pink-500 bg-pink-50 rounded-r-lg px-3 py-2",children:[r.jsx("span",{className:"text-sm font-semibold text-pink-800 w-36",children:"Pink - Missing Steel"}),r.jsx("span",{className:"text-sm text-pink-700",children:"Steel is noted as missing for this sub out"})]}),r.jsxs("div",{className:"flex items-center gap-3 border-l-4 border-l-blue-500 bg-blue-50 rounded-r-lg px-3 py-2",children:[r.jsx("span",{className:"text-sm font-semibold text-blue-800 w-36",children:"Blue - Ready"}),r.jsx("span",{className:"text-sm text-blue-700",children:'Status is "Ready" - prepared to ship from MFC'})]}),r.jsxs("div",{className:"flex items-center gap-3 border-l-4 border-l-yellow-500 bg-yellow-50 rounded-r-lg px-3 py-2",children:[r.jsx("span",{className:"text-sm font-semibold text-yellow-800 w-36",children:"Yellow - In Progress"}),r.jsx("span",{className:"text-sm text-yellow-700",children:"Status is Sent, InProcess, or Shipped"})]}),r.jsxs("div",{className:"flex items-center gap-3 border-l-4 border-l-green-500 bg-green-50 rounded-r-lg px-3 py-2",children:[r.jsx("span",{className:"text-sm font-semibold text-green-800 w-36",children:"Green - Complete"}),r.jsx("span",{className:"text-sm text-green-700",children:"Sub out is fully complete"})]}),r.jsxs("div",{className:"flex items-center gap-3 border-l-4 border-l-gray-300 bg-gray-50 rounded-r-lg px-3 py-2",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-700 w-36",children:"Gray - Pending"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Default state, no special condition"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Table Row Background Colors"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-3 bg-pink-50 rounded-lg px-3 py-2 border border-pink-200",children:[r.jsx("span",{className:"w-5 h-5 rounded bg-pink-200 flex-shrink-0"}),r.jsxs("span",{className:"text-sm",children:[r.jsx("strong",{className:"text-pink-800",children:"Pink"})," ",r.jsx("span",{className:"text-gray-600",children:"- Missing steel noted"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 bg-green-50 rounded-lg px-3 py-2 border border-green-200",children:[r.jsx("span",{className:"w-5 h-5 rounded bg-green-200 flex-shrink-0"}),r.jsxs("span",{className:"text-sm",children:[r.jsx("strong",{className:"text-green-800",children:"Green"})," ",r.jsx("span",{className:"text-gray-600",children:"- Complete or all return loads received"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 bg-yellow-50 rounded-lg px-3 py-2 border border-yellow-200",children:[r.jsx("span",{className:"w-5 h-5 rounded bg-yellow-200 flex-shrink-0"}),r.jsxs("span",{className:"text-sm",children:[r.jsx("strong",{className:"text-yellow-800",children:"Yellow"})," ",r.jsx("span",{className:"text-gray-600",children:"- Partially shipped (some loads sent or received)"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-lg px-3 py-2 border border-gray-200",children:[r.jsx("span",{className:"w-5 h-5 rounded bg-gray-100 flex-shrink-0"}),r.jsxs("span",{className:"text-sm",children:[r.jsx("strong",{className:"text-gray-700",children:"White"})," ",r.jsx("span",{className:"text-gray-600",children:"- Default, no loads shipped yet"})]})]})]})]}),r.jsx(er,{children:"Colors are evaluated in priority order. Overdue send (red) takes priority over overdue return (orange), which takes priority over missing steel (pink), etc."})]})}),r.jsx(Ft,{icon:nt,title:"Creating a New SubOut",color:"green",children:r.jsx("div",{className:"bg-white rounded-lg p-4 space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs(ae,{number:"1",children:["Navigate to ",r.jsx("strong",{children:"All SubOuts"})," in the sidebar, then click the",r.jsxs("span",{className:"inline-flex items-center gap-1 mx-1 px-2 py-0.5 rounded bg-blue-600 text-white text-xs font-semibold",children:[r.jsx(nt,{className:"w-3 h-3"})," New SubOut"]}),"button. Or navigate directly to ",r.jsx(bf,{children:"/subouts/new"}),"."]}),r.jsxs(ae,{number:"2",children:["Fill in the ",r.jsx("strong",{children:"Job & Basic Info"})," section:",r.jsxs("div",{className:"mt-2 bg-gray-50 rounded-lg p-3 space-y-2",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(tr,{required:!0,children:"Job"}),r.jsx("span",{className:"text-gray-500",children:"- Select from active jobs. Locked after creation."})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(tr,{required:!0,children:"Lot Number"}),r.jsxs("span",{className:"text-gray-500",children:["- Unique ID like ",r.jsx(bf,{children:"SUB#001"}),". Locked after creation."]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(tr,{children:"Description"}),r.jsx("span",{className:"text-gray-500",children:`- What's being fabricated (e.g. "Columns", "Beams").`})]})]})]}),r.jsxs(ae,{number:"3",children:["Set the ",r.jsx("strong",{children:"Vendor & Status"}),":",r.jsxs("div",{className:"mt-2 bg-gray-50 rounded-lg p-3 space-y-2",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(tr,{children:"Vendor"}),r.jsx("span",{className:"text-gray-500",children:"- Which sub-fabricator is doing the work."})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(tr,{children:"Status"}),r.jsx("span",{className:"text-gray-500",children:'- Defaults to "Pending".'})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(tr,{children:"Zone"}),r.jsx("span",{className:"text-gray-500",children:'- Optional project zone (e.g. "2", "3").'})]})]})]}),r.jsxs(ae,{number:"4",children:["Configure ",r.jsx("strong",{children:"Shipping"})," dates and planned load counts:",r.jsx("div",{className:"mt-2 bg-blue-50 rounded-lg p-3 border border-blue-200",children:r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Date to Leave MFC"})," - When steel should ship out"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Date to Ship from Sub"})," - When fabricated steel should return"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Planned Outbound Loads"})," - Estimated truckloads going out (default 1)"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Planned Inbound Loads"})," - Estimated return loads (default 1)"]})]})}),r.jsx(er,{children:"Detailed load tracking (truck info, items, pallets) is managed on the detail page after creation."})]}),r.jsxs(ae,{number:"5",children:["Fill in ",r.jsx("strong",{children:"Details"}),": Weight, Major Pieces, PO Number, Estimated/Actual Cost, Missing Steel notes, and any additional Notes."]}),r.jsxs(ae,{number:"6",children:["Click",r.jsx("span",{className:"inline-flex items-center mx-1 px-3 py-0.5 rounded bg-blue-600 text-white text-xs font-semibold",children:"Create SubOut"}),"to save. You'll be taken to the new record's detail page."]})]})})}),r.jsx(Ft,{icon:Eo,title:"Send Types",color:"teal",children:r.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-4",children:[r.jsxs("p",{className:"text-sm text-gray-700",children:["Each item has a ",r.jsx("strong",{children:"Send Type"})," that describes how it will be handled. A single sub out can mix all three types."]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 text-center",children:[r.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-gray-100 text-gray-700 border border-gray-300",children:"Raw"}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Send raw inventory lengths as-is to the sub-fabricator."}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Default for PullList/Raw items"})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-center",children:[r.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-700 border border-blue-300",children:"Cut to Length"}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Cut main marks to length at MFC before sending to sub."}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Default for LongShapes items"})]}),r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 text-center",children:[r.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-purple-100 text-purple-700 border border-purple-300",children:"Parts on Pallets"}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Burn/cut parts, place on pallets, then ship to sub."}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Default for Parts items"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-teal-500"}),"How to Set Send Types"]}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1.5 ml-4",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"When adding items:"})," The Item Picker defaults the send type based on the active tab. Override with the dropdown in the selection summary."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"After adding:"}),` Change any item's send type inline on the Items table using the dropdown in the "Type" column.`]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Filtering:"})," Use the send type dropdown above the tabs to show only items of a specific type."]})]})]}),r.jsx(er,{children:'Only items with type "Parts on Pallets" can be assigned to pallets.'})]})}),r.jsx(Ft,{icon:rd,title:"Managing Loads",color:"orange",children:r.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-4",children:[r.jsxs("p",{className:"text-sm text-gray-700",children:["The ",r.jsx("strong",{children:"Loads Section"})," on the detail page tracks every shipment with full details. Two columns show Outbound (MFC  Sub) and Inbound (Sub  MFC) loads."]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"border-2 border-blue-200 rounded-xl p-4 bg-blue-50",children:[r.jsx("h4",{className:"font-semibold text-blue-900 mb-3 text-center",children:"Outbound (MFC  Sub)"}),r.jsx("p",{className:"text-sm text-blue-800 text-center mb-3",children:"Steel going from MFC to the sub-fabricator"}),r.jsxs("div",{className:"bg-white rounded-lg p-3 mb-3",children:[r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"50%"}})}),r.jsx("p",{className:"text-xs text-gray-500 text-center",children:"1 of 2 delivered"})]}),r.jsx("p",{className:"text-xs text-blue-700",children:"Auto-numbered: OUT-001, OUT-002..."})]}),r.jsxs("div",{className:"border-2 border-teal-200 rounded-xl p-4 bg-teal-50",children:[r.jsx("h4",{className:"font-semibold text-teal-900 mb-3 text-center",children:"Inbound (Sub  MFC)"}),r.jsx("p",{className:"text-sm text-teal-800 text-center mb-3",children:"Fabricated steel returning from sub to MFC"}),r.jsxs("div",{className:"bg-white rounded-lg p-3 mb-3",children:[r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"0%"}})}),r.jsx("p",{className:"text-xs text-gray-500 text-center",children:"0 of 2 delivered"})]}),r.jsx("p",{className:"text-xs text-teal-700",children:"Auto-numbered: IN-001, IN-002..."})]})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Quick Ship (Simple)"]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["For fast recording without details, click the",r.jsx("span",{className:"inline-flex items-center mx-1 px-2 py-0.5 rounded bg-white border border-gray-300 text-gray-700 text-xs font-semibold",children:"Quick"}),'button. This creates a Delivered load instantly  same as the old "+1 Load" workflow.']})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Detailed Load (Full Tracking)"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ae,{number:"1",children:["Click",r.jsxs("span",{className:"inline-flex items-center mx-1 px-2 py-0.5 rounded bg-blue-600 text-white text-xs font-semibold",children:[r.jsx(nt,{className:"w-3 h-3 mr-1"})," Load"]}),"in the appropriate column."]}),r.jsx(ae,{number:"2",children:"Fill in truck company, trailer number, driver, BOL, dates, weight, notes."}),r.jsxs(ae,{number:"3",children:["Click ",r.jsx("strong",{children:"Create Load"}),". The load appears as a card."]}),r.jsxs(ae,{number:"4",children:["Assign items or pallets using the ",r.jsx("strong",{children:"+"})," button on the load card."]}),r.jsx(ae,{number:"5",children:"Update status as it progresses using the inline dropdown."})]})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Load Status Flow"]}),r.jsx("div",{className:"flex flex-wrap items-center gap-1 py-2",children:[{label:"Planned",bg:"bg-gray-100",text:"text-gray-800"},{label:"Loading",bg:"bg-blue-100",text:"text-blue-800"},{label:"In Transit",bg:"bg-yellow-100",text:"text-yellow-800"},{label:"Delivered",bg:"bg-green-100",text:"text-green-800"}].map((n,s)=>r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:z("px-3 py-1 rounded-full text-xs font-semibold",n.bg,n.text),children:n.label}),s<3&&r.jsx(sl,{className:"w-4 h-4 text-gray-300"})]},s))})]}),r.jsx(er,{children:"Each load card has buttons to: assign items/pallets (+), edit, and delete. Expand a load to see its truck info, pallets, and direct items."})]})}),r.jsx(Ft,{icon:Gn,title:"Managing Pallets",color:"purple",children:r.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-4",children:[r.jsxs("p",{className:"text-sm text-gray-700",children:["The ",r.jsx("strong",{children:"Pallets Section"}),' lets you group "Parts on Pallets" items into named pallets before assigning them to loads.']}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-purple-500"}),"Creating a Pallet"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ae,{number:"1",children:["Click",r.jsxs("span",{className:"inline-flex items-center mx-1 px-2 py-0.5 rounded bg-blue-600 text-white text-xs font-semibold",children:[r.jsx(nt,{className:"w-3 h-3 mr-1"})," New Pallet"]}),"in the Pallets section."]}),r.jsx(ae,{number:"2",children:"Fill in weight, dimensions (L  W  H), photo URL, and notes."}),r.jsxs(ae,{number:"3",children:["Click ",r.jsx("strong",{children:"Create Pallet"}),". Auto-numbered as P-001, P-002, etc."]})]})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-purple-500"}),"Adding Items to a Pallet"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ae,{number:"1",children:["Click the ",r.jsx("strong",{children:"+"})," icon on a pallet card to open the item assigner."]}),r.jsx(ae,{number:"2",children:'Select items from the list (only shows "Parts on Pallets" type items not already on another pallet).'}),r.jsxs(ae,{number:"3",children:["Click ",r.jsx("strong",{children:"Assign to Pallet"}),"."]})]}),r.jsx(er,{children:"Expand a pallet to see all its assigned items. Click the trash icon on an item to remove it from the pallet."})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-purple-500"}),"Pallet Status Flow"]}),r.jsx("div",{className:"flex flex-wrap items-center gap-1 py-2",children:[{label:"Open",bg:"bg-gray-100",text:"text-gray-800"},{label:"Closed",bg:"bg-blue-100",text:"text-blue-800"},{label:"Loaded",bg:"bg-yellow-100",text:"text-yellow-800"},{label:"Shipped",bg:"bg-purple-100",text:"text-purple-800"},{label:"Received",bg:"bg-green-100",text:"text-green-800"}].map((n,s)=>r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:z("px-3 py-1 rounded-full text-xs font-semibold",n.bg,n.text),children:n.label}),s<4&&r.jsx(sl,{className:"w-4 h-4 text-gray-300"})]},s))})]}),r.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-purple-800",children:[r.jsx("strong",{children:"Assigning to a load:"})," Use the load dropdown on each pallet card to assign it to an outbound load. This also moves all items on the pallet to that load."]})})]})}),r.jsx(Ft,{icon:Eo,title:"Adding Items from Cutlists",color:"purple",children:r.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Items are pulled from the job's cutlist data (LongShapes, Parts, or PullList) and linked to a sub out for tracking."}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(ae,{number:"1",children:["Open a sub out's detail page and click",r.jsxs("span",{className:"inline-flex items-center mx-1 px-2 py-0.5 rounded bg-white border border-gray-300 text-gray-700 text-xs font-semibold",children:[r.jsx(nt,{className:"w-3 h-3 mr-1"})," Add Items"]}),"above the items table."]}),r.jsxs(ae,{number:"2",children:["In the Item Picker modal, ",r.jsx("strong",{children:"select a Package"})," from the dropdown. Packages are loaded from the job's cutlist data."]}),r.jsxs(ae,{number:"3",children:["Choose a tab to browse items. Each tab sets a default ",r.jsx("strong",{children:"send type"}),":",r.jsxs("div",{className:"mt-2 flex gap-2 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"px-3 py-1 rounded-t-lg bg-blue-100 text-blue-700 text-xs font-semibold border-b-2 border-blue-500",children:"LongShapes"}),r.jsx("span",{className:"text-xs text-gray-400",children:" Cut to Length"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"px-3 py-1 rounded-t-lg bg-gray-100 text-gray-600 text-xs font-semibold",children:"Parts"}),r.jsx("span",{className:"text-xs text-gray-400",children:" Parts on Pallets"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"px-3 py-1 rounded-t-lg bg-gray-100 text-gray-600 text-xs font-semibold",children:"PullList/Raw"}),r.jsx("span",{className:"text-xs text-gray-400",children:" Raw"})]})]})]}),r.jsxs(ae,{number:"4",children:["Use the ",r.jsx("strong",{children:"search box"})," to filter by mark, piece mark, or shape. Click individual rows to select them, or click ",r.jsx("strong",{children:'"Select all available"'})," for bulk selection."]}),r.jsxs(ae,{number:"5",children:["Items already assigned to another sub out appear ",r.jsx("strong",{children:"grayed out"})," with the assigned lot shown in",r.jsx("span",{className:"text-orange-600 font-semibold mx-1",children:"orange"}),"."]}),r.jsxs(ae,{number:"6",children:["Review the selection summary showing count, pieces, weight, and the ",r.jsx("strong",{children:"send type selector"}),". Override the default send type if needed, then click",r.jsx("span",{className:"inline-flex items-center mx-1 px-3 py-0.5 rounded bg-blue-600 text-white text-xs font-semibold",children:"Add Selected Items"}),"."]})]}),r.jsx(er,{children:"Items track their source (LongShapes, Parts, PullList), send type (Raw, Cut to Length, Parts on Pallets), and carry material data like Heat Number, Cert Number, and Barcode when available."})]})}),r.jsx(Ft,{icon:Et,title:"Editing & Deleting SubOuts",color:"amber",children:r.jsx("div",{className:"bg-white rounded-lg p-4 space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"border border-blue-200 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Et,{className:"w-5 h-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold text-blue-900",children:"Editing"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ae,{number:"1",children:"Open the sub out detail page"}),r.jsxs(ae,{number:"2",children:["Click",r.jsxs("span",{className:"inline-flex items-center mx-1 px-2 py-0.5 rounded bg-white border border-gray-300 text-gray-700 text-xs font-semibold",children:[r.jsx(Et,{className:"w-3 h-3 mr-1"})," Edit"]}),"in the top-right"]}),r.jsx(ae,{number:"3",children:"Modify fields as needed"}),r.jsxs(ae,{number:"4",children:["Click ",r.jsx("strong",{children:"Update SubOut"})," to save"]})]}),r.jsx("div",{className:"mt-3 bg-amber-50 border border-amber-200 rounded-lg px-3 py-2",children:r.jsxs("span",{className:"text-xs text-amber-800",children:[r.jsx("strong",{children:"Note:"})," Job and Lot Number cannot be changed after creation."]})})]}),r.jsxs("div",{className:"border border-red-200 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(ut,{className:"w-5 h-5 text-red-600"}),r.jsx("h4",{className:"font-semibold text-red-900",children:"Deleting"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ae,{number:"1",children:"Open the sub out detail page"}),r.jsxs(ae,{number:"2",children:["Click",r.jsxs("span",{className:"inline-flex items-center mx-1 px-2 py-0.5 rounded bg-red-600 text-white text-xs font-semibold",children:[r.jsx(ut,{className:"w-3 h-3 mr-1"})," Delete"]}),"in the top-right"]}),r.jsx(ae,{number:"3",children:"Confirm in the modal"})]}),r.jsx("div",{className:"mt-3 bg-red-50 border border-red-200 rounded-lg px-3 py-2",children:r.jsxs("span",{className:"text-xs text-red-800",children:[r.jsx("strong",{children:"Warning:"})," This permanently deletes the sub out and all its items, pallets, and loads. This cannot be undone."]})})]})]})})}),r.jsx(Ft,{icon:ql,title:"Managing Vendors",color:"teal",children:r.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-4",children:[r.jsxs("p",{className:"text-sm text-gray-700",children:["Vendors are the sub-fabrication companies you send work to. Navigate to ",r.jsx("strong",{children:"Vendors"})," in the sidebar."]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(nt,{className:"w-5 h-5 text-green-600"}),r.jsx("h4",{className:"font-semibold text-green-900",children:"Add Vendor"})]}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs(ae,{number:"1",children:["Click",r.jsxs("span",{className:"inline-flex items-center mx-1 px-2 py-0.5 rounded bg-blue-600 text-white text-xs font-semibold",children:[r.jsx(nt,{className:"w-3 h-3 mr-1"})," Add Vendor"]})]}),r.jsx(ae,{number:"2",children:"Fill in Vendor Name (required), Contact, Phone, Email, Address, Notes"}),r.jsxs(ae,{number:"3",children:["Click ",r.jsx("strong",{children:"Create"})]})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Et,{className:"w-5 h-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold text-blue-900",children:"Edit Vendor"})]}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs(ae,{number:"1",children:["Click the ",r.jsx(Et,{className:"w-3 h-3 inline text-gray-400"})," pencil icon on the vendor card"]}),r.jsx(ae,{number:"2",children:"Update any fields"}),r.jsxs(ae,{number:"3",children:["Click ",r.jsx("strong",{children:"Update"})]})]})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(ut,{className:"w-5 h-5 text-red-600"}),r.jsx("h4",{className:"font-semibold text-red-900",children:"Deactivate Vendor"})]}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs(ae,{number:"1",children:["Click the ",r.jsx(ut,{className:"w-3 h-3 inline text-gray-400"})," trash icon on the vendor card"]}),r.jsx(ae,{number:"2",children:"Confirm deactivation"})]}),r.jsxs("div",{className:"mt-2 text-xs text-red-700",children:["Vendors are ",r.jsx("strong",{children:"soft-deleted"})," (marked inactive, shown faded). They are not permanently removed."]})]})]})]})}),r.jsx(Ft,{icon:Fn,title:"Status Flow & Lifecycle",color:"green",children:r.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-700",children:"Each sub out progresses through these statuses. Update the status via the Edit page."}),r.jsx("div",{className:"flex flex-wrap items-center justify-center gap-1 py-2",children:[{label:"Pending",bg:"bg-gray-100",text:"text-gray-800",desc:"Awaiting action"},{label:"Ready",bg:"bg-blue-100",text:"text-blue-800",desc:"Ready to ship from MFC"},{label:"Sent",bg:"bg-yellow-100",text:"text-yellow-800",desc:"Shipped to sub"},{label:"InProcess",bg:"bg-orange-100",text:"text-orange-800",desc:"Being fabricated"},{label:"Shipped",bg:"bg-purple-100",text:"text-purple-800",desc:"Shipped back to MFC"},{label:"Received",bg:"bg-teal-100",text:"text-teal-800",desc:"Received at MFC"},{label:"QCd",bg:"bg-green-100",text:"text-green-800",desc:"Quality checked"},{label:"Complete",bg:"bg-green-200",text:"text-green-900",desc:"Done"}].map((n,s)=>r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("span",{className:z("inline-block px-3 py-1 rounded-full text-xs font-semibold",n.bg,n.text),children:n.label}),r.jsx("div",{className:"text-[10px] text-gray-400 mt-0.5",children:n.desc})]}),s<7&&r.jsx(sl,{className:"w-4 h-4 text-gray-300 flex-shrink-0"})]},s))}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Status Details"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-24 px-2 py-1 text-center rounded bg-gray-100 text-gray-800 text-xs font-semibold",children:"Pending"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Initial state when a sub out is first created. No action has been taken."})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-24 px-2 py-1 text-center rounded bg-blue-100 text-blue-800 text-xs font-semibold",children:"Ready"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Steel is staged and ready to load at MFC for shipment to the sub-fabricator."})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-24 px-2 py-1 text-center rounded bg-yellow-100 text-yellow-800 text-xs font-semibold",children:"Sent"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Steel has left MFC and is in transit or delivered to the sub-fabricator."})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-24 px-2 py-1 text-center rounded bg-orange-100 text-orange-800 text-xs font-semibold",children:"InProcess"}),r.jsx("span",{className:"text-sm text-gray-600",children:"The sub-fabricator is actively working on fabrication."})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-24 px-2 py-1 text-center rounded bg-purple-100 text-purple-800 text-xs font-semibold",children:"Shipped"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Fabricated steel has been shipped from the sub back toward MFC."})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-24 px-2 py-1 text-center rounded bg-teal-100 text-teal-800 text-xs font-semibold",children:"Received"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Steel has been received back at MFC."})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-24 px-2 py-1 text-center rounded bg-green-100 text-green-800 text-xs font-semibold",children:"QCd"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Quality control check has been performed on the returned steel."})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-24 px-2 py-1 text-center rounded bg-green-200 text-green-900 text-xs font-semibold",children:"Complete"}),r.jsx("span",{className:"text-sm text-gray-600",children:"All work is done. No further action required."})]})]})]})]})}),r.jsx(Ft,{icon:Gn,title:"All SubOuts List & Job View",color:"purple",children:r.jsx("div",{className:"bg-white rounded-lg p-4 space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"border border-purple-200 rounded-xl p-4",children:[r.jsxs("h4",{className:"font-semibold text-purple-900 mb-2 flex items-center gap-2",children:[r.jsx(Gn,{className:"w-5 h-5 text-purple-600"}),"All SubOuts Page"]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["A flat table of every sub out record in the system. Access via ",r.jsx("strong",{children:"All SubOuts"})," in the sidebar."]}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1.5",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Fn,{className:"w-4 h-4 text-purple-400 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:["Filter by ",r.jsx("strong",{children:"Vendor"})," or ",r.jsx("strong",{children:"Status"})]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Fn,{className:"w-4 h-4 text-purple-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Shows result count"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Fn,{className:"w-4 h-4 text-purple-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Columns: Job, Lot, Description, Vendor, Dates, Loads, Weight, Pieces, Status"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(qh,{className:"w-4 h-4 text-purple-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Click any row to open its detail page"})]})]})]}),r.jsxs("div",{className:"border border-indigo-200 rounded-xl p-4",children:[r.jsxs("h4",{className:"font-semibold text-indigo-900 mb-2 flex items-center gap-2",children:[r.jsx(Lo,{className:"w-5 h-5 text-indigo-600"}),"Job View Page"]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"See all sub outs for a single job. Access by clicking a job name anywhere in the app."}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1.5",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Fn,{className:"w-4 h-4 text-indigo-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Shows job code, description, and project manager"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Fn,{className:"w-4 h-4 text-indigo-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Sub outs displayed as cards in a responsive grid"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(qh,{className:"w-4 h-4 text-indigo-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Click any card to open the sub out detail"})]})]})]})]})})}),r.jsx("div",{className:"text-center text-xs text-gray-400 py-4",children:"MFC SubOuts Tracker v1.0  Internal Use Only"})]})]})}function $1({appId:e,userId:t,serverUrl:n,apiKey:s,metadata:l,onToolResult:a}){const[i,o]=w.useState([]),[c,u]=w.useState(!1),[h,d]=w.useState(null),[g,j]=w.useState(null),m=w.useRef(null),y=w.useCallback(async x=>{if(!x.trim()||c)return;j(null),u(!0);const b={role:"user",content:x,timestamp:new Date};o(I=>[...I,b]);const R=Date.now();o(I=>[...I,{id:R,role:"assistant",content:"",toolCalls:[],timestamp:new Date,streaming:!0}]);try{const I=new AbortController;m.current=I;const S=await fetch(`${n}/api/chat/stream`,{method:"POST",headers:{"Content-Type":"application/json",...s?{"x-api-key":s}:{}},body:JSON.stringify({message:x,appContext:{appId:e,userId:t,metadata:l},conversationId:h}),signal:I.signal});if(!S.ok)throw new Error(`Server returned ${S.status}`);const P=S.body.getReader(),_=new TextDecoder;let O="",M=null;for(;;){const{done:Q,value:J}=await P.read();if(Q)break;O+=_.decode(J,{stream:!0});const X=O.split(`
`);O=X.pop()||"";for(const k of X)if(k.startsWith("event: "))M=k.slice(7).trim();else if(k.startsWith("data: ")&&M){try{const T=JSON.parse(k.slice(6));v(M,T,R)}catch{}M=null}}o(Q=>Q.map(J=>J.id===R?{...J,streaming:!1}:J))}catch(I){I.name!=="AbortError"&&(j(I.message),o(S=>S.filter(P=>P.id!==R)))}u(!1)},[e,t,n,s,l,h,c,a]);function v(x,b,R){switch(x){case"message_start":b.conversationId&&d(b.conversationId);break;case"content_delta":o(I=>I.map(S=>S.id===R?{...S,content:S.content+(b.text||"")}:S));break;case"tool_use":o(I=>I.map(S=>S.id===R?{...S,toolCalls:[...S.toolCalls||[],{tool:b.tool,input:b.input,status:"running"}]}:S));break;case"tool_result":o(I=>I.map(S=>{if(S.id!==R)return S;const P=(S.toolCalls||[]).map(_=>_.tool===b.tool&&_.status==="running"?{..._,result:b.result,status:"done"}:_);return{...S,toolCalls:P}})),a&&a(b.tool,b.result);break;case"error":j(b.error||"Unknown error");break}}const f=w.useCallback(()=>{m.current&&m.current.abort(),o([]),d(null),j(null),u(!1)},[]),p=w.useCallback(()=>{m.current&&(m.current.abort(),u(!1))},[]);return{messages:i,isLoading:c,error:g,conversationId:h,sendMessage:y,clearConversation:f,stopStreaming:p}}function Q1({title:e,expanded:t,onToggleExpand:n,onClear:s,onClose:l}){return r.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-slate-900 text-white rounded-t-xl",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kc,{className:"w-5 h-5 text-primary-400"}),r.jsx("span",{className:"text-sm font-semibold",children:e||"MFCCortex"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:s,className:"p-1.5 rounded hover:bg-slate-700 transition-colors",title:"Clear conversation",children:r.jsx(ut,{className:"w-3.5 h-3.5 text-slate-400"})}),r.jsx("button",{onClick:n,className:"p-1.5 rounded hover:bg-slate-700 transition-colors",title:t?"Collapse":"Expand",children:t?r.jsx(Cb,{className:"w-3.5 h-3.5 text-slate-400"}):r.jsx(wb,{className:"w-3.5 h-3.5 text-slate-400"})}),r.jsx("button",{onClick:l,className:"p-1.5 rounded hover:bg-slate-700 transition-colors",title:"Close",children:r.jsx(Wl,{className:"w-3.5 h-3.5 text-slate-400"})})]})]})}function q1({toolCall:e}){const[t,n]=w.useState(!1),s=e.status==="running";return r.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden bg-white text-sm",children:[r.jsxs("button",{onClick:()=>n(!t),className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-slate-50 transition-colors text-left",children:[s?r.jsx(bb,{className:"w-3.5 h-3.5 text-blue-500 animate-spin shrink-0"}):r.jsx(Fn,{className:"w-3.5 h-3.5 text-green-500 shrink-0"}),r.jsx(Tb,{className:"w-3.5 h-3.5 text-slate-400 shrink-0"}),r.jsx("span",{className:"font-mono text-xs text-slate-700 flex-1 truncate",children:e.tool}),t?r.jsx(us,{className:"w-3.5 h-3.5 text-slate-400 shrink-0"}):r.jsx(Vs,{className:"w-3.5 h-3.5 text-slate-400 shrink-0"})]}),t&&r.jsxs("div",{className:"border-t border-slate-200 px-3 py-2 space-y-2",children:[e.input&&r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] uppercase tracking-wider text-slate-400 font-semibold mb-1",children:"Input"}),r.jsx("pre",{className:"text-xs font-mono text-slate-600 bg-slate-50 rounded p-2 overflow-x-auto max-h-32 overflow-y-auto",children:JSON.stringify(e.input,null,2)})]}),e.result&&r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] uppercase tracking-wider text-slate-400 font-semibold mb-1",children:"Result"}),r.jsx("pre",{className:"text-xs font-mono text-slate-600 bg-green-50 rounded p-2 overflow-x-auto max-h-40 overflow-y-auto",children:JSON.stringify(e.result,null,2)})]})]})]})}function W1({message:e}){var n,s;const t=e.role==="user";return r.jsxs("div",{className:`flex gap-2.5 ${t?"flex-row-reverse":"flex-row"}`,children:[r.jsx("div",{className:`shrink-0 w-7 h-7 rounded-full flex items-center justify-center ${t?"bg-primary-600":"bg-slate-200"}`,children:t?r.jsx(mx,{className:"w-3.5 h-3.5 text-white"}):r.jsx(hb,{className:"w-3.5 h-3.5 text-slate-600"})}),r.jsxs("div",{className:`flex flex-col gap-2 max-w-[85%] ${t?"items-end":"items-start"}`,children:[(((n=e.toolCalls)==null?void 0:n.length)??0)>0&&r.jsx("div",{className:"space-y-2 w-full",children:e.toolCalls.map((l,a)=>r.jsx(q1,{toolCall:l},a))}),e.content&&r.jsx("div",{className:`rounded-xl px-3.5 py-2.5 text-sm leading-relaxed ${t?"bg-primary-600 text-white rounded-br-md":"bg-slate-100 text-slate-800 rounded-bl-md"}`,children:r.jsx(V1,{text:e.content})}),e.streaming&&!e.content&&(((s=e.toolCalls)==null?void 0:s.length)??0)===0&&r.jsx("div",{className:"bg-slate-100 rounded-xl px-3.5 py-2.5 rounded-bl-md",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),r.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),r.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})]})}function V1({text:e}){const t=e.split(/(\*\*.*?\*\*|`[^`]+`|\n)/g);return r.jsx(r.Fragment,{children:t.map((n,s)=>n===`
`?r.jsx("br",{},s):n.startsWith("**")&&n.endsWith("**")?r.jsx("strong",{children:n.slice(2,-2)},s):n.startsWith("`")&&n.endsWith("`")?r.jsx("code",{className:"px-1 py-0.5 bg-black/10 rounded text-xs font-mono",children:n.slice(1,-1)},s):r.jsx("span",{children:n},s))})}function K1({onSend:e,onStop:t,isLoading:n,placeholder:s}){const[l,a]=w.useState(""),i=w.useRef(null);w.useEffect(()=>{i.current&&(i.current.style.height="auto",i.current.style.height=Math.min(i.current.scrollHeight,120)+"px")},[l]);function o(u){u.preventDefault(),!(!l.trim()||n)&&(e(l.trim()),a(""))}function c(u){u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),o(u))}return r.jsx("form",{onSubmit:o,className:"border-t border-slate-200 bg-white p-3 rounded-b-xl",children:r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsx("textarea",{ref:i,value:l,onChange:u=>a(u.target.value),onKeyDown:c,placeholder:s||"Type a message...",rows:1,className:"flex-1 resize-none rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent placeholder:text-slate-400",disabled:n}),n?r.jsx("button",{type:"button",onClick:t,className:"shrink-0 p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",title:"Stop",children:r.jsx(Eb,{className:"w-4 h-4"})}):r.jsx("button",{type:"submit",disabled:!l.trim(),className:"shrink-0 p-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-40 disabled:hover:bg-primary-600 transition-colors",title:"Send",children:r.jsx(Pb,{className:"w-4 h-4"})})]})})}const al={serverUrl:`http://${window.location.hostname}:7777`,position:"bottom-right",title:"MFCCortex",placeholder:"Ask me anything...",initialMessage:"Hi! I'm your MFCCortex AI assistant for SubOuts. I can help with sub-out tracking, vendor info, job details, and more."};function H1({appId:e,userId:t,serverUrl:n=al.serverUrl,apiKey:s,position:l=al.position,title:a=al.title,placeholder:i=al.placeholder,initialMessage:o=al.initialMessage,metadata:c,onToolResult:u}){const[h,d]=w.useState(!1),[g,j]=w.useState(!1),m=w.useRef(null),{messages:y,isLoading:v,error:f,sendMessage:p,clearConversation:x,stopStreaming:b}=$1({appId:e,userId:t,serverUrl:n,apiKey:s,metadata:c,onToolResult:u});w.useEffect(()=>{var P;(P=m.current)==null||P.scrollIntoView({behavior:"smooth"})},[y]);const R=l==="bottom-left"?"left-5":"right-5";if(!h)return r.jsx("button",{onClick:()=>d(!0),className:`fixed bottom-5 ${R} z-50 w-14 h-14 bg-slate-900 text-white rounded-full shadow-lg hover:bg-slate-800 transition-all hover:scale-105 flex items-center justify-center`,title:"Open MFCCortex Chat",children:r.jsx(Kc,{className:"w-6 h-6 text-primary-400"})});const I=g?"w-[40vw] min-w-[500px]":"w-[400px]",S=g?"h-[85vh]":"h-[600px]";return r.jsxs("div",{className:`fixed bottom-5 ${R} z-50 ${I} ${S} flex flex-col rounded-xl shadow-2xl border border-slate-200 bg-white overflow-hidden transition-all duration-200`,children:[r.jsx(Q1,{title:a,expanded:g,onToggleExpand:()=>j(!g),onClear:x,onClose:()=>d(!1)}),r.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-4 bg-white",children:[y.length===0&&o&&r.jsxs("div",{className:"flex gap-2.5",children:[r.jsx("div",{className:"shrink-0 w-7 h-7 rounded-full bg-slate-200 flex items-center justify-center",children:r.jsx(Kc,{className:"w-3.5 h-3.5 text-slate-600"})}),r.jsx("div",{className:"bg-slate-100 rounded-xl rounded-bl-md px-3.5 py-2.5 text-sm text-slate-800 max-w-[85%]",children:o})]}),y.map((P,_)=>r.jsx(W1,{message:P},P.id||_)),f&&r.jsx("div",{className:"mx-auto max-w-[90%] bg-red-50 border border-red-200 text-red-700 text-xs rounded-lg px-3 py-2 text-center",children:f}),r.jsx("div",{ref:m})]}),r.jsx(K1,{onSend:p,onStop:b,isLoading:v,placeholder:i})]})}function J1(){const{currentUser:e,setCurrentUser:t,users:n}=sa();return e?null:r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm mx-4",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(mx,{className:"w-8 h-8 text-primary-600"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Welcome to SubOuts"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Who are you?"})]}),r.jsx("div",{className:"space-y-2",children:n.map(s=>r.jsxs("button",{onClick:()=>t(s),className:"w-full px-4 py-3 text-left rounded-lg border border-gray-200 hover:border-primary-500 hover:bg-primary-50 transition-colors flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 font-semibold",children:s.charAt(0)}),r.jsx("span",{className:"font-medium text-gray-900",children:s})]},s))})]})})}function G1(){const{sidebarOpen:e,currentUser:t}=sa(),n=ue(),s=(l,a)=>{l==="log_fabricator_communication"&&(a!=null&&a.success)&&(n.invalidateQueries({queryKey:["communications"]}),n.invalidateQueries({queryKey:["vendors"]})),l==="update_subout_status"&&(a!=null&&a.success)&&(n.invalidateQueries({queryKey:["subouts"]}),n.invalidateQueries({queryKey:["dashboard"]})),["create_subout","add_subout_items","remove_subout_items","update_item_send_type"].includes(l)&&(a!=null&&a.success)&&(n.invalidateQueries({queryKey:["subouts"]}),n.invalidateQueries({queryKey:["dashboard"]})),["create_pallet","assign_items_to_pallet","update_pallet_status"].includes(l)&&(a!=null&&a.success)&&(n.invalidateQueries({queryKey:["subouts"]}),n.invalidateQueries({queryKey:["pallets"]})),["create_load","assign_items_to_load","update_load_status"].includes(l)&&(a!=null&&a.success)&&(n.invalidateQueries({queryKey:["subouts"]}),n.invalidateQueries({queryKey:["loads"]}),n.invalidateQueries({queryKey:["dashboard"]}))};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(J1,{}),r.jsx(Fb,{}),r.jsxs("div",{className:"flex",children:[r.jsx(Ab,{}),r.jsx("main",{className:`flex-1 p-6 transition-all duration-300 ${e?"ml-64":"ml-16"}`,children:r.jsxs(Kv,{children:[r.jsx(rn,{path:"/",element:r.jsx(ON,{})}),r.jsx(rn,{path:"/subouts",element:r.jsx(AN,{})}),r.jsx(rn,{path:"/subouts/new",element:r.jsx(P1,{})}),r.jsx(rn,{path:"/subouts/:id",element:r.jsx(w1,{})}),r.jsx(rn,{path:"/subouts/:id/edit",element:r.jsx(E1,{})}),r.jsx(rn,{path:"/archived",element:r.jsx(z1,{})}),r.jsx(rn,{path:"/vendors",element:r.jsx(A1,{})}),r.jsx(rn,{path:"/jobs/:jobCode",element:r.jsx(U1,{})}),r.jsx(rn,{path:"/settings",element:r.jsx(B1,{})})]})})]}),r.jsx(H1,{appId:"subouts",userId:t||"guest",onToolResult:s})]})}const X1=new Wy({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1,refetchOnWindowFocus:!1}}});Fo.createRoot(document.getElementById("root")).render(r.jsx($f.StrictMode,{children:r.jsx(Vy,{client:X1,children:r.jsx(nb,{children:r.jsx(Db,{children:r.jsx(G1,{})})})})}));
